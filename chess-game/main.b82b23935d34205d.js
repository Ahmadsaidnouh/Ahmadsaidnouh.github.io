(self.webpackChunkchess_game1=self.webpackChunkchess_game1||[]).push([[179],{193:(kr,_s,Jl)=>{"use strict";function He(n){return"function"==typeof n}function b(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const ec=b(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function vs(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Ct{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(He(r))try{r()}catch(s){e=s instanceof ec?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{ha(s)}catch(a){e=null!=e?e:[],a instanceof ec?e=[...e,...a.errors]:e.push(a)}}if(e)throw new ec(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ha(e);else{if(e instanceof Ct){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&vs(t,e)}remove(e){const{_finalizers:t}=this;t&&vs(t,e),e instanceof Ct&&e._removeParent(this)}}Ct.EMPTY=(()=>{const n=new Ct;return n.closed=!0,n})();const mn=Ct.EMPTY;function ef(n){return n instanceof Ct||n&&"closed"in n&&He(n.remove)&&He(n.add)&&He(n.unsubscribe)}function ha(n){He(n)?n():n.unsubscribe()}const Hi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ui={setTimeout(n,e,...t){const{delegate:r}=Ui;return(null==r?void 0:r.setTimeout)?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Ui;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function Lr(n){Ui.setTimeout(()=>{const{onUnhandledError:e}=Hi;if(!e)throw n;e(n)})}function pa(){}const ys=tn("C",void 0,void 0);function tn(n,e,t){return{kind:n,value:e,error:t}}let _n=null;function mo(n){if(Hi.useDeprecatedSynchronousErrorHandling){const e=!_n;if(e&&(_n={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=_n;if(_n=null,t)throw r}}else n()}class pi extends Ct{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ef(e)&&e.add(this)):this.destination=jg}static create(e,t,r){return new Br(e,t,r)}next(e){this.isStopped?tc(function ga(n){return tn("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?tc(function ws(n){return tn("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?tc(ys,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ur=Function.prototype.bind;function gi(n,e){return ur.call(n,e)}class Nr{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ds(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ds(r)}else Ds(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ds(t)}}}class Br extends pi{constructor(e,t,r){let i;if(super(),He(e)||!e)i={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=r?r:void 0};else{let s;this&&Hi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&gi(e.next,s),error:e.error&&gi(e.error,s),complete:e.complete&&gi(e.complete,s)}):i=e}this.destination=new Nr(i)}}function Ds(n){Hi.useDeprecatedSynchronousErrorHandling?function cr(n){Hi.useDeprecatedSynchronousErrorHandling&&_n&&(_n.errorThrown=!0,_n.error=n)}(n):Lr(n)}function tc(n,e){const{onStoppedNotification:t}=Hi;t&&Ui.setTimeout(()=>t(n,e))}const jg={closed:!0,next:pa,error:function Vg(n){throw n},complete:pa},nc="function"==typeof Symbol&&Symbol.observable||"@@observable";function mi(n){return n}let Le=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function ma(n){return n&&n instanceof pi||function Wg(n){return n&&He(n.next)&&He(n.error)&&He(n.complete)}(n)&&ef(n)}(t)?t:new Br(t,r,i);return mo(()=>{const{operator:a,source:c}=this;s.add(a?a.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Hr(r))((i,s)=>{const a=new Br({next:c=>{try{t(c)}catch(u){s(u),a.unsubscribe()}},error:s,complete:i});this.subscribe(a)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[nc](){return this}pipe(...t){return function tf(n){return 0===n.length?mi:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=Hr(t))((r,i)=>{let s;this.subscribe(a=>s=a,a=>i(a),()=>r(s))})}}return n.create=e=>new n(e),n})();function Hr(n){var e;return null!==(e=null!=n?n:Hi.Promise)&&void 0!==e?e:Promise}const dr=b(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Oe=(()=>{class n extends Le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new nf(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new dr}next(t){mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?mn:(this.currentObservers=null,s.push(t),new Ct(()=>{this.currentObservers=null,vs(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Le;return t.source=this,t}}return n.create=(e,t)=>new nf(e,t),n})();class nf extends Oe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:mn}}function rf(n){return He(null==n?void 0:n.lift)}function qe(n){return e=>{if(rf(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ye(n,e,t,r,i){return new $g(n,e,t,r,i)}class $g extends pi{constructor(e,t,r,i,s,a){super(e),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Me(n,e){return qe((t,r)=>{let i=0;t.subscribe(Ye(r,s=>{r.next(n.call(e,s,i++))}))})}function fr(n){return this instanceof fr?(this.v=n,this):new fr(n)}function wa(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(y){r[y]&&(i[y]=function(D){return new Promise(function(T,R){s.push([y,D,T,R])>1||c(y,D)})})}function c(y,D){try{!function u(y){y.value instanceof fr?Promise.resolve(y.value.v).then(f,p):g(s[0][2],y)}(r[y](D))}catch(T){g(s[0][3],T)}}function f(y){c("next",y)}function p(y){c("throw",y)}function g(y,D){y(D),s.shift(),s.length&&c(s[0][0],s[0][1])}}function Da(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function rc(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(a){return new Promise(function(c,u){!function i(s,a,c,u){Promise.resolve(u).then(function(f){s({value:f,done:c})},a)}(c,u,(a=n[s](a)).done,a.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const cf=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function uf(n){return He(null==n?void 0:n.then)}function df(n){return He(n[nc])}function uc(n){return Symbol.asyncIterator&&He(null==n?void 0:n[Symbol.asyncIterator])}function ff(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const hf=function Xg(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ca(n){return He(null==n?void 0:n[hf])}function pf(n){return wa(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield fr(t.read());if(i)return yield fr(void 0);yield yield fr(r)}}finally{t.releaseLock()}})}function ba(n){return He(null==n?void 0:n.getReader)}function Fn(n){if(n instanceof Le)return n;if(null!=n){if(df(n))return function Jg(n){return new Le(e=>{const t=n[nc]();if(He(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(cf(n))return function em(n){return new Le(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(uf(n))return function tm(n){return new Le(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Lr)})}(n);if(uc(n))return gf(n);if(Ca(n))return function nm(n){return new Le(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(ba(n))return function rm(n){return gf(pf(n))}(n)}throw ff(n)}function gf(n){return new Le(e=>{(function im(n,e){var t,r,i,s;return function bs(n,e,t,r){return new(t||(t=Promise))(function(s,a){function c(p){try{f(r.next(p))}catch(g){a(g)}}function u(p){try{f(r.throw(p))}catch(g){a(g)}}function f(p){p.done?s(p.value):function i(s){return s instanceof t?s:new t(function(a){a(s)})}(p.value).then(c,u)}f((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Da(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(a){i={error:a}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function hr(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function At(n,e,t=1/0){return He(e)?At((r,i)=>Me((s,a)=>e(r,s,i,a))(Fn(n(r,i))),t):("number"==typeof e&&(t=e),qe((r,i)=>function sm(n,e,t,r,i,s,a,c){const u=[];let f=0,p=0,g=!1;const y=()=>{g&&!u.length&&!f&&e.complete()},D=R=>f<r?T(R):u.push(R),T=R=>{s&&e.next(R),f++;let O=!1;Fn(t(R,p++)).subscribe(Ye(e,H=>{null==i||i(H),s?D(H):e.next(H)},()=>{O=!0},void 0,()=>{if(O)try{for(f--;u.length&&f<r;){const H=u.shift();a?hr(e,a,()=>T(H)):T(H)}y()}catch(H){e.error(H)}}))};return n.subscribe(Ye(e,D,()=>{g=!0,y()})),()=>{null==c||c()}}(r,i,n,t)))}function vo(n=1/0){return At(mi,n)}const Ur=new Le(n=>n.complete());function yo(n){return n&&He(n.schedule)}function dc(n){return n[n.length-1]}function wo(n){return yo(dc(n))?n.pop():void 0}function mf(n,e=0){return qe((t,r)=>{t.subscribe(Ye(r,i=>hr(r,n,()=>r.next(i),e),()=>hr(r,n,()=>r.complete(),e),i=>hr(r,n,()=>r.error(i),e)))})}function fc(n,e=0){return qe((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function yf(n,e){if(!n)throw new Error("Iterable cannot be null");return new Le(t=>{hr(t,e,()=>{const r=n[Symbol.asyncIterator]();hr(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Rt(n,e){return e?function wf(n,e){if(null!=n){if(df(n))return function _f(n,e){return Fn(n).pipe(fc(e),mf(e))}(n,e);if(cf(n))return function lm(n,e){return new Le(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(uf(n))return function vf(n,e){return Fn(n).pipe(fc(e),mf(e))}(n,e);if(uc(n))return yf(n,e);if(Ca(n))return function cm(n,e){return new Le(t=>{let r;return hr(t,e,()=>{r=n[hf](),hr(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(a){return void t.error(a)}s?t.complete():t.next(i)},0,!0)}),()=>He(null==r?void 0:r.return)&&r.return()})}(n,e);if(ba(n))return function um(n,e){return yf(pf(n),e)}(n,e)}throw ff(n)}(n,e):Fn(n)}function Ia(...n){const e=wo(n),t=function am(n,e){return"number"==typeof dc(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Fn(r[0]):vo(t)(Rt(r,e)):Ur}function pc(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Br({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function Ne(n){for(let e in n)if(n[e]===Ne)return e;throw Error("Could not find renamed property on target object.")}function xe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(xe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function gc(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Df=Ne({__forward_ref__:Ne});function Sa(n){return n.__forward_ref__=Sa,n.toString=function(){return xe(this())},n}function de(n){return function Cf(n){return"function"==typeof n&&n.hasOwnProperty(Df)&&n.__forward_ref__===Sa}(n)?n():n}class Te extends Error{constructor(e,t){super(function Do(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function ne(n){return"string"==typeof n?n:null==n?"":String(n)}function Ht(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ne(n)}function Co(n,e){const t=e?` in ${e}`:"";throw new Te(-201,`No provider for ${Ht(n)} found${t}`)}function vn(n,e){null==n&&function Ge(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function me(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function qn(n){return{providers:n.providers||[],imports:n.imports||[]}}function mc(n){return If(n,pt)||If(n,Ts)}function If(n,e){return n.hasOwnProperty(e)?n[e]:null}function Tf(n){return n&&(n.hasOwnProperty(Ta)||n.hasOwnProperty(Af))?n[Ta]:null}const pt=Ne({\u0275prov:Ne}),Ta=Ne({\u0275inj:Ne}),Ts=Ne({ngInjectableDef:Ne}),Af=Ne({ngInjectorDef:Ne});var se=(()=>((se=se||{})[se.Default=0]="Default",se[se.Host=1]="Host",se[se.Self=2]="Self",se[se.SkipSelf=4]="SkipSelf",se[se.Optional=8]="Optional",se))();let rn;function jr(n){const e=rn;return rn=n,e}function _c(n,e,t){const r=mc(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&se.Optional?null:void 0!==e?e:void Co(xe(n),"Injector")}function Wr(n){return{toString:n}.toString()}var On=(()=>((On=On||{})[On.OnPush=0]="OnPush",On[On.Default=1]="Default",On))(),ot=(()=>{return(n=ot||(ot={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ot;var n})();const wm="undefined"!=typeof globalThis&&globalThis,xf="undefined"!=typeof window&&window,vi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Pe=wm||"undefined"!=typeof global&&global||xf||vi,yi={},Ue=[],As=Ne({\u0275cmp:Ne}),yc=Ne({\u0275dir:Ne}),wc=Ne({\u0275pipe:Ne}),Pf=Ne({\u0275mod:Ne}),pr=Ne({\u0275fac:Ne}),wi=Ne({__NG_ELEMENT_ID__:Ne});let Ms=0;function Di(n){return Wr(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===On.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Ue,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ot.Emulated,id:"c",styles:n.styles||Ue,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,a=n.pipes;return r.id+=Ms++,r.inputs=xa(n.inputs,t),r.outputs=xa(n.outputs),s&&s.forEach(c=>c(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(Dc):null,r.pipeDefs=a?()=>("function"==typeof a?a():a).map(Aa):null,r})}function Dc(n){return Ft(n)||function gt(n){return n[yc]||null}(n)}function Aa(n){return function $r(n){return n[wc]||null}(n)}const Ma={};function Zn(n){return Wr(()=>{const e={type:n.type,bootstrap:n.bootstrap||Ue,declarations:n.declarations||Ue,imports:n.imports||Ue,exports:n.exports||Ue,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Ma[n.id]=n.type),e})}function xa(n,e){if(null==n)return yi;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const bt=Di;function sn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ft(n){return n[As]||null}function Ut(n,e){const t=n[Pf]||null;if(!t&&!0===e)throw new Error(`Type ${xe(n)} does not have '\u0275mod' property.`);return t}const X=11,I=19,x=20;function Q(n){return Array.isArray(n)&&"object"==typeof n[1]}function pe(n){return Array.isArray(n)&&!0===n[1]}function ct(n){return 0!=(8&n.flags)}function Re(n){return 2==(2&n.flags)}function Rs(n){return 1==(1&n.flags)}function Yn(n){return null!==n.template}function Ln(n){return 0!=(512&n[2])}function yn(n,e){return n.hasOwnProperty(pr)?n[pr]:null}class ka{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Gr(){return Ff}function Ff(n){return n.type.prototype.ngOnChanges&&(n.setInput=La),Tm}function Tm(){const n=Na(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===yi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function La(n,e,t,r){const i=Na(n)||function Am(n,e){return n[Ao]=e}(n,{previous:yi,current:null}),s=i.current||(i.current={}),a=i.previous,c=this.declaredInputs[t],u=a[c];s[c]=new ka(u&&u.currentValue,e,a===yi),n[r]=e}Gr.ngInherit=!0;const Ao="__ngSimpleChanges__";function Na(n){return n[Ao]||null}let Fc;function Ki(){return void 0!==Fc?Fc:"undefined"!=typeof document?document:void 0}function Ve(n){return!!n.listen}const Os={createRenderer:(n,e)=>Ki()};function Je(n){for(;Array.isArray(n);)n=n[0];return n}function Ha(n,e){return Je(e[n])}function Bn(n,e){return Je(e[n.index])}function kc(n,e){return n.data[e]}function Kr(n,e){return n[e]}function kt(n,e){const t=e[n];return Q(t)?t:t[0]}function Lc(n){return 4==(4&n[2])}function _(n){return 128==(128&n[2])}function Xn(n,e){return null==e?null:n[e]}function wn(n){n[18]=0}function De(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const ae={lFrame:Uc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Lf(){return ae.bindingsEnabled}function N(){return ae.lFrame.lView}function fe(){return ae.lFrame.tView}function cn(n){return ae.lFrame.contextLView=n,n[8]}function Et(){let n=Nf();for(;null!==n&&64===n.type;)n=n.parent;return n}function Nf(){return ae.lFrame.currentTNode}function gr(n,e){const t=ae.lFrame;t.currentTNode=n,t.isParent=e}function Jn(){return ae.lFrame.isParent}function Ua(){return ae.isInCheckNoChangesMode}function Va(n){ae.isInCheckNoChangesMode=n}function dt(){const n=ae.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Wt(){return ae.lFrame.bindingIndex++}function Bm(n,e){const t=ae.lFrame;t.bindingIndex=t.bindingRootIndex=n,ja(e)}function ja(n){ae.lFrame.currentDirectiveIndex=n}function Uf(){return ae.lFrame.currentQueryIndex}function Bc(n){ae.lFrame.currentQueryIndex=n}function Hc(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function Ns(n,e,t){if(t&se.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&se.Host||(i=Hc(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=ae.lFrame=Vf();return r.currentTNode=e,r.lView=n,!0}function Zi(n){const e=Vf(),t=n[1];ae.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Vf(){const n=ae.lFrame,e=null===n?null:n.child;return null===e?Uc(n):e}function Uc(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function jf(){const n=ae.lFrame;return ae.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const mr=jf;function Bs(){const n=jf();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Kt(){return ae.lFrame.selectedIndex}function Qr(n){ae.lFrame.selectedIndex=n}function et(){const n=ae.lFrame;return kc(n.tView,n.selectedIndex)}function Yr(){ae.lFrame.currentNamespace="svg"}function Po(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:f,ngOnDestroy:p}=s;a&&(n.contentHooks||(n.contentHooks=[])).push(-t,a),c&&((n.contentHooks||(n.contentHooks=[])).push(t,c),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,c)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),f&&((n.viewHooks||(n.viewHooks=[])).push(t,f),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,f)),null!=p&&(n.destroyHooks||(n.destroyHooks=[])).push(t,p)}}function mt(n,e,t){er(n,e,3,t)}function Hs(n,e,t,r){(3&n[2])===t&&er(n,e,t,r)}function za(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function er(n,e,t,r){const s=null!=r?r:-1,a=e.length-1;let c=0;for(let u=void 0!==r?65535&n[18]:0;u<a;u++)if("number"==typeof e[u+1]){if(c=e[u],null!=r&&c>=r)break}else e[u]<0&&(n[18]+=65536),(c<s||-1==s)&&(jc(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function jc(n,e,t,r){const i=t[r]<0,s=t[r+1],c=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(c)}finally{}}}else try{s.call(c)}finally{}}class nr{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function bi(n,e,t){const r=Ve(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const a=t[i++],c=t[i++],u=t[i++];r?n.setAttribute(e,c,u,a):e.setAttributeNS(a,c,u)}else{const a=s,c=t[++i];zc(a)?r&&n.setProperty(e,a,c):r?n.setAttribute(e,a,c):e.setAttribute(a,c),i++}}return i}function $c(n){return 3===n||4===n||6===n}function zc(n){return 64===n.charCodeAt(0)}function Ga(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||Us(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function Us(n,e,t,r,i){let s=0,a=n.length;if(-1===e)a=-1;else for(;s<n.length;){const c=n[s++];if("number"==typeof c){if(c===e){a=-1;break}if(c>e){a=s-1;break}}}for(;s<n.length;){const c=n[s];if("number"==typeof c)break;if(c===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==a&&(n.splice(a,0,e),s=a+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function zf(n){return-1!==n}function Vs(n){return 32767&n}function Xi(n,e){let t=function Gc(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let Kc=!0;function Ka(n){const e=Kc;return Kc=n,e}let $m=0;function js(n,e){const t=Qa(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Za(r.data,n),Za(e,null),Za(r.blueprint,null));const i=Ji(n,e),s=n.injectorIndex;if(zf(i)){const a=Vs(i),c=Xi(i,e),u=c[1].data;for(let f=0;f<8;f++)e[s+f]=c[a+f]|u[a+f]}return e[s+8]=i,s}function Za(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Qa(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Ji(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const s=i[1],a=s.type;if(r=2===a?s.declTNode:1===a?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Ya(n,e,t){!function Zc(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(wi)&&(r=t[wi]),null==r&&(r=t[wi]=$m++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function Qc(n,e,t){if(t&se.Optional)return n;Co(e,"NodeInjector")}function Kf(n,e,t,r){if(t&se.Optional&&void 0===r&&(r=null),0==(t&(se.Self|se.Host))){const i=n[9],s=jr(void 0);try{return i?i.get(e,r,t&se.Optional):_c(e,r,t&se.Optional)}finally{jr(s)}}return Qc(r,e,t)}function Yc(n,e,t,r=se.Default,i){if(null!==n){const s=function Jc(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(wi)?n[wi]:void 0;return"number"==typeof e?e>=0?255&e:Xc:e}(t);if("function"==typeof s){if(!Ns(e,n,r))return r&se.Host?Qc(i,t,r):Kf(e,t,r,i);try{const a=s(r);if(null!=a||r&se.Optional)return a;Co(t)}finally{mr()}}else if("number"==typeof s){let a=null,c=Qa(n,e),u=-1,f=r&se.Host?e[16][6]:null;for((-1===c||r&se.SkipSelf)&&(u=-1===c?Ji(n,e):e[c+8],-1!==u&&Qf(r,!1)?(a=e[1],c=Vs(u),e=Xi(u,e)):c=-1);-1!==c;){const p=e[1];if(_e(s,c,p.data)){const g=Zf(c,e,t,a,r,f);if(g!==qf)return g}u=e[c+8],-1!==u&&Qf(r,e[1].data[c+8]===f)&&_e(s,c,e)?(a=p,c=Vs(u),e=Xi(u,e)):c=-1}}}return Kf(e,t,r,i)}const qf={};function Xc(){return new $s(Et(),N())}function Zf(n,e,t,r,i,s){const a=e[1],c=a.data[n+8],p=Ws(c,a,t,null==r?Re(c)&&Kc:r!=a&&0!=(3&c.type),i&se.Host&&s===c);return null!==p?Ro(e,a,p,c):qf}function Ws(n,e,t,r,i){const s=n.providerIndexes,a=e.data,c=1048575&s,u=n.directiveStart,p=s>>20,y=i?c+p:n.directiveEnd;for(let D=r?c:c+p;D<y;D++){const T=a[D];if(D<u&&t===T||D>=u&&T.type===t)return D}if(i){const D=a[u];if(D&&Yn(D)&&D.type===t)return u}return null}function Ro(n,e,t,r){let i=n[t];const s=e.data;if(function Wf(n){return n instanceof nr}(i)){const a=i;a.resolving&&function bf(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Te(-200,`Circular dependency in DI detected for ${n}${t}`)}(Ht(s[t]));const c=Ka(a.canSeeViewProviders);a.resolving=!0;const u=a.injectImpl?jr(a.injectImpl):null;Ns(n,r,se.Default);try{i=n[t]=a.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function Vm(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const a=Ff(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,a),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,a)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&jr(u),Ka(c),a.resolving=!1,mr()}}return i}function _e(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function Qf(n,e){return!(n&se.Self||n&se.Host&&e)}class $s{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Yc(this._tNode,this._lView,e,r,t)}}const Lt="__parameters__";function es(n,e,t){return Wr(()=>{const r=function Lo(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const a=new i(...s);return c.annotation=a,c;function c(u,f,p){const g=u.hasOwnProperty(Lt)?u[Lt]:Object.defineProperty(u,Lt,{value:[]})[Lt];for(;g.length<=p;)g.push(null);return(g[p]=g[p]||[]).push(a),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class Y{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=me({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const eu=new Y("AnalyzeForEntryComponents");function Un(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),Un(r,e)):e!==n&&e.push(r)}return e}function vr(n,e){n.forEach(t=>Array.isArray(t)?vr(t,e):e(t))}function Jf(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function No(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function bn(n,e,t){let r=rr(n,e);return r>=0?n[1|r]=t:(r=~r,function nh(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Zs(n,e){const t=rr(n,e);if(t>=0)return n[1|t]}function rr(n,e){return function ru(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),a=n[s<<t];if(e===a)return s<<t;a>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Ei={},Ho="__NG_DI_FLAG__",is="ngTempTokenPath",sh=/\n/gm,su="__source",ou=Ne({provide:String,useValue:Ne});let Uo;function au(n){const e=Uo;return Uo=n,e}function Jr(n,e=se.Default){if(void 0===Uo)throw new Te(203,"");return null===Uo?_c(n,void 0,e):Uo.get(n,e&se.Optional?null:void 0,e)}function K(n,e=se.Default){return(function Mf(){return rn}()||Jr)(de(n),e)}const oh=K;function tl(n){const e=[];for(let t=0;t<n.length;t++){const r=de(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Te(900,"");let i,s=se.Default;for(let a=0;a<r.length;a++){const c=r[a],u=t_(c);"number"==typeof u?-1===u?i=c.token:s|=u:i=c}e.push(K(i,s))}else e.push(K(r))}return e}function Vo(n,e){return n[Ho]=e,n.prototype[Ho]=e,n}function t_(n){return n[Ho]}const Ys=Vo(es("Inject",n=>({token:n})),-1),yr=Vo(es("Optional"),8),wr=Vo(es("SkipSelf"),4);let Mt,Ii;function Xs(n){var e;return(null===(e=function Go(){if(void 0===Mt&&(Mt=null,Pe.trustedTypes))try{Mt=Pe.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Mt}())||void 0===e?void 0:e.createHTML(n))||n}function fu(n){var e;return(null===(e=function nl(){if(void 0===Ii&&(Ii=null,Pe.trustedTypes))try{Ii=Pe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Ii}())||void 0===e?void 0:e.createHTML(n))||n}class hh{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ni(n){return n instanceof hh?n.changingThisBreaksApplicationSecurity:n}function ri(n,e){const t=function pu(n){return n instanceof hh&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}class f_{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Xs(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class mh{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Xs(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=Xs(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const a=t.item(i).name;("xmlns:ns1"===a||0===a.indexOf("ns1:"))&&e.removeAttribute(a)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const p_=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,g_=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function rl(n){return(n=String(n)).match(p_)||n.match(g_)?n:"unsafe:"+n}function Cr(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Ko(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const vh=Cr("area,br,col,hr,img,wbr"),yh=Cr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wh=Cr("rp,rt"),mu=Ko(vh,Ko(yh,Cr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ko(wh,Cr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ko(wh,yh)),_u=Cr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),vu=Cr("srcset"),Dh=Ko(_u,vu,Cr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Cr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),w_=Cr("script,style,template");class D_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!mu.hasOwnProperty(t))return this.sanitizedSomething=!0,!w_.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),a=s.name,c=a.toLowerCase();if(!Dh.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let u=s.value;_u[c]&&(u=rl(u)),vu[c]&&(n=u,u=(n=String(n)).split(",").map(e=>rl(e.trim())).join(", ")),this.buf.push(" ",a,'="',En(u),'"')}var n;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();mu.hasOwnProperty(t)&&!vh.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(En(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const C_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b_=/([^\#-~ |!])/g;function En(n){return n.replace(/&/g,"&amp;").replace(C_,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(b_,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let il;function yu(n){return"content"in n&&function Ch(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var _t=(()=>((_t=_t||{})[_t.NONE=0]="NONE",_t[_t.HTML=1]="HTML",_t[_t.STYLE=2]="STYLE",_t[_t.SCRIPT=3]="SCRIPT",_t[_t.URL=4]="URL",_t[_t.RESOURCE_URL=5]="RESOURCE_URL",_t))();function bh(n){const e=qo();return e?fu(e.sanitize(_t.HTML,n)||""):ri(n,"HTML")?fu(ni(n)):function E_(n,e){let t=null;try{il=il||function Si(n){const e=new mh(n);return function h_(){try{return!!(new window.DOMParser).parseFromString(Xs(""),"text/html")}catch(n){return!1}}()?new f_(e):e}(n);let r=e?String(e):"";t=il.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=il.getInertBodyElement(r)}while(r!==s);return Xs((new D_).sanitizeChildren(yu(t)||t))}finally{if(t){const r=yu(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(Ki(),ne(n))}function ss(n){const e=qo();return e?e.sanitize(_t.URL,n)||"":ri(n,"URL")?ni(n):rl(ne(n))}function qo(){const n=N();return n&&n[12]}const Ih="__ngContext__";function $t(n,e){n[Ih]=e}function Du(n){const e=function Zo(n){return n[Ih]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function Iu(n){return n.ngOriginalError}function H_(n,...e){n.error(...e)}class Js{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=function B_(n){return n&&n.ngErrorLogger||H_}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Iu(e);for(;t&&Iu(t);)t=Iu(t);return t||null}}const q_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Pe))();function br(n){return n instanceof Function?n():n}var In=(()=>((In=In||{})[In.Important=1]="Important",In[In.DashCase=2]="DashCase",In))();function Au(n,e){return undefined(n,e)}function Yo(n){const e=n[3];return pe(e)?e[3]:e}function Mu(n){return Ph(n[13])}function xu(n){return Ph(n[4])}function Ph(n){for(;null!==n&&!pe(n);)n=n[4];return n}function to(n,e,t,r,i){if(null!=r){let s,a=!1;pe(r)?s=r:Q(r)&&(a=!0,r=r[0]);const c=Je(r);0===n&&null!==t?null==i?cl(e,t,c):os(e,t,c,i||null,!0):1===n&&null!==t?os(e,t,c,i||null,!0):2===n?function Vn(n,e,t){const r=ul(n,e);r&&function rv(n,e,t,r){Ve(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,c,a):3===n&&e.destroyNode(c),null!=s&&function sv(n,e,t,r,i){const s=t[7];s!==Je(t)&&to(e,n,r,s,i);for(let c=10;c<t.length;c++){const u=t[c];Jo(u[1],u,n,e,r,s)}}(e,n,s,t,i)}}function no(n,e,t){if(Ve(n))return n.createElement(e,t);{const r=null!==t?function Of(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(t):null;return null===r?n.createElement(e):n.createElementNS(r,e)}}function Fu(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,De(i,-1)),t.splice(r,1)}function al(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&Fu(i,r),e>0&&(n[t-1][4]=r[4]);const s=No(n,10+e);!function tv(n,e){Jo(n,e,e[X],2,null,null),e[0]=null,e[6]=null}(r[1],r);const a=s[I];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Nh(n,e){if(!(256&e[2])){const t=e[X];Ve(t)&&t.destroyNode&&Jo(n,e,t,3,null,null),function Ru(n){let e=n[13];if(!e)return Ou(n[1],n);for(;e;){let t=null;if(Q(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Q(e)&&Ou(e[1],e),e=e[3];null===e&&(e=n),Q(e)&&Ou(e[1],e),t=e&&e[4]}e=t}}(e)}}function Ou(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function ll(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof nr)){const s=t[r+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const c=i[s[a]],u=s[a+1];try{u.call(c)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function nv(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const a=t[s+1],c="function"==typeof a?a(e):Je(e[a]),u=r[i=t[s+2]],f=t[s+3];"boolean"==typeof f?c.removeEventListener(t[s],u,f):f>=0?r[i=f]():r[i=-f].unsubscribe(),s+=2}else{const a=r[i=t[s+1]];t[s].call(a)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&Ve(e[X])&&e[X].destroy();const t=e[17];if(null!==t&&pe(e[3])){t!==e[3]&&Fu(t,e);const r=e[I];null!==r&&r.detachView(n)}}}function Xo(n,e,t){return function Bh(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===ot.None||i===ot.Emulated)return null}return Bn(r,t)}(n,e.parent,t)}function os(n,e,t,r,i){Ve(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function cl(n,e,t){Ve(n)?n.appendChild(e,t):e.appendChild(t)}function ku(n,e,t,r,i){null!==r?os(n,e,t,r,i):cl(n,e,t)}function ul(n,e){return Ve(n)?n.parentNode(e):e.parentNode}let Vh=function Uh(n,e,t){return 40&n.type?Bn(n,t):null};function dl(n,e,t,r){const i=Xo(n,r,e),s=e[X],c=function Hh(n,e,t){return Vh(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)ku(s,i,t[u],c,!1);else ku(s,i,t,c,!1)}function fl(n,e){if(null!==e){const t=e.type;if(3&t)return Bn(e,n);if(4&t)return Nu(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return fl(n,r);{const i=n[e.index];return pe(i)?Nu(-1,i):Je(i)}}if(32&t)return Au(e,n)()||Je(n[e.index]);{const r=Wh(n,e);return null!==r?Array.isArray(r)?r[0]:fl(Yo(n[16]),r):fl(n,e.next)}}return null}function Wh(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Nu(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return fl(r,i)}return e[7]}function Bu(n,e,t,r,i,s,a){for(;null!=t;){const c=r[t.index],u=t.type;if(a&&0===e&&(c&&$t(Je(c),r),t.flags|=4),64!=(64&t.flags))if(8&u)Bu(n,e,t.child,r,i,s,!1),to(e,n,i,c,s);else if(32&u){const f=Au(t,r);let p;for(;p=f();)to(e,n,i,p,s);to(e,n,i,c,s)}else 16&u?le(n,e,r,t,i,s):to(e,n,i,c,s);t=a?t.projectionNext:t.next}}function Jo(n,e,t,r,i,s){Bu(t,r,n.firstChild,e,i,s,!1)}function le(n,e,t,r,i,s){const a=t[16],u=a[6].projection[r.projection];if(Array.isArray(u))for(let f=0;f<u.length;f++)to(e,n,i,u[f],s);else Bu(n,e,u,a[3],i,s,!0)}function rt(n,e,t){Ve(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function Hu(n,e,t){Ve(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function si(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const $h="ng-template";function ov(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==si(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function zh(n){return 4===n.type&&n.value!==$h}function av(n,e,t){return e===(4!==n.type||t?n.value:$h)}function Uu(n,e,t){let r=4;const i=n.attrs||[],s=function tt(n){for(let e=0;e<n.length;e++)if($c(n[e]))return e;return n.length}(i);let a=!1;for(let c=0;c<e.length;c++){const u=e[c];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!av(n,u,t)||""===u&&1===e.length){if(ir(r))return!1;a=!0}}else{const f=8&r?u:e[++c];if(8&r&&null!==n.attrs){if(!ov(n.attrs,f,t)){if(ir(r))return!1;a=!0}continue}const g=oi(8&r?"class":u,i,zh(n),t);if(-1===g){if(ir(r))return!1;a=!0;continue}if(""!==f){let y;y=g>s?"":i[g+1].toLowerCase();const D=8&r?y:null;if(D&&-1!==si(D,f,0)||2&r&&f!==y){if(ir(r))return!1;a=!0}}}}else{if(!a&&!ir(r)&&!ir(u))return!1;if(a&&ir(u))continue;a=!1,r=u|1&r}}return ir(r)||a}function ir(n){return 0==(1&n)}function oi(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const a=e[i];if(a===n)return i;if(3===a||6===a)s=!0;else{if(1===a||2===a){let c=e[++i];for(;"string"==typeof c;)c=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=s?1:2}return-1}return function it(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function Vu(n,e,t=!1){for(let r=0;r<e.length;r++)if(Uu(n,e[r],t))return!0;return!1}function Kh(n,e){return n?":not("+e.trim()+")":e}function lv(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let a=n[t];if("string"==typeof a)if(2&r){const c=n[++t];i+="["+a+(c.length>0?'="'+c+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""!==i&&!ir(a)&&(e+=Kh(s,i),i=""),r=a,s=s||!ir(r);t++}return""!==i&&(e+=Kh(s,i)),e}const ce={};function $e(n){ju(fe(),N(),Kt()+n,Ua())}function ju(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&mt(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Hs(e,s,0,t)}Qr(t)}function io(n,e){return n<<17|e<<2}function sr(n){return n>>17&32767}function Qt(n){return 2|n}function dn(n){return(131068&n)>>2}function $u(n,e){return-131069&n|e<<2}function zu(n){return 1|n}function op(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const a=n.data[s];Bc(i),a.contentQueries(2,e[s],s)}}}function ea(n,e,t,r,i,s,a,c,u,f){const p=e.blueprint.slice();return p[0]=i,p[2]=140|r,wn(p),p[3]=p[15]=n,p[8]=t,p[10]=a||n&&n[10],p[X]=c||n&&n[X],p[12]=u||n&&n[12]||null,p[9]=f||n&&n[9]||null,p[6]=s,p[16]=2==e.type?n[16]:p,p}function so(n,e,t,r,i){let s=n.data[e];if(null===s)s=function Zu(n,e,t,r,i){const s=Nf(),a=Jn(),u=n.data[e]=function yv(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(a?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(n,e,t,r,i),function Nm(){return ae.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const a=function xo(){const n=ae.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return gr(s,!0),s}function oo(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Er(n,e,t){Zi(e);try{const r=n.viewQuery;null!==r&&od(1,r,t);const i=n.template;null!==i&&cp(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&op(n,e),n.staticViewQueries&&od(2,n.viewQuery,t);const s=n.components;null!==s&&function lp(n,e){for(let t=0;t<e.length;t++)td(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Bs()}}function ao(n,e,t,r){const i=e[2];if(256==(256&i))return;Zi(e);const s=Ua();try{wn(e),function Bf(n){return ae.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&cp(n,e,t,2,r);const a=3==(3&i);if(!s)if(a){const f=n.preOrderCheckHooks;null!==f&&mt(e,f,null)}else{const f=n.preOrderHooks;null!==f&&Hs(e,f,0,null),za(e,0)}if(function Fv(n){for(let e=Mu(n);null!==e;e=xu(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&De(s,1),i[2]|=1024}}}(e),function Rv(n){for(let e=Mu(n);null!==e;e=xu(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];_(r)&&ao(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&op(n,e),!s)if(a){const f=n.contentCheckHooks;null!==f&&mt(e,f)}else{const f=n.contentHooks;null!==f&&Hs(e,f,1),za(e,1)}!function mv(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Qr(~i);else{const s=i,a=t[++r],c=t[++r];Bm(a,s),c(2,e[s])}}}finally{Qr(-1)}}(n,e);const c=n.components;null!==c&&function ap(n,e){for(let t=0;t<e.length;t++)Ov(n,e[t])}(e,c);const u=n.viewQuery;if(null!==u&&od(2,u,r),!s)if(a){const f=n.viewCheckHooks;null!==f&&mt(e,f)}else{const f=n.viewHooks;null!==f&&Hs(e,f,2),za(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,De(e[3],-1))}finally{Bs()}}function _v(n,e,t,r){const i=e[10],s=!Ua(),a=Lc(e);try{s&&!a&&i.begin&&i.begin(),a&&Er(n,e,r),ao(n,e,t,r)}finally{s&&!a&&i.end&&i.end()}}function cp(n,e,t,r,i){const s=Kt(),a=2&r;try{Qr(-1),a&&e.length>x&&ju(n,e,x,Ua()),t(r,i)}finally{Qr(s)}}function Qu(n,e,t){!Lf()||(function Sv(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||js(t,e),$t(r,e);const a=t.initialInputs;for(let c=i;c<s;c++){const u=n.data[c],f=Yn(u);f&&Mv(e,t,u);const p=Ro(e,n,c,t);$t(p,e),null!==a&&xv(0,c-i,p,u,0,a),f&&(kt(t.index,e)[8]=p)}}(n,e,t,Bn(t,e)),128==(128&t.flags)&&function Tv(n,e,t){const r=t.directiveStart,i=t.directiveEnd,a=t.index,c=function Hm(){return ae.lFrame.currentDirectiveIndex}();try{Qr(a);for(let u=r;u<i;u++){const f=n.data[u],p=e[u];ja(u),(null!==f.hostBindings||0!==f.hostVars||null!==f.hostAttrs)&&_p(f,p)}}finally{Qr(-1),ja(c)}}(n,e,t))}function yl(n,e,t=Bn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const a=r[s+1],c=-1===a?t(e,n):n[a];n[i++]=c}}}function Yu(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=wl(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function wl(n,e,t,r,i,s,a,c,u,f){const p=x+r,g=p+i,y=function vv(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ce);return t}(p,g),D="function"==typeof f?f():f;return y[1]={type:n,blueprint:y,template:t,queries:null,viewQuery:c,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:D,incompleteFirstPass:!1}}function hp(n,e,t,r){const i=bp(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&Ep(n).push(r,i.length-1))}function pp(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function Xu(n,e,t,r){let i=!1;if(Lf()){const s=function Av(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const a=r[s];Vu(t,a.selectors,!1)&&(i||(i=[]),Ya(js(t,e),n,a.type),Yn(a)?(Dl(n,t),i.unshift(a)):i.push(a))}return i}(n,e,t),a=null===r?null:{"":-1};if(null!==s){i=!0,wp(t,n.data.length,s.length);for(let p=0;p<s.length;p++){const g=s[p];g.providersResolver&&g.providersResolver(g)}let c=!1,u=!1,f=oo(n,e,s.length,null);for(let p=0;p<s.length;p++){const g=s[p];t.mergedAttrs=Ga(t.mergedAttrs,g.hostAttrs),Dp(n,t,e,f,g),yp(f,g,a),null!==g.contentQueries&&(t.flags|=8),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(t.flags|=128);const y=g.type.prototype;!c&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),c=!0),!u&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),u=!0),f++}!function wv(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,a=[];let c=null,u=null;for(let f=e.directiveStart;f<r;f++){const p=i[f],g=p.inputs,y=null===s||zh(e)?null:Pv(g,s);a.push(y),c=pp(g,f,c),u=pp(p.outputs,f,u)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=16),c.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=a,e.inputs=c,e.outputs=u}(n,t)}a&&function vp(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new Te(-301,!1);r.push(e[i],s)}}}(t,r,a)}return t.mergedAttrs=Ga(t.mergedAttrs,t.attrs),i}function mp(n,e,t,r,i,s){const a=s.hostBindings;if(a){let c=n.hostBindingOpCodes;null===c&&(c=n.hostBindingOpCodes=[]);const u=~e.index;(function Iv(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(c)!=u&&c.push(u),c.push(r,i,a)}}function _p(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Dl(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function yp(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Yn(e)&&(t[""]=n)}}function wp(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Dp(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=yn(i.type)),a=new nr(s,Yn(i),null);n.blueprint[r]=a,t[r]=a,mp(n,e,0,r,oo(n,t,i.hostVars,ce),i)}function Mv(n,e,t){const r=Bn(e,n),i=Yu(t),s=n[10],a=lo(n,ea(n,i,null,t.onPush?64:16,r,e,s,s.createRenderer(r,t),null,null));n[e.index]=a}function Wn(n,e,t,r,i,s){const a=Bn(n,e);!function Ju(n,e,t,r,i,s,a){if(null==s)Ve(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const c=null==a?ne(s):a(s,r||"",i);Ve(n)?n.setAttribute(e,i,c,t):t?e.setAttributeNS(t,i,c):e.setAttribute(i,c)}}(e[X],a,s,n.value,t,r,i)}function xv(n,e,t,r,i,s){const a=s[e];if(null!==a){const c=r.setInput;for(let u=0;u<a.length;){const f=a[u++],p=a[u++],g=a[u++];null!==c?r.setInput(t,g,f,p):t[p]=g}}}function Pv(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function Cl(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function Ov(n,e){const t=kt(e,n);if(_(t)){const r=t[1];80&t[2]?ao(r,t,r.template,t[8]):t[5]>0&&ed(t)}}function ed(n){for(let r=Mu(n);null!==r;r=xu(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const a=s[1];ao(a,s,a.template,s[8])}else s[5]>0&&ed(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=kt(t[r],n);_(i)&&i[5]>0&&ed(i)}}function td(n,e){const t=kt(e,n),r=t[1];(function kv(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Er(r,t,t[8])}function lo(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function nd(n){for(;n;){n[2]|=64;const e=Yo(n);if(Ln(n)&&!e)return n;n=e}return null}function id(n,e,t){const r=e[10];r.begin&&r.begin();try{ao(n,e,n.template,t)}catch(i){throw Sp(e,i),i}finally{r.end&&r.end()}}function sd(n){!function rd(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=Du(t),i=r[1];_v(i,r,i.template,t)}}(n[8])}function od(n,e,t){Bc(0),e(n,t)}const ad=(()=>Promise.resolve(null))();function bp(n){return n[7]||(n[7]=[])}function Ep(n){return n.cleanup||(n.cleanup=[])}function Sp(n,e){const t=n[9],r=t?t.get(Js,null):null;r&&r.handleError(e)}function Tp(n,e,t,r,i){for(let s=0;s<t.length;){const a=t[s++],c=t[s++],u=e[a],f=n.data[a];null!==f.setInput?f.setInput(u,i,r,c):u[c]=i}}function ai(n,e,t){const r=Ha(e,n);!function Rh(n,e,t){Ve(n)?n.setValue(e,t):e.textContent=t}(n[X],r,t)}function bl(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let a=0;a<e.length;a++){const c=e[a];"number"==typeof c?s=c:1==s?i=gc(i,c):2==s&&(r=gc(r,c+": "+e[++a]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const ld=new Y("INJECTOR",-1);class Ap{get(e,t=Ei){if(t===Ei){const r=new Error(`NullInjectorError: No provider for ${xe(e)}!`);throw r.name="NullInjectorError",r}return t}}const cd=new Y("Set Injector scope."),ta={},Vv={};let ud;function Mp(){return void 0===ud&&(ud=new Ap),ud}function xp(n,e=null,t=null,r){const i=Pp(n,e,t,r);return i._resolveInjectorDefTypes(),i}function Pp(n,e=null,t=null,r){return new jv(n,t,e||Mp(),r)}class jv{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&vr(t,c=>this.processProvider(c,e,t)),vr([e],c=>this.processInjectorType(c,[],s)),this.records.set(ld,h(void 0,this));const a=this.records.get(cd);this.scope=null!=a?a.value:null,this.source=i||("object"==typeof e?null:xe(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Ei,r=se.Default){this.assertNotDestroyed();const i=au(this),s=jr(void 0);try{if(!(r&se.SkipSelf)){let c=this.records.get(e);if(void 0===c){const u=function B(n){return"function"==typeof n||"object"==typeof n&&n instanceof Y}(e)&&mc(e);c=u&&this.injectableDefInScope(u)?h(dd(e),ta):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&se.Self?Mp():this.parent).get(e,t=r&se.Optional&&t===Ei?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[is]=a[is]||[]).unshift(xe(e)),i)throw a;return function ei(n,e,t,r){const i=n[is];throw e[su]&&i.unshift(e[su]),n.message=function cu(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=xe(e);if(Array.isArray(e))i=e.map(xe).join(" -> ");else if("object"==typeof e){let s=[];for(let a in e)if(e.hasOwnProperty(a)){let c=e[a];s.push(a+":"+("string"==typeof c?JSON.stringify(c):xe(c)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(sh,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[is]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{jr(s),au(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(xe(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processInjectorType(e,t,r){if(!(e=de(e)))return!1;let i=Tf(e);const s=null==i&&e.ngModule||void 0,a=void 0===s?e:s,c=-1!==r.indexOf(a);if(void 0!==s&&(i=Tf(s)),null==i)return!1;if(null!=i.imports&&!c){let p;r.push(a);try{vr(i.imports,g=>{this.processInjectorType(g,t,r)&&(void 0===p&&(p=[]),p.push(g))})}finally{}if(void 0!==p)for(let g=0;g<p.length;g++){const{ngModule:y,providers:D}=p[g];vr(D,T=>this.processProvider(T,y,D||Ue))}}this.injectorDefTypes.add(a);const u=yn(a)||(()=>new a);this.records.set(a,h(u,ta));const f=i.providers;if(null!=f&&!c){const p=e;vr(f,g=>this.processProvider(g,p,f))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,r){let i=E(e=de(e))?e:de(e&&e.provide);const s=function l(n,e,t){return m(n)?h(void 0,n.useValue):h(d(n),ta)}(e);if(E(e)||!0!==e.multi)this.records.get(i);else{let a=this.records.get(i);a||(a=h(void 0,ta,!0),a.factory=()=>tl(a.multi),this.records.set(i,a)),i=e,a.multi.push(e)}this.records.set(i,s)}hydrate(e,t){return t.value===ta&&(t.value=Vv,t.value=t.factory()),"object"==typeof t.value&&t.value&&function L(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=de(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function dd(n){const e=mc(n),t=null!==e?e.factory:yn(n);if(null!==t)return t;if(n instanceof Y)throw new Te(204,!1);if(n instanceof Function)return function o(n){const e=n.length;if(e>0)throw function qs(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new Te(204,!1);const t=function vm(n){const e=n&&(n[pt]||n[Ts]);if(e){const t=function Sf(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Te(204,!1)}function d(n,e,t){let r;if(E(n)){const i=de(n);return yn(i)||dd(i)}if(m(n))r=()=>de(n.useValue);else if(function C(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...tl(n.deps||[]));else if(function v(n){return!(!n||!n.useExisting)}(n))r=()=>K(de(n.useExisting));else{const i=de(n&&(n.useClass||n.provide));if(!function k(n){return!!n.deps}(n))return yn(i)||dd(i);r=()=>new i(...tl(n.deps))}return r}function h(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function m(n){return null!==n&&"object"==typeof n&&ou in n}function E(n){return"function"==typeof n}let U=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return xp({name:""},r,t,"");{const s=null!==(i=t.name)&&void 0!==i?i:"";return xp({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=Ei,n.NULL=new Ap,n.\u0275prov=me({token:n,providedIn:"any",factory:()=>K(ld)}),n.__NG_ELEMENT_ID__=-1,n})();function RS(n,e){Po(Du(n)[1],Et())}let Fp=null;function El(){if(!Fp){const n=Pe.Symbol;if(n&&n.iterator)Fp=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Fp=r)}}}return Fp}function fd(n){return!!zv(n)&&(Array.isArray(n)||!(n instanceof Map)&&El()in n)}function zv(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Mi(n,e,t){return n[e]=t}function pn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Il(n,e,t,r){const i=N();return pn(i,Wt(),e)&&(fe(),Wn(et(),i,n,e,t,r)),Il}function Ar(n,e,t,r,i,s,a,c){const u=N(),f=fe(),p=n+x,g=f.firstCreatePass?function WS(n,e,t,r,i,s,a,c,u){const f=e.consts,p=so(e,n,4,a||null,Xn(f,c));Xu(e,t,p,Xn(f,u)),Po(e,p);const g=p.tViews=wl(2,p,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,f);return null!==e.queries&&(e.queries.template(e,p),g.queries=e.queries.embeddedTView(p)),p}(p,f,u,e,t,r,i,s,a):f.data[p];gr(g,!1);const y=u[X].createComment("");dl(f,u,y,g),$t(y,u),lo(u,u[p]=Cl(y,u,y,g)),Rs(g)&&Qu(f,u,g),null!=a&&yl(u,g,c)}function Gv(n){return Kr(function Lm(){return ae.lFrame.contextLView}(),x+n)}function $(n,e=se.Default){const t=N();return null===t?K(n,e):Yc(Et(),t,de(n),e)}function Yv(){throw new Error("invalid")}function yt(n,e,t){const r=N();return pn(r,Wt(),e)&&function Sn(n,e,t,r,i,s,a,c){const u=Bn(e,t);let p,f=e.inputs;!c&&null!=f&&(p=f[r])?(Tp(n,t,p,r,i),Re(e)&&function Cv(n,e){const t=kt(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function Dv(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=a?a(i,e.value||"",r):i,Ve(s)?s.setProperty(u,r,i):zc(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}(fe(),et(),r,n,e,r[X],t,!1),yt}function Xv(n,e,t,r,i){const a=i?"class":"style";Tp(n,t,e.inputs[a],a,r)}function ze(n,e,t,r){const i=N(),s=fe(),a=x+n,c=i[X],u=i[a]=no(c,e,function $a(){return ae.lFrame.currentNamespace}()),f=s.firstCreatePass?function uT(n,e,t,r,i,s,a){const c=e.consts,f=so(e,n,2,i,Xn(c,s));return Xu(e,t,f,Xn(c,a)),null!==f.attrs&&bl(f,f.attrs,!1),null!==f.mergedAttrs&&bl(f,f.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,f),f}(a,s,i,0,e,t,r):s.data[a];gr(f,!0);const p=f.mergedAttrs;null!==p&&bi(c,u,p);const g=f.classes;null!==g&&Hu(c,u,g);const y=f.styles;return null!==y&&rt(c,u,y),64!=(64&f.flags)&&dl(s,i,u,f),0===function Rm(){return ae.lFrame.elementDepthCount}()&&$t(u,i),function qi(){ae.lFrame.elementDepthCount++}(),Rs(f)&&(Qu(s,i,f),function up(n,e,t){if(ct(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}}(s,f,i)),null!==r&&yl(i,f),ze}function je(){let n=Et();Jn()?function Nc(){ae.lFrame.isParent=!1}():(n=n.parent,gr(n,!1));const e=n;!function Fm(){ae.lFrame.elementDepthCount--}();const t=fe();return t.firstCreatePass&&(Po(t,n),ct(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function jm(n){return 0!=(16&n.flags)}(e)&&Xv(t,e,N(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Wm(n){return 0!=(32&n.flags)}(e)&&Xv(t,e,N(),e.stylesWithoutHost,!1),je}function gn(n,e,t,r){return ze(n,e,t,r),je(),gn}function pd(){return N()}function Lp(n){return!!n&&"function"==typeof n.then}function MC(n){return!!n&&"function"==typeof n.subscribe}const xC=MC;function Xt(n,e,t,r){const i=N(),s=fe(),a=Et();return function RC(n,e,t,r,i,s,a,c){const u=Rs(r),p=n.firstCreatePass&&Ep(n),g=e[8],y=bp(e);let D=!0;if(3&r.type||c){const O=Bn(r,e),H=c?c(O):O,F=y.length,G=c?he=>c(Je(he[r.index])):r.index;if(Ve(t)){let he=null;if(!c&&u&&(he=function fT(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const a=i[s];if(a===t&&i[s+1]===r){const c=e[7],u=i[s+2];return c.length>u?c[u]:null}"string"==typeof a&&(s+=2)}return null}(n,e,i,r.index)),null!==he)(he.__ngLastListenerFn__||he).__ngNextListenerFn__=s,he.__ngLastListenerFn__=s,D=!1;else{s=ty(r,e,g,s,!1);const Ae=t.listen(H,i,s);y.push(s,Ae),p&&p.push(i,G,F,F+1)}}else s=ty(r,e,g,s,!0),H.addEventListener(i,s,a),y.push(s),p&&p.push(i,G,F,a)}else s=ty(r,e,g,s,!1);const T=r.outputs;let R;if(D&&null!==T&&(R=T[i])){const O=R.length;if(O)for(let H=0;H<O;H+=2){const lr=e[R[H]][R[H+1]].subscribe(s),fa=y.length;y.push(s,lr),p&&p.push(i,r.index,fa,-(fa+1))}}}(s,i,i[X],a,n,e,!!t,r),Xt}function FC(n,e,t,r){try{return!1!==t(r)}catch(i){return Sp(n,i),!1}}function ty(n,e,t,r,i){return function s(a){if(a===Function)return r;const c=2&n.flags?kt(n.index,e):e;0==(32&e[2])&&nd(c);let u=FC(e,0,r,a),f=s.__ngNextListenerFn__;for(;f;)u=FC(e,0,f,a)&&u,f=f.__ngNextListenerFn__;return i&&!1===u&&(a.preventDefault(),a.returnValue=!1),u}}function wt(n=1){return function Qi(n){return(ae.lFrame.contextLView=function Hn(n,e){for(;n>0;)e=e[15],n--;return e}(n,ae.lFrame.contextLView))[8]}(n)}function WC(n,e,t,r,i){const s=n[t+1],a=null===e;let c=r?sr(s):dn(s),u=!1;for(;0!==c&&(!1===u||a);){const p=n[c+1];vT(n[c],e)&&(u=!0,n[c+1]=r?zu(p):Qt(p)),c=r?sr(p):dn(p)}u&&(n[t+1]=r?Qt(s):zu(s))}function vT(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&rr(n,e)>=0}function ls(n,e,t){return ci(n,e,t,!1),ls}function gd(n,e){return ci(n,e,null,!0),gd}function ci(n,e,t,r){const i=N(),s=fe(),a=function Zr(n){const e=ae.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function YC(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Kt()],a=function QC(n,e){return e>=n.expandoStartIndex}(n,t);(function tb(n,e){return 0!=(n.flags&(e?16:32))})(s,r)&&null===e&&!a&&(e=!1),e=function TT(n,e,t,r){const i=function Wa(n){const e=ae.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=md(t=ry(null,n,e,t,r),e.attrs,r),s=null);else{const a=e.directiveStylingLast;if(-1===a||n[a]!==i)if(t=ry(i,n,e,t,r),null===s){let u=function AT(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==dn(r))return n[sr(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=ry(null,n,e,u[1],r),u=md(u,e.attrs,r),function MT(n,e,t,r){n[sr(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function xT(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=md(r,n[s].hostAttrs,t);return md(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function mT(n,e,t,r,i,s){let a=s?e.classBindings:e.styleBindings,c=sr(a),u=dn(a);n[r]=t;let p,f=!1;if(Array.isArray(t)){const g=t;p=g[1],(null===p||rr(g,p)>0)&&(f=!0)}else p=t;if(i)if(0!==u){const y=sr(n[c+1]);n[r+1]=io(y,c),0!==y&&(n[y+1]=$u(n[y+1],r)),n[c+1]=function pl(n,e){return 131071&n|e<<17}(n[c+1],r)}else n[r+1]=io(c,0),0!==c&&(n[c+1]=$u(n[c+1],r)),c=r;else n[r+1]=io(u,0),0===c?c=r:n[u+1]=$u(n[u+1],r),u=r;f&&(n[r+1]=Qt(n[r+1])),WC(n,p,r,!0),WC(n,p,r,!1),function _T(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&rr(s,e)>=0&&(t[r+1]=zu(t[r+1]))}(e,p,n,r,s),a=io(c,u),s?e.classBindings=a:e.styleBindings=a}(i,s,e,t,a,r)}}(s,n,a,r),e!==ce&&pn(i,a,e)&&function JC(n,e,t,r,i,s,a,c){if(!(3&e.type))return;const u=n.data,f=u[c+1];Np(function qh(n){return 1==(1&n)}(f)?eb(u,e,t,i,dn(f),a):void 0)||(Np(s)||function Wu(n){return 2==(2&n)}(f)&&(s=eb(u,null,t,i,c,a)),function un(n,e,t,r,i){const s=Ve(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let a=-1===r.indexOf("-")?void 0:In.DashCase;if(null==i)s?n.removeStyle(t,r,a):t.style.removeProperty(r);else{const c="string"==typeof i&&i.endsWith("!important");c&&(i=i.slice(0,-10),a|=In.Important),s?n.setStyle(t,r,i,a):t.style.setProperty(r,i,c?"important":"")}}}(r,a,Ha(Kt(),t),i,s))}(s,s.data[Kt()],i,i[X],n,i[a+1]=function FT(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=xe(ni(n)))),n}(e,t),r,a)}function ry(n,e,t,r,i){let s=null;const a=t.directiveEnd;let c=t.directiveStylingLast;for(-1===c?c=t.directiveStart:c++;c<a&&(s=e[c],r=md(r,s.hostAttrs,i),s!==n);)c++;return null!==n&&(t.directiveStylingLast=c),r}function md(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?i=a:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),bn(n,a,!!t||e[++s]))}return void 0===n?null:n}function eb(n,e,t,r,i,s){const a=null===e;let c;for(;i>0;){const u=n[i],f=Array.isArray(u),p=f?u[1]:u,g=null===p;let y=t[i+1];y===ce&&(y=g?Ue:void 0);let D=g?Zs(y,r):p===r?y:void 0;if(f&&!Np(D)&&(D=Zs(u,r)),Np(D)&&(c=D,a))return c;const T=n[i+1];i=a?sr(T):dn(T)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(c=Zs(u,r))}return c}function Np(n){return void 0!==n}function Ri(n,e=""){const t=N(),r=fe(),i=n+x,s=r.firstCreatePass?so(r,i,1,e,null):r.data[i],a=t[i]=function Pu(n,e){return Ve(n)?n.createText(e):n.createTextNode(e)}(t[X],e);dl(r,t,a,s),gr(s,!1)}function iy(n){return _d("",n,""),iy}function _d(n,e,t){const r=N(),i=function Tl(n,e,t,r){return pn(n,Wt(),t)?e+ne(t)+r:ce}(r,n,e,t);return i!==ce&&ai(r,Kt(),i),_d}const Bp="en-US";let bb=Bp;function ay(n,e,t,r,i){if(n=de(n),Array.isArray(n))for(let s=0;s<n.length;s++)ay(n[s],e,t,r,i);else{const s=fe(),a=N();let c=E(n)?n:de(n.provide),u=d(n);const f=Et(),p=1048575&f.providerIndexes,g=f.directiveStart,y=f.providerIndexes>>20;if(E(n)||!n.multi){const D=new nr(u,i,$),T=cy(c,e,i?p:p+y,g);-1===T?(Ya(js(f,a),s,c),ly(s,n,e.length),e.push(c),f.directiveStart++,f.directiveEnd++,i&&(f.providerIndexes+=1048576),t.push(D),a.push(D)):(t[T]=D,a[T]=D)}else{const D=cy(c,e,p+y,g),T=cy(c,e,p,p+y),R=D>=0&&t[D],O=T>=0&&t[T];if(i&&!O||!i&&!R){Ya(js(f,a),s,c);const H=function XA(n,e,t,r,i){const s=new nr(n,t,$);return s.multi=[],s.index=e,s.componentProviders=0,Kb(s,i,r&&!t),s}(i?YA:QA,t.length,i,r,u);!i&&O&&(t[T].providerFactory=H),ly(s,n,e.length,0),e.push(c),f.directiveStart++,f.directiveEnd++,i&&(f.providerIndexes+=1048576),t.push(H),a.push(H)}else ly(s,n,D>-1?D:T,Kb(t[i?T:D],u,!i&&r));!i&&r&&O&&t[T].componentProviders++}}}function ly(n,e,t,r){const i=E(e),s=function S(n){return!!n.useClass}(e);if(i||s){const u=(s?de(e.useClass):e).prototype.ngOnDestroy;if(u){const f=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const p=f.indexOf(t);-1===p?f.push(t,[r,u]):f[p+1].push(r,u)}else f.push(t,u)}}}function Kb(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function cy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function QA(n,e,t,r){return uy(this.multi,[])}function YA(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,c=Ro(t,t[1],this.providerFactory.index,r);s=c.slice(0,a),uy(i,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],uy(i,s);return s}function uy(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function qb(n,e=[]){return t=>{t.providersResolver=(r,i)=>function ZA(n,e,t){const r=fe();if(r.firstCreatePass){const i=Yn(n);ay(t,r.data,r.blueprint,i,!0),ay(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Zb{}class tM{resolveComponentFactory(e){throw function eM(n){const e=Error(`No component factory found for ${xe(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Cd=(()=>{class n{}return n.NULL=new tM,n})();function nM(){return Hl(Et(),N())}function Hl(n,e){return new Fi(Bn(n,e))}let Fi=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=nM,n})();function rM(n){return n instanceof Fi?n.nativeElement:n}class Yb{}let Wp=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function sM(){const n=N(),t=kt(Et().index,n);return function iM(n){return n[X]}(Q(t)?t:n)}(),n})(),oM=(()=>{class n{}return n.\u0275prov=me({token:n,providedIn:"root",factory:()=>null}),n})();class $p{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const aM=new $p("13.2.7"),dy={};function zp(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Je(s)),pe(s))for(let c=10;c<s.length;c++){const u=s[c],f=u[1].firstChild;null!==f&&zp(u[1],u,f,r)}const a=t.type;if(8&a)zp(n,e,t.child,r);else if(32&a){const c=Au(t,e);let u;for(;u=c();)r.push(u)}else if(16&a){const c=Wh(e,t);if(Array.isArray(c))r.push(...c);else{const u=Yo(e[16]);zp(u[1],u,c,r,!0)}}t=i?t.projectionNext:t.next}return r}class bd{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return zp(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(pe(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(al(e,r),No(t,r))}this._attachedToViewContainer=!1}Nh(this._lView[1],this._lView)}onDestroy(e){hp(this._lView[1],this._lView,null,e)}markForCheck(){nd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){id(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Nv(n,e,t){Va(!0);try{id(n,e,t)}finally{Va(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Te(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Oh(n,e){Jo(n,e,e[X],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Te(902,"");this._appRef=e}}class lM extends bd{constructor(e){super(e),this._view=e}detectChanges(){sd(this._view)}checkNoChanges(){!function Bv(n){Va(!0);try{sd(n)}finally{Va(!1)}}(this._view)}get context(){return null}}class Xb extends Cd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ft(e);return new fy(t,this.ngModule)}}function Jb(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class fy extends Zb{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function cv(n){return n.map(lv).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Jb(this.componentDef.inputs)}get outputs(){return Jb(this.componentDef.outputs)}create(e,t,r,i){const s=(i=i||this.ngModule)?function uM(n,e){return{get:(t,r,i)=>{const s=n.get(t,dy,i);return s!==dy||r===dy?s:e.get(t,r,i)}}}(e,i.injector):e,a=s.get(Yb,Os),c=s.get(oM,null),u=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function fp(n,e,t){if(Ve(n))return n.selectRootElement(e,t===ot.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):no(a.createRenderer(null,this.componentDef),f,function cM(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),g=this.componentDef.onPush?576:528,y=function oC(n,e){return{components:[],scheduler:n||q_,clean:ad,playerHandler:e||null,flags:0}}(),D=wl(0,null,null,1,0,null,null,null,null,null),T=ea(null,D,y,g,null,null,a,u,c,s);let R,O;Zi(T);try{const H=function iC(n,e,t,r,i,s){const a=t[1];t[20]=n;const u=so(a,20,2,"#host",null),f=u.mergedAttrs=e.hostAttrs;null!==f&&(bl(u,f,!0),null!==n&&(bi(i,n,f),null!==u.classes&&Hu(i,n,u.classes),null!==u.styles&&rt(i,n,u.styles)));const p=r.createRenderer(n,e),g=ea(t,Yu(e),null,e.onPush?64:16,t[20],u,r,p,s||null,null);return a.firstCreatePass&&(Ya(js(u,t),a,e.type),Dl(a,u),wp(u,t.length,1)),lo(t,g),t[20]=g}(p,this.componentDef,T,a,u);if(p)if(r)bi(u,p,["ng-version",aM.full]);else{const{attrs:F,classes:G}=function uv(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!ir(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);F&&bi(u,p,F),G&&G.length>0&&Hu(u,p,G.join(" "))}if(O=kc(D,x),void 0!==t){const F=O.projection=[];for(let G=0;G<this.ngContentSelectors.length;G++){const he=t[G];F.push(null!=he?Array.from(he):null)}}R=function sC(n,e,t,r,i){const s=t[1],a=function Ev(n,e,t){const r=Et();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),Dp(n,r,e,oo(n,e,1,null),t));const i=Ro(e,n,r.directiveStart,r);$t(i,e);const s=Bn(r,e);return s&&$t(s,e),i}(s,t,e);if(r.components.push(a),n[8]=a,i&&i.forEach(u=>u(a,e)),e.contentQueries){const u=Et();e.contentQueries(1,a,u.directiveStart)}const c=Et();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Qr(c.index),mp(t[1],c,0,c.directiveStart,c.directiveEnd,e),_p(e,a)),a}(H,this.componentDef,T,y,[RS]),Er(D,T,null)}finally{Bs()}return new fM(this.componentType,R,Hl(O,T),T,O)}}class fM extends class JA{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new lM(i),this.componentType=e}get injector(){return new $s(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class cs{}class eE{}const Ul=new Map;class rE extends cs{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Xb(this);const r=Ut(e);this._bootstrapComponents=br(r.bootstrap),this._r3Injector=Pp(e,t,[{provide:cs,useValue:this},{provide:Cd,useValue:this.componentFactoryResolver}],xe(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=U.THROW_IF_NOT_FOUND,r=se.Default){return e===U||e===cs||e===ld?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class hy extends eE{constructor(e){super(),this.moduleType=e,null!==Ut(e)&&function pM(n){const e=new Set;!function t(r){const i=Ut(r,!0),s=i.id;null!==s&&(function tE(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${xe(e)} vs ${xe(e.name)}`)}(s,Ul.get(s),r),Ul.set(s,r));const a=br(i.imports);for(const c of a)e.has(c)||(e.add(c),t(c))}(n)}(e)}create(e){return new rE(this.moduleType,e)}}function sE(n,e,t,r,i,s){const a=e+t;return pn(n,a,i)?Mi(n,a+1,s?r.call(s,i):r(i)):function Ed(n,e){const t=n[e];return t===ce?void 0:t}(n,a+1)}function py(n,e){const t=fe();let r;const i=n+x;t.firstCreatePass?(r=function EM(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=yn(r.type)),a=jr($);try{const c=Ka(!1),u=s();return Ka(c),function $S(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,N(),i,u),u}finally{jr(a)}}function gy(n,e,t){const r=n+x,i=N(),s=Kr(i,r);return function Id(n,e){return n[1].data[e].pure}(i,r)?sE(i,dt(),e,s.transform,t,s):s.transform(t)}function my(n){return e=>{setTimeout(n,void 0,e)}}const nt=class MM extends Oe{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,s,a;let c=e,u=t||(()=>null),f=r;if(e&&"object"==typeof e){const g=e;c=null===(i=g.next)||void 0===i?void 0:i.bind(g),u=null===(s=g.error)||void 0===s?void 0:s.bind(g),f=null===(a=g.complete)||void 0===a?void 0:a.bind(g)}this.__isAsync&&(u=my(u),c&&(c=my(c)),f&&(f=my(f)));const p=super.subscribe({next:c,error:u,complete:f});return e instanceof Ct&&e.add(p),p}};function xM(){return this._results[El()]()}class _y{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=El(),r=_y.prototype;r[t]||(r[t]=xM)}get changes(){return this._changes||(this._changes=new nt)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=Un(e);(this._changesDetected=!function nu(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let us=(()=>{class n{}return n.__NG_ELEMENT_ID__=FM,n})();const PM=us,RM=class extends PM{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=ea(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[I];return null!==s&&(r[I]=s.createEmbeddedView(t)),Er(t,r,e),new bd(r)}};function FM(){return Gp(Et(),N())}function Gp(n,e){return 4&n.type?new RM(e,n,Hl(n,e)):null}let Mr=(()=>{class n{}return n.__NG_ELEMENT_ID__=OM,n})();function OM(){return fE(Et(),N())}const kM=Mr,uE=class extends kM{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Hl(this._hostTNode,this._hostLView)}get injector(){return new $s(this._hostTNode,this._hostLView)}get parentInjector(){const e=Ji(this._hostTNode,this._hostLView);if(zf(e)){const t=Xi(e,this._hostLView),r=Vs(e);return new $s(t[1].data[r+8],t)}return new $s(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=dE(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,s){const a=e&&!function Ks(n){return"function"==typeof n}(e);let c;if(a)c=t;else{const g=t||{};c=g.index,r=g.injector,i=g.projectableNodes,s=g.ngModuleRef}const u=a?e:new fy(Ft(e)),f=r||this.parentInjector;if(!s&&null==u.ngModule){const y=(a?f:this.parentInjector).get(cs,null);y&&(s=y)}const p=u.create(f,i,void 0,s);return this.insert(p.hostView,c),p}insert(e,t){const r=e._lView,i=r[1];if(function Ls(n){return pe(n[3])}(r)){const p=this.indexOf(e);if(-1!==p)this.detach(p);else{const g=r[3],y=new uE(g,g[6],g[3]);y.detach(y.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;!function kh(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],Jf(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const a=e[17];null!==a&&t!==a&&function Lh(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(a,e);const c=e[I];null!==c&&c.insertView(n),e[2]|=128}(i,r,a,s);const c=Nu(s,a),u=r[X],f=ul(u,a[7]);return null!==f&&function Fh(n,e,t,r,i,s){r[0]=i,r[6]=e,Jo(n,r,t,1,i,s)}(i,a[6],u,r,f,c),e.attachToViewContainerRef(),Jf(vy(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=dE(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=al(this._lContainer,t);r&&(No(vy(this._lContainer),t),Nh(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=al(this._lContainer,t);return r&&null!=No(vy(this._lContainer),t)?new bd(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function dE(n){return n[8]}function vy(n){return n[8]||(n[8]=[])}function fE(n,e){let t;const r=e[n.index];if(pe(r))t=r;else{let i;if(8&n.type)i=Je(r);else{const s=e[X];i=s.createComment("");const a=Bn(n,e);os(s,ul(s,a),i,function iv(n,e){return Ve(n)?n.nextSibling(e):e.nextSibling}(s,a),!1)}e[n.index]=t=Cl(r,e,i,n),lo(e,t)}return new uE(t,n,e)}class yy{constructor(e){this.queryList=e,this.matches=null}clone(){return new yy(this.queryList)}setDirty(){this.queryList.setDirty()}}class wy{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const a=t.getByIndex(s);i.push(this.queries[a.indexInDeclarationView].clone())}return new wy(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==_E(e,t).matches&&this.queries[t].setDirty()}}class hE{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Dy{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new Dy(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Cy{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Cy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,BM(t,s)),this.matchTNodeWithReadOption(e,t,Ws(t,e,s,!1,!1))}else r===us?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ws(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Fi||i===Mr||i===us&&4&t.type)this.addMatch(t.index,-2);else{const s=Ws(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function BM(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function UM(n,e,t,r){return-1===t?function HM(n,e){return 11&n.type?Hl(n,e):4&n.type?Gp(n,e):null}(e,n):-2===t?function VM(n,e,t){return t===Fi?Hl(e,n):t===us?Gp(e,n):t===Mr?fE(e,n):void 0}(n,e,r):Ro(n,n[1],t,e)}function pE(n,e,t,r){const i=e[I].queries[r];if(null===i.matches){const s=n.data,a=t.matches,c=[];for(let u=0;u<a.length;u+=2){const f=a[u];c.push(f<0?null:UM(e,s[f],a[u+1],t.metadata.read))}i.matches=c}return i.matches}function by(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const a=pE(n,e,i,t);for(let c=0;c<s.length;c+=2){const u=s[c];if(u>0)r.push(a[c/2]);else{const f=s[c+1],p=e[-u];for(let g=10;g<p.length;g++){const y=p[g];y[17]===y[3]&&by(y[1],y,f,r)}if(null!==p[9]){const g=p[9];for(let y=0;y<g.length;y++){const D=g[y];by(D[1],D,f,r)}}}}}return r}function Oi(n){const e=N(),t=fe(),r=Uf();Bc(r+1);const i=_E(t,r);if(n.dirty&&Lc(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?by(t,e,r,[]):pE(t,e,i,r);n.reset(s,rM),n.notifyOnChanges()}return!0}return!1}function Sd(n,e,t){const r=fe();r.firstCreatePass&&(mE(r,new hE(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),gE(r,N(),e)}function Vl(n,e,t,r){const i=fe();if(i.firstCreatePass){const s=Et();mE(i,new hE(e,t,r),s.index),function WM(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}gE(i,N(),t)}function ki(){return function jM(n,e){return n[I].queries[e].queryList}(N(),Uf())}function gE(n,e,t){const r=new _y(4==(4&t));hp(n,e,r,r.destroy),null===e[I]&&(e[I]=new wy),e[I].queries.push(new yy(r))}function mE(n,e,t){null===n.queries&&(n.queries=new Dy),n.queries.track(new Cy(e,t))}function _E(n,e){return n.queries.getByIndex(e)}function Zp(...n){}const My=new Y("Application Initializer");let xy=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Zp,this.reject=Zp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Lp(s))t.push(s);else if(xC(s)){const a=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});t.push(a)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(K(My,8))},n.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ad=new Y("AppId",{providedIn:"root",factory:function OE(){return`${Py()}${Py()}${Py()}`}});function Py(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const kE=new Y("Platform Initializer"),Qp=new Y("Platform ID"),LE=new Y("appBootstrapListener");let NE=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=me({token:n,factory:n.\u0275fac}),n})();const co=new Y("LocaleId",{providedIn:"root",factory:()=>oh(co,se.Optional|se.SkipSelf)||function l1(){return"undefined"!=typeof $localize&&$localize.locale||Bp}()});class u1{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let BE=(()=>{class n{compileModuleSync(t){return new hy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=br(Ut(t).declarations).reduce((a,c)=>{const u=Ft(c);return u&&a.push(new fy(u)),a},[]);return new u1(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const f1=(()=>Promise.resolve(0))();function Ry(n){"undefined"==typeof Zone?f1.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class St{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nt(!1),this.onMicrotaskEmpty=new nt(!1),this.onStable=new nt(!1),this.onError=new nt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function h1(){let n=Pe.requestAnimationFrame,e=Pe.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function m1(n){const e=()=>{!function g1(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Pe,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Oy(n),n.isCheckStableRunning=!0,Fy(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Oy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,a,c)=>{try{return HE(n),t.invokeTask(i,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),UE(n)}},onInvoke:(t,r,i,s,a,c,u)=>{try{return HE(n),t.invoke(i,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),UE(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Oy(n),Fy(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!St.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(St.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+i,e,p1,Zp,Zp);try{return s.runTask(a,t,r)}finally{s.cancelTask(a)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const p1={};function Fy(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Oy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function HE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function UE(n){n._nesting--,Fy(n)}class _1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nt,this.onMicrotaskEmpty=new nt,this.onStable=new nt,this.onError=new nt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let ky=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{St.assertNotInAngularZone(),Ry(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ry(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(K(St))},n.\u0275prov=me({token:n,factory:n.\u0275fac}),n})(),VE=(()=>{class n{constructor(){this._applications=new Map,Ly.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Ly.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=me({token:n,factory:n.\u0275fac}),n})();class v1{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let di,Ly=new v1;const jE=new Y("AllowMultipleToken");class WE{constructor(e,t){this.name=e,this.token=t}}function $E(n,e,t=[]){const r=`Platform: ${e}`,i=new Y(r);return(s=[])=>{let a=zE();if(!a||a.injector.get(jE,!1))if(n)n(t.concat(s).concat({provide:i,useValue:!0}));else{const c=t.concat(s).concat({provide:i,useValue:!0},{provide:cd,useValue:"platform"});!function C1(n){if(di&&!di.destroyed&&!di.injector.get(jE,!1))throw new Te(400,"");di=n.get(GE);const e=n.get(kE,null);e&&e.forEach(t=>t())}(U.create({providers:c,name:r}))}return function b1(n){const e=zE();if(!e)throw new Te(401,"");return e}()}}function zE(){return di&&!di.destroyed?di:null}let GE=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const c=function E1(n,e){let t;return t="noop"===n?new _1:("zone.js"===n?void 0:n)||new St({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:St,useValue:c}];return c.run(()=>{const f=U.create({providers:u,parent:this.injector,name:t.moduleType.name}),p=t.create(f),g=p.injector.get(Js,null);if(!g)throw new Te(402,"");return c.runOutsideAngular(()=>{const y=c.onError.subscribe({next:D=>{g.handleError(D)}});p.onDestroy(()=>{By(this._modules,p),y.unsubscribe()})}),function I1(n,e,t){try{const r=t();return Lp(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(g,c,()=>{const y=p.injector.get(xy);return y.runInitializers(),y.donePromise.then(()=>(function iA(n){vn(n,"Expected localeId to be defined"),"string"==typeof n&&(bb=n.toLowerCase().replace(/_/g,"-"))}(p.injector.get(co,Bp)||Bp),this._moduleDoBootstrap(p),p))})})}bootstrapModule(t,r=[]){const i=KE({},r);return function w1(n,e,t){const r=new hy(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Ny);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new Te(403,"");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,"");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(K(U))},n.\u0275prov=me({token:n,factory:n.\u0275fac}),n})();function KE(n,e){return Array.isArray(e)?e.reduce(KE,n):Object.assign(Object.assign({},n),e)}let Ny=(()=>{class n{constructor(t,r,i,s,a){this._zone=t,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new Le(f=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{f.next(this._stable),f.complete()})}),u=new Le(f=>{let p;this._zone.runOutsideAngular(()=>{p=this._zone.onStable.subscribe(()=>{St.assertNotInAngularZone(),Ry(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,f.next(!0))})})});const g=this._zone.onUnstable.subscribe(()=>{St.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{f.next(!1)}))});return()=>{p.unsubscribe(),g.unsubscribe()}});this.isStable=Ia(c,u.pipe(function hc(n={}){const{connector:e=(()=>new Oe),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let a,c,u,f=0,p=!1,g=!1;const y=()=>{null==c||c.unsubscribe(),c=void 0},D=()=>{y(),a=u=void 0,p=g=!1},T=()=>{const R=a;D(),null==R||R.unsubscribe()};return qe((R,O)=>{f++,!g&&!p&&y();const H=u=null!=u?u:e();O.add(()=>{f--,0===f&&!g&&!p&&(c=pc(T,i))}),H.subscribe(O),!a&&f>0&&(a=new Br({next:F=>H.next(F),error:F=>{g=!0,y(),c=pc(D,t,F),H.error(F)},complete:()=>{p=!0,y(),c=pc(D,r),H.complete()}}),Fn(R).subscribe(a))})(s)}}()))}bootstrap(t,r){if(!this._initStatus.done)throw new Te(405,"");let i;i=t instanceof Zb?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function D1(n){return n.isBoundToModule}(i)?void 0:this._injector.get(cs),c=i.create(U.NULL,[],r||i.selector,s),u=c.location.nativeElement,f=c.injector.get(ky,null),p=f&&c.injector.get(VE);return f&&p&&p.registerApplication(u,f),c.onDestroy(()=>{this.detachView(c.hostView),By(this.components,c),p&&p.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new Te(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;By(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(LE,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(K(St),K(U),K(Js),K(Cd),K(xy))},n.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function By(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let ZE=!0,Yp=(()=>{class n{}return n.__NG_ELEMENT_ID__=A1,n})();function A1(n){return function M1(n,e,t){if(Re(n)&&!t){const r=kt(n.index,e);return new bd(r,r)}return 47&n.type?new bd(e[16],e):null}(Et(),N(),16==(16&n))}class e0{constructor(){}supports(e){return fd(e)}create(e){return new k1(e)}}const O1=(n,e)=>e;class k1{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||O1}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const a=!r||t&&t.currentIndex<n0(r,i,s)?t:r,c=n0(a,i,s),u=a.currentIndex;if(a===r)i--,r=r._nextRemoved;else if(t=t._next,null==a.previousIndex)i++;else{s||(s=[]);const f=c-i,p=u-i;if(f!=p){for(let y=0;y<f;y++){const D=y<s.length?s[y]:s[y]=0,T=D+y;p<=T&&T<f&&(s[y]=D+1)}s[a.previousIndex]=p-f}}c!==u&&e(a,c,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!fd(e))throw new Te(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,a,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],a=this._trackByFn(c,s),null!==t&&Object.is(t.trackById,a)?(r&&(t=this._verifyReinsertion(t,s,a,c)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,a,c),r=!0),t=t._next}else i=0,function jS(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[El()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,c=>{a=this._trackByFn(i,c),null!==t&&Object.is(t.trackById,a)?(r&&(t=this._verifyReinsertion(t,c,a,i)),Object.is(t.item,c)||this._addIdentityChange(t,c)):(t=this._mismatch(t,c,a,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new L1(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new t0),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new t0),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class L1{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class N1{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class t0{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new N1,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function n0(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class r0{constructor(){}supports(e){return e instanceof Map||zv(e)}create(){return new B1}}class B1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||zv(e)))throw new Te(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,a=i._next;return s&&(s._next=a),a&&(a._prev=s),i._next=null,i._prev=null,i}const r=new H1(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class H1{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function s0(){return new eg([new e0])}let eg=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||s0()),deps:[[n,new wr,new yr]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Te(901,"")}}return n.\u0275prov=me({token:n,providedIn:"root",factory:s0}),n})();function o0(){return new Md([new r0])}let Md=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||o0()),deps:[[n,new wr,new yr]]}}find(t){const r=this.factories.find(s=>s.supports(t));if(r)return r;throw new Te(901,"")}}return n.\u0275prov=me({token:n,providedIn:"root",factory:o0}),n})();const j1=$E(null,"core",[{provide:Qp,useValue:"unknown"},{provide:GE,deps:[U]},{provide:VE,deps:[]},{provide:NE,deps:[]}]);let W1=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(K(Ny))},n.\u0275mod=Zn({type:n}),n.\u0275inj=qn({}),n})(),tg=null;function uo(){return tg}const Jt=new Y("DocumentToken");let sa=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=me({token:n,factory:function(){return function K1(){return K(a0)}()},providedIn:"platform"}),n})();const q1=new Y("Location Initialized");let a0=(()=>{class n extends sa{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return uo().getBaseHref(this._doc)}onPopState(t){const r=uo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=uo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){l0()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){l0()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(K(Jt))},n.\u0275prov=me({token:n,factory:function(){return function Z1(){return new a0(K(Jt))}()},providedIn:"platform"}),n})();function l0(){return!!window.history.pushState}function Wy(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function c0(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ds(n){return n&&"?"!==n[0]?"?"+n:n}let Wl=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=me({token:n,factory:function(){return function Q1(n){const e=K(Jt).location;return new u0(K(sa),e&&e.origin||"")}()},providedIn:"root"}),n})();const $y=new Y("appBaseHref");let u0=(()=>{class n extends Wl{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Wy(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ds(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const a=this.prepareExternalUrl(i+ds(s));this._platformLocation.pushState(t,r,a)}replaceState(t,r,i,s){const a=this.prepareExternalUrl(i+ds(s));this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(K(sa),K($y,8))},n.\u0275prov=me({token:n,factory:n.\u0275fac}),n})(),Y1=(()=>{class n extends Wl{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Wy(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let a=this.prepareExternalUrl(i+ds(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(t,r,a)}replaceState(t,r,i,s){let a=this.prepareExternalUrl(i+ds(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(K(sa),K($y,8))},n.\u0275prov=me({token:n,factory:n.\u0275fac}),n})(),zy=(()=>{class n{constructor(t,r){this._subject=new nt,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=c0(d0(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ds(r))}normalize(t){return n.stripTrailingSlash(function J1(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,d0(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ds(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ds(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=ds,n.joinWithSlash=Wy,n.stripTrailingSlash=c0,n.\u0275fac=function(t){return new(t||n)(K(Wl),K(sa))},n.\u0275prov=me({token:n,factory:function(){return function X1(){return new zy(K(Wl),K(sa))}()},providedIn:"root"}),n})();function d0(n){return n.replace(/\/index.html$/,"")}let w0=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(fd(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${xe(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)($(eg),$(Md),$(Fi),$(Wp))},n.\u0275dir=bt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Bx{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let D0=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,a)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Bx(i.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)r.remove(null===s?void 0:s);else if(null!==s){const c=r.get(s);r.move(c,a),C0(c,i)}});for(let i=0,s=r.length;i<s;i++){const c=r.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{C0(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)($(Mr),$(us),$(eg))},n.\u0275dir=bt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function C0(n,e){n.context.$implicit=e.item}let tw=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Hx,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){b0("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){b0("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)($(Mr),$(us))},n.\u0275dir=bt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Hx{constructor(){this.$implicit=null,this.ngIf=null}}function b0(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${xe(e)}'.`)}let I0=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split(".");null!=(r=null!=r&&s?`${r}${s}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)($(Fi),$(Md),$(Wp))},n.\u0275dir=bt({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();class $x{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class zx{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const Gx=new zx,Kx=new $x;let S0=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Lp(t))return Gx;if(MC(t))return Kx;throw function hi(n,e){return new Te(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)($(Yp,16))},n.\u0275pipe=sn({name:"async",type:n,pure:!1}),n})(),A0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Zn({type:n}),n.\u0275inj=qn({}),n})();const M0="browser";let pP=(()=>{class n{}return n.\u0275prov=me({token:n,providedIn:"root",factory:()=>new gP(K(Jt),window)}),n})();class gP{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function mP(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const a=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(a)return a}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=x0(this.window.history)||x0(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function x0(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ow extends class vP extends class G1{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function z1(n){tg||(tg=n)}(new ow)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function yP(){return Rd=Rd||document.querySelector("base"),Rd?Rd.getAttribute("href"):null}();return null==t?null:function wP(n){dg=dg||document.createElement("a"),dg.setAttribute("href",n);const e=dg.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Rd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Lx(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let dg,Rd=null;const P0=new Y("TRANSITION_ID"),CP=[{provide:My,useFactory:function DP(n,e,t){return()=>{t.get(xy).donePromise.then(()=>{const r=uo(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[P0,Jt,U],multi:!0}];class aw{static init(){!function y1(n){Ly=n}(new aw)}addToWindow(e){Pe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Pe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Pe.getAllAngularRootElements=()=>e.getAllRootElements(),Pe.frameworkStabilizers||(Pe.frameworkStabilizers=[]),Pe.frameworkStabilizers.push(r=>{const i=Pe.getAllAngularTestabilities();let s=i.length,a=!1;const c=function(u){a=a||u,s--,0==s&&r(a)};i.forEach(function(u){u.whenStable(c)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?uo().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let bP=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=me({token:n,factory:n.\u0275fac}),n})();const fg=new Y("EventManagerPlugins");let hg=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const a=i[s];if(a.supports(t))return this._eventNameToPlugin.set(t,a),a}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(K(fg),K(St))},n.\u0275prov=me({token:n,factory:n.\u0275fac}),n})();class R0{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=uo().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let F0=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=me({token:n,factory:n.\u0275fac}),n})(),Fd=(()=>{class n extends F0{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const a=this._doc.createElement("style");a.textContent=s,i.push(r.appendChild(a))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(O0),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(O0))}}return n.\u0275fac=function(t){return new(t||n)(K(Jt))},n.\u0275prov=me({token:n,factory:n.\u0275fac}),n})();function O0(n){uo().remove(n)}const lw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},cw=/%COMP%/g;function pg(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?pg(n,i,t):(i=i.replace(cw,n),t.push(i))}return t}function N0(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let uw=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new dw(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case ot.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new MP(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case ot.ShadowDom:return new xP(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=pg(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(K(hg),K(Fd),K(Ad))},n.\u0275prov=me({token:n,factory:n.\u0275fac}),n})();class dw{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(lw[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=lw[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=lw[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(In.DashCase|In.Important)?e.style.setProperty(t,r,i&In.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&In.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,N0(r)):this.eventManager.addEventListener(e,t,N0(r))}}class MP extends dw{constructor(e,t,r,i){super(e),this.component=r;const s=pg(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function SP(n){return"_ngcontent-%COMP%".replace(cw,n)}(i+"-"+r.id),this.hostAttr=function TP(n){return"_nghost-%COMP%".replace(cw,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class xP extends dw{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=pg(i.id,i.styles,[]);for(let a=0;a<s.length;a++){const c=document.createElement("style");c.textContent=s[a],this.shadowRoot.appendChild(c)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let PP=(()=>{class n extends R0{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(K(Jt))},n.\u0275prov=me({token:n,factory:n.\u0275fac}),n})();const H0=["alt","control","meta","shift"],FP={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},U0={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},OP={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let kP=(()=>{class n extends R0{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>uo().onAndCancel(t,s.domEventName,a))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let a="";if(H0.forEach(u=>{const f=r.indexOf(u);f>-1&&(r.splice(f,1),a+=u+".")}),a+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=a,c}static getEventFullKey(t){let r="",i=function LP(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&U0.hasOwnProperty(e)&&(e=U0[e]))}return FP[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),H0.forEach(s=>{s!=i&&OP[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(K(Jt))},n.\u0275prov=me({token:n,factory:n.\u0275fac}),n})();const UP=$E(j1,"browser",[{provide:Qp,useValue:M0},{provide:kE,useValue:function NP(){ow.makeCurrent(),aw.init()},multi:!0},{provide:Jt,useFactory:function HP(){return function Oc(n){Fc=n}(document),document},deps:[]}]),VP=[{provide:cd,useValue:"root"},{provide:Js,useFactory:function BP(){return new Js},deps:[]},{provide:fg,useClass:PP,multi:!0,deps:[Jt,St,Qp]},{provide:fg,useClass:kP,multi:!0,deps:[Jt]},{provide:uw,useClass:uw,deps:[hg,Fd,Ad]},{provide:Yb,useExisting:uw},{provide:F0,useExisting:Fd},{provide:Fd,useClass:Fd,deps:[Jt]},{provide:ky,useClass:ky,deps:[St]},{provide:hg,useClass:hg,deps:[fg,St]},{provide:class _P{},useClass:bP,deps:[]}];let jP=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:Ad,useValue:t.appId},{provide:P0,useExisting:Ad},CP]}}}return n.\u0275fac=function(t){return new(t||n)(K(n,12))},n.\u0275mod=Zn({type:n}),n.\u0275inj=qn({providers:VP,imports:[A0,W1]}),n})();function ye(...n){return Rt(n,wo(n))}"undefined"!=typeof window&&window;class Rn extends Oe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:JP}=Array,{getPrototypeOf:eR,prototype:tR,keys:nR}=Object;const{isArray:sR}=Array;function cR(...n){const e=wo(n),t=function Ea(n){return He(dc(n))?n.pop():void 0}(n),{args:r,keys:i}=function rR(n){if(1===n.length){const e=n[0];if(JP(e))return{args:e,keys:null};if(function iR(n){return n&&"object"==typeof n&&eR(n)===tR}(e)){const t=nR(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n);if(0===r.length)return Rt([],e);const s=new Le(function uR(n,e,t=mi){return r=>{W0(e,()=>{const{length:i}=n,s=new Array(i);let a=i,c=i;for(let u=0;u<i;u++)W0(e,()=>{const f=Rt(n[u],e);let p=!1;f.subscribe(Ye(r,g=>{s[u]=g,p||(p=!0,c--),c||r.next(t(s.slice()))},()=>{--a||r.complete()}))},r)},r)}}(r,e,i?a=>function lR(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}(i,a):mi));return t?s.pipe(function aR(n){return Me(e=>function oR(n,e){return sR(e)?n(...e):n(e)}(n,e))}(t)):s}function W0(n,e,t){n?hr(t,n,e):e()}function gg(n,e){const t=He(n)?n:()=>n,r=i=>i.error(t());return new Le(e?i=>e.schedule(r,0,i):r)}const mg=b(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function hw(...n){return function dR(){return vo(1)}()(Rt(n,wo(n)))}function $0(n){return new Le(e=>{Fn(n()).subscribe(e)})}function z0(){return qe((n,e)=>{let t=null;n._refCount++;const r=Ye(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class fR extends Le{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,rf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ct;const t=this.getSubject();e.add(this.source.subscribe(Ye(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ct.EMPTY)}return e}refCount(){return z0()(this)}}function ho(n,e){return qe((t,r)=>{let i=null,s=0,a=!1;const c=()=>a&&!i&&r.complete();t.subscribe(Ye(r,u=>{null==i||i.unsubscribe();let f=0;const p=s++;Fn(n(u,p)).subscribe(i=Ye(r,g=>r.next(e?e(u,g,p,f++):g),()=>{i=null,c()}))},()=>{a=!0,c()}))})}function Od(n){return n<=0?()=>Ur:qe((e,t)=>{let r=0;e.subscribe(Ye(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function pw(...n){const e=wo(n);return qe((t,r)=>{(e?hw(n,t,e):hw(n,t)).subscribe(r)})}function hR(n,e,t,r,i){return(s,a)=>{let c=t,u=e,f=0;s.subscribe(Ye(a,p=>{const g=f++;u=c?n(u,p,g):(c=!0,p),r&&a.next(u)},i&&(()=>{c&&a.next(u),a.complete()})))}}function G0(n,e){return qe(hR(n,e,arguments.length>=2,!0))}function $l(n,e){return qe((t,r)=>{let i=0;t.subscribe(Ye(r,s=>n.call(e,s,i++)&&r.next(s)))})}function po(n){return qe((e,t)=>{let s,r=null,i=!1;r=e.subscribe(Ye(t,void 0,void 0,a=>{s=Fn(n(a,po(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function kd(n,e){return He(e)?At(n,e,1):At(n,1)}function gw(n){return n<=0?()=>Ur:qe((e,t)=>{let r=[];e.subscribe(Ye(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function K0(n=pR){return qe((e,t)=>{let r=!1;e.subscribe(Ye(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function pR(){return new mg}function q0(n){return qe((e,t)=>{let r=!1;e.subscribe(Ye(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function zl(n,e){const t=arguments.length>=2;return r=>r.pipe(n?$l((i,s)=>n(i,s,r)):mi,Od(1),t?q0(e):K0(()=>new mg))}function zn(n,e,t){const r=He(n)||e||t?{next:n,error:e,complete:t}:n;return r?qe((i,s)=>{var a;null===(a=r.subscribe)||void 0===a||a.call(r);let c=!0;i.subscribe(Ye(s,u=>{var f;null===(f=r.next)||void 0===f||f.call(r,u),s.next(u)},()=>{var u;c=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var f;c=!1,null===(f=r.error)||void 0===f||f.call(r,u),s.error(u)},()=>{var u,f;c&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(f=r.finalize)||void 0===f||f.call(r)}))}):mi}class hs{constructor(e,t){this.id=e,this.url=t}}class mw extends hs{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ld extends hs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Z0 extends hs{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _R extends hs{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class vR extends hs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yR extends hs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wR extends hs{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class DR extends hs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CR extends hs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q0{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Y0{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class bR{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ER{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IR{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SR{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X0{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const be="primary";class TR{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Gl(n){return new TR(n)}const J0="ngNavigationCancelingError";function _w(n){const e=Error("NavigationCancelingError: "+n);return e[J0]=!0,e}function MR(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const a=r[s],c=n[s];if(a.startsWith(":"))i[a.substring(1)]=c;else if(a!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Li(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!eI(n[i],e[i]))return!1;return!0}function eI(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function tI(n){return Array.prototype.concat.apply([],n)}function nI(n){return n.length>0?n[n.length-1]:null}function en(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ni(n){return xC(n)?n:Lp(n)?Rt(Promise.resolve(n)):ye(n)}const RR={exact:function sI(n,e,t){if(!aa(n.segments,e.segments)||!_g(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!sI(n.children[r],e.children[r],t))return!1;return!0},subset:oI},rI={exact:function FR(n,e){return Li(n,e)},subset:function OR(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>eI(n[t],e[t]))},ignored:()=>!0};function iI(n,e,t){return RR[t.paths](n.root,e.root,t.matrixParams)&&rI[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function oI(n,e,t){return aI(n,e,e.segments,t)}function aI(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!aa(i,t)||e.hasChildren()||!_g(i,t,r))}if(n.segments.length===t.length){if(!aa(n.segments,t)||!_g(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!oI(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(aa(n.segments,i)&&_g(n.segments,i,r)&&n.children[be])&&aI(n.children[be],e,s,r)}}function _g(n,e,t){return e.every((r,i)=>rI[t](n[i].parameters,r.parameters))}class oa{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gl(this.queryParams)),this._queryParamMap}toString(){return NR.serialize(this)}}class Se{constructor(e,t){this.segments=e,this.children=t,this.parent=null,en(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vg(this)}}class Nd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Gl(this.parameters)),this._parameterMap}toString(){return fI(this)}}function aa(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class lI{}class cI{parse(e){const t=new GR(e);return new oa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Bd(e.root,!0)}`,r=function UR(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${yg(t)}=${yg(i)}`).join("&"):`${yg(t)}=${yg(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function BR(n){return encodeURI(n)}(e.fragment)}`:""}`}}const NR=new cI;function vg(n){return n.segments.map(e=>fI(e)).join("/")}function Bd(n,e){if(!n.hasChildren())return vg(n);if(e){const t=n.children[be]?Bd(n.children[be],!1):"",r=[];return en(n.children,(i,s)=>{s!==be&&r.push(`${s}:${Bd(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function LR(n,e){let t=[];return en(n.children,(r,i)=>{i===be&&(t=t.concat(e(r,i)))}),en(n.children,(r,i)=>{i!==be&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===be?[Bd(n.children[be],!1)]:[`${i}:${Bd(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[be]?`${vg(n)}/${t[0]}`:`${vg(n)}/(${t.join("//")})`}}function uI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yg(n){return uI(n).replace(/%3B/gi,";")}function vw(n){return uI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wg(n){return decodeURIComponent(n)}function dI(n){return wg(n.replace(/\+/g,"%20"))}function fI(n){return`${vw(n.path)}${function HR(n){return Object.keys(n).map(e=>`;${vw(e)}=${vw(n[e])}`).join("")}(n.parameters)}`}const VR=/^[^\/()?;=#]+/;function Dg(n){const e=n.match(VR);return e?e[0]:""}const jR=/^[^=?&#]+/,$R=/^[^&#]+/;class GR{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Se([],{}):new Se([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[be]=new Se(e,t)),r}parseSegment(){const e=Dg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Nd(wg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Dg(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Dg(this.remaining);i&&(r=i,this.capture(r))}e[wg(t)]=wg(r)}parseQueryParam(e){const t=function WR(n){const e=n.match(jR);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const a=function zR(n){const e=n.match($R);return e?e[0]:""}(this.remaining);a&&(r=a,this.capture(r))}const i=dI(t),s=dI(r);if(e.hasOwnProperty(i)){let a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Dg(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=be);const a=this.parseChildren();t[s]=1===Object.keys(a).length?a[be]:new Se([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class hI{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=yw(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=yw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ww(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ww(e,this._root).map(t=>t.value)}}function yw(n,e){if(n===e.value)return e;for(const t of e.children){const r=yw(n,t);if(r)return r}return null}function ww(n,e){if(n===e.value)return[e];for(const t of e.children){const r=ww(n,t);if(r.length)return r.unshift(e),r}return[]}class ps{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Kl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class pI extends hI{constructor(e,t){super(e),this.snapshot=t,Dw(this,e)}toString(){return this.snapshot.toString()}}function gI(n,e){const t=function KR(n,e){const a=new Cg([],{},{},"",{},be,e,null,n.root,-1,{});return new _I("",new ps(a,[]))}(n,e),r=new Rn([new Nd("",{})]),i=new Rn({}),s=new Rn({}),a=new Rn({}),c=new Rn(""),u=new ql(r,i,a,c,s,be,e,t.root);return u.snapshot=t.root,new pI(new ps(u,[]),t)}class ql{constructor(e,t,r,i,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=a,this.component=c,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Me(e=>Gl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Me(e=>Gl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function mI(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function qR(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Cg{constructor(e,t,r,i,s,a,c,u,f,p,g){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=a,this.component=c,this.routeConfig=u,this._urlSegment=f,this._lastPathIndex=p,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _I extends hI{constructor(e,t){super(t),this.url=e,Dw(this,t)}toString(){return vI(this._root)}}function Dw(n,e){e.value._routerState=n,e.children.forEach(t=>Dw(n,t))}function vI(n){const e=n.children.length>0?` { ${n.children.map(vI).join(", ")} } `:"";return`${n.value}${e}`}function Cw(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Li(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Li(e.params,t.params)||n.params.next(t.params),function xR(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Li(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Li(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function bw(n,e){const t=Li(n.params,e.params)&&function kR(n,e){return aa(n,e)&&n.every((t,r)=>Li(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||bw(n.parent,e.parent))}function Hd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function QR(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Hd(n,r,i);return Hd(n,r)})}(n,e,t);return new ps(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(c=>Hd(n,c)),a}}const r=function YR(n){return new ql(new Rn(n.url),new Rn(n.params),new Rn(n.queryParams),new Rn(n.fragment),new Rn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Hd(n,s));return new ps(r,i)}}function bg(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ud(n){return"object"==typeof n&&null!=n&&n.outlets}function Ew(n,e,t,r,i){let s={};if(r&&en(r,(c,u)=>{s[u]=Array.isArray(c)?c.map(f=>`${f}`):`${c}`}),n===e)return new oa(t,s,i);const a=yI(n,e,t);return new oa(a,s,i)}function yI(n,e,t){const r={};return en(n.children,(i,s)=>{r[s]=i===e?t:yI(i,e,t)}),new Se(n.segments,r)}class wI{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&bg(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Ud);if(i&&i!==nI(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Iw{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function DI(n,e,t){if(n||(n=new Se([],{})),0===n.segments.length&&n.hasChildren())return Eg(n,e,t);const r=function rF(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const a=n.segments[i],c=t[r];if(Ud(c))break;const u=`${c}`,f=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&f&&"object"==typeof f&&void 0===f.outlets){if(!bI(u,f,a))return s;r+=2}else{if(!bI(u,{},a))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Se(n.segments.slice(0,r.pathIndex),{});return s.children[be]=new Se(n.segments.slice(r.pathIndex),n.children),Eg(s,0,i)}return r.match&&0===i.length?new Se(n.segments,{}):r.match&&!n.hasChildren()?Sw(n,e,t):r.match?Eg(n,0,i):Sw(n,e,t)}function Eg(n,e,t){if(0===t.length)return new Se(n.segments,{});{const r=function nF(n){return Ud(n[0])?n[0].outlets:{[be]:n}}(t),i={};return en(r,(s,a)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[a]=DI(n.children[a],e,s))}),en(n.children,(s,a)=>{void 0===r[a]&&(i[a]=s)}),new Se(n.segments,i)}}function Sw(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Ud(s)){const u=iF(s.outlets);return new Se(r,u)}if(0===i&&bg(t[0])){r.push(new Nd(n.segments[e].path,CI(t[0]))),i++;continue}const a=Ud(s)?s.outlets[be]:`${s}`,c=i<t.length-1?t[i+1]:null;a&&c&&bg(c)?(r.push(new Nd(a,CI(c))),i+=2):(r.push(new Nd(a,{})),i++)}return new Se(r,{})}function iF(n){const e={};return en(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Sw(new Se([],{}),0,t))}),e}function CI(n){const e={};return en(n,(t,r)=>e[r]=`${t}`),e}function bI(n,e,t){return n==t.path&&Li(e,t.parameters)}class oF{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Cw(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Kl(t);e.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,i[a],r),delete i[a]}),en(i,(s,a)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Kl(e);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],i);if(r&&r.outlet){const a=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Kl(e);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Kl(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new SR(s.value.snapshot))}),e.children.length&&this.forwardEvent(new ER(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Cw(i),i===s)if(i.component){const a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),Cw(c.route.value),this.activateChildRoutes(e,null,a.children)}else{const c=function aF(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),u=c?c.module.componentFactoryResolver:null;a.attachRef=null,a.route=i,a.resolver=u,a.outlet&&a.outlet.activateWith(i,u),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,r)}}class Tw{constructor(e,t){this.routes=e,this.module=t}}function go(n){return"function"==typeof n}function la(n){return n instanceof oa}const Vd=Symbol("INITIAL_VALUE");function jd(){return ho(n=>cR(n.map(e=>e.pipe(Od(1),pw(Vd)))).pipe(G0((e,t)=>{let r=!1;return t.reduce((i,s,a)=>i!==Vd?i:(s===Vd&&(r=!0),r||!1!==s&&a!==t.length-1&&!la(s)?i:s),e)},Vd),$l(e=>e!==Vd),Me(e=>la(e)?e:!0===e),Od(1)))}class hF{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Wd,this.attachRef=null}}class Wd{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new hF,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Aw=(()=>{class n{constructor(t,r,i,s,a){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new nt,this.deactivateEvents=new nt,this.attachEvents=new nt,this.detachEvents=new nt,this.name=s||be,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const a=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),c=this.parentContexts.getOrCreateContext(this.name).children,u=new pF(t,c,this.location.injector);this.activated=this.location.createComponent(a,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)($(Wd),$(Mr),$(Cd),function Oo(n){return function Gf(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if($c(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Et(),n)}("name"),$(Yp))},n.\u0275dir=bt({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class pF{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ql?this.route:e===Wd?this.childContexts:this.parent.get(e,t)}}let EI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Di({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&gn(0,"router-outlet")},directives:[Aw],encapsulation:2}),n})();function II(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];gF(r,mF(e,r))}}function gF(n,e){n.children&&II(n.children,e)}function mF(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Mw(n){const e=n.children&&n.children.map(Mw),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==be&&(t.component=EI),t}function Rr(n){return n.outlet||be}function SI(n,e){const t=n.filter(r=>Rr(r)===e);return t.push(...n.filter(r=>Rr(r)!==e)),t}const TI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ig(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},TI):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||MR)(t,n,e);if(!s)return Object.assign({},TI);const a={};en(s.posParams,(u,f)=>{a[f]=u.path});const c=s.consumed.length>0?Object.assign(Object.assign({},a),s.consumed[s.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:c,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Sg(n,e,t,r,i="corrected"){if(t.length>0&&function yF(n,e,t){return t.some(r=>Tg(n,e,r)&&Rr(r)!==be)}(n,t,r)){const a=new Se(e,function vF(n,e,t,r){const i={};i[be]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Rr(s)!==be){const a=new Se([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,i[Rr(s)]=a}return i}(n,e,r,new Se(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function wF(n,e,t){return t.some(r=>Tg(n,e,r))}(n,t,r)){const a=new Se(n.segments,function _F(n,e,t,r,i,s){const a={};for(const c of r)if(Tg(n,t,c)&&!i[Rr(c)]){const u=new Se([],{});u._sourceSegment=n,u._segmentIndexShift="legacy"===s?n.segments.length:e.length,a[Rr(c)]=u}return Object.assign(Object.assign({},i),a)}(n,e,t,r,n.children,i));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const s=new Se(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Tg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function AI(n,e,t,r){return!!(Rr(n)===r||r!==be&&Tg(e,t,n))&&("**"===n.path||Ig(e,n,t).matched)}function MI(n,e,t){return 0===e.length&&!n.children[t]}class Ag{constructor(e){this.segmentGroup=e||null}}class xI{constructor(e){this.urlTree=e}}function $d(n){return gg(new Ag(n))}function PI(n){return gg(new xI(n))}class EF{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(cs)}apply(){const e=Sg(this.urlTree.root,[],[],this.config).segmentGroup,t=new Se(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,be).pipe(Me(s=>this.createUrlTree(xw(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(po(s=>{if(s instanceof xI)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Ag?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,be).pipe(Me(i=>this.createUrlTree(xw(i),e.queryParams,e.fragment))).pipe(po(i=>{throw i instanceof Ag?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Se([],{[be]:e}):e;return new oa(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Me(s=>new Se([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Rt(i).pipe(kd(s=>{const a=r.children[s],c=SI(t,s);return this.expandSegmentGroup(e,c,a,s).pipe(Me(u=>({segment:u,outlet:s})))}),G0((s,a)=>(s[a.outlet]=a.segment,s),{}),function gR(n,e){const t=arguments.length>=2;return r=>r.pipe(n?$l((i,s)=>n(i,s,r)):mi,gw(1),t?q0(e):K0(()=>new mg))}())}expandSegment(e,t,r,i,s,a){return Rt(r).pipe(kd(c=>this.expandSegmentAgainstRoute(e,t,r,c,i,s,a).pipe(po(f=>{if(f instanceof Ag)return ye(null);throw f}))),zl(c=>!!c),po((c,u)=>{if(c instanceof mg||"EmptyError"===c.name)return MI(t,i,s)?ye(new Se([],{})):$d(t);throw c}))}expandSegmentAgainstRoute(e,t,r,i,s,a,c){return AI(i,t,s,a)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,a):c&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,a):$d(t):$d(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,a){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,a):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?PI(s):this.lineralizeSegments(r,s).pipe(At(a=>{const c=new Se(a,{});return this.expandSegment(e,c,t,a,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,a){const{matched:c,consumedSegments:u,remainingSegments:f,positionalParamSegments:p}=Ig(t,i,s);if(!c)return $d(t);const g=this.applyRedirectCommands(u,i.redirectTo,p);return i.redirectTo.startsWith("/")?PI(g):this.lineralizeSegments(i,g).pipe(At(y=>this.expandSegment(e,t,r,y.concat(f),a,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ye(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(Me(g=>(r._loadedConfig=g,new Se(i,{})))):ye(new Se(i,{}));const{matched:a,consumedSegments:c,remainingSegments:u}=Ig(t,r,i);return a?this.getChildConfig(e,r,i).pipe(At(p=>{const g=p.module,y=p.routes,{segmentGroup:D,slicedSegments:T}=Sg(t,c,u,y),R=new Se(D.segments,D.children);if(0===T.length&&R.hasChildren())return this.expandChildren(g,y,R).pipe(Me(G=>new Se(c,G)));if(0===y.length&&0===T.length)return ye(new Se(c,{}));const O=Rr(r)===s;return this.expandSegment(g,R,y,T,O?be:s,!0).pipe(Me(F=>new Se(c.concat(F.segments),F.children)))})):$d(t)}getChildConfig(e,t,r){return t.children?ye(new Tw(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ye(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(At(i=>i?this.configLoader.load(e.injector,t).pipe(Me(s=>(t._loadedConfig=s,s))):function CF(n){return gg(_w(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):ye(new Tw([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?ye(i.map(a=>{const c=e.get(a);let u;if(function cF(n){return n&&go(n.canLoad)}(c))u=c.canLoad(t,r);else{if(!go(c))throw new Error("Invalid CanLoad guard");u=c(t,r)}return Ni(u)})).pipe(jd(),zn(a=>{if(!la(a))return;const c=_w(`Redirecting to "${this.urlSerializer.serialize(a)}"`);throw c.url=a,c}),Me(a=>!0===a)):ye(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ye(r);if(i.numberOfChildren>1||!i.children[be])return gg(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[be]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new oa(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return en(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const c=i.substring(1);r[s]=t[c]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let a={};return en(t.children,(c,u)=>{a[u]=this.createSegmentGroup(e,c,r,i)}),new Se(s,a)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function xw(n){const e={};for(const r of Object.keys(n.children)){const s=xw(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function IF(n){if(1===n.numberOfChildren&&n.children[be]){const e=n.children[be];return new Se(n.segments.concat(e.segments),e.children)}return n}(new Se(n.segments,e))}class RI{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Mg{constructor(e,t){this.component=e,this.route=t}}function TF(n,e,t){const r=n._root;return zd(r,e?e._root:null,t,[r.value])}function xg(n,e,t){const r=function MF(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function zd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Kl(e);return n.children.forEach(a=>{(function xF(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,a=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const u=function PF(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!aa(n.url,e.url);case"pathParamsOrQueryParamsChange":return!aa(n.url,e.url)||!Li(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bw(n,e)||!Li(n.queryParams,e.queryParams);default:return!bw(n,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new RI(r)):(s.data=a.data,s._resolvedData=a._resolvedData),zd(n,e,s.component?c?c.children:null:t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Mg(c.outlet.component,a))}else a&&Gd(e,c,i),i.canActivateChecks.push(new RI(r)),zd(n,null,s.component?c?c.children:null:t,r,i)})(a,s[a.value.outlet],t,r.concat([a.value]),i),delete s[a.value.outlet]}),en(s,(a,c)=>Gd(a,t.getContext(c),i)),i}function Gd(n,e,t){const r=Kl(n),i=n.value;en(r,(s,a)=>{Gd(s,i.component?e?e.children.getContext(a):null:e,t)}),t.canDeactivateChecks.push(new Mg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class UF{}function FI(n){return new Le(e=>e.error(n))}class jF{constructor(e,t,r,i,s,a){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a}recognize(){const e=Sg(this.urlTree.root,[],[],this.config.filter(a=>void 0===a.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,be);if(null===t)return null;const r=new Cg([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},be,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ps(r,t),s=new _I(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=mI(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const a=t.children[s],c=SI(e,s),u=this.processSegmentGroup(c,a,s);if(null===u)return null;r.push(...u)}const i=OI(r);return function WF(n){n.sort((e,t)=>e.value.outlet===be?-1:t.value.outlet===be?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const a=this.processSegmentAgainstRoute(s,t,r,i);if(null!==a)return a}return MI(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!AI(e,t,r,i))return null;let s,a=[],c=[];if("**"===e.path){const D=r.length>0?nI(r).parameters:{};s=new Cg(r,D,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,NI(e),Rr(e),e.component,e,kI(t),LI(t)+r.length,BI(e))}else{const D=Ig(t,e,r);if(!D.matched)return null;a=D.consumedSegments,c=D.remainingSegments,s=new Cg(a,D.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,NI(e),Rr(e),e.component,e,kI(t),LI(t)+a.length,BI(e))}const u=function $F(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:f,slicedSegments:p}=Sg(t,a,c,u.filter(D=>void 0===D.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren()){const D=this.processChildren(u,f);return null===D?null:[new ps(s,D)]}if(0===u.length&&0===p.length)return[new ps(s,[])];const g=Rr(e)===i,y=this.processSegment(u,f,p,g?be:i);return null===y?null:[new ps(s,y)]}}function zF(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function OI(n){const e=[],t=new Set;for(const r of n){if(!zF(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=OI(r.children);e.push(new ps(r.value,i))}return e.filter(r=>!t.has(r))}function kI(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function LI(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function NI(n){return n.data||{}}function BI(n){return n.resolve||{}}function HI(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Pw(n){return ho(e=>{const t=n(e);return t?Rt(t).pipe(Me(()=>e)):ye(e)})}class JF extends class XF{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Rw=new Y("ROUTES");class UI{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(Me(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const a=s.create(e);return new Tw(tI(a.injector.get(Rw,void 0,se.Self|se.Optional)).map(Mw),a)}),po(s=>{throw t._loader$=void 0,s}));return t._loader$=new fR(i,()=>new Oe).pipe(z0()),t._loader$}loadModuleFactory(e){return Ni(e()).pipe(At(t=>t instanceof eE?ye(t):Rt(this.compiler.compileModuleAsync(t))))}}class tO{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function nO(n){throw n}function rO(n,e,t){return e.parse("/")}function VI(n,e){return ye(null)}const iO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let or=(()=>{class n{constructor(t,r,i,s,a,c,u){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Oe,this.errorHandler=nO,this.malformedUriErrorHandler=rO,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:VI,afterPreactivation:VI},this.urlHandlingStrategy=new tO,this.routeReuseStrategy=new JF,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=a.get(cs),this.console=a.get(NE);const g=a.get(St);this.isNgZoneEnabled=g instanceof St&&St.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function PR(){return new oa(new Se([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new UI(a,c,y=>this.triggerEvent(new Q0(y)),y=>this.triggerEvent(new Y0(y))),this.routerState=gI(this.currentUrlTree,this.rootComponentType),this.transitions=new Rn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe($l(i=>0!==i.id),Me(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),ho(i=>{let s=!1,a=!1;return ye(i).pipe(zn(c=>{this.currentNavigation={id:c.id,initialUrl:c.currentRawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ho(c=>{const u=this.browserUrlTree.toString(),f=!this.navigated||c.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||f)&&this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return jI(c.source)&&(this.browserUrlTree=c.extractedUrl),ye(c).pipe(ho(g=>{const y=this.transitions.getValue();return r.next(new mw(g.id,this.serializeUrl(g.extractedUrl),g.source,g.restoredState)),y!==this.transitions.getValue()?Ur:Promise.resolve(g)}),function SF(n,e,t,r){return ho(i=>function bF(n,e,t,r,i){return new EF(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(Me(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),zn(g=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:g.urlAfterRedirects})}),function GF(n,e,t,r,i){return At(s=>function VF(n,e,t,r,i="emptyOnly",s="legacy"){try{const a=new jF(n,e,t,r,i,s).recognize();return null===a?FI(new UF):ye(a)}catch(a){return FI(a)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(Me(a=>Object.assign(Object.assign({},s),{targetSnapshot:a}))))}(this.rootComponentType,this.config,g=>this.serializeUrl(g),this.paramsInheritanceStrategy,this.relativeLinkResolution),zn(g=>{if("eager"===this.urlUpdateStrategy){if(!g.extras.skipLocationChange){const D=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl);this.setBrowserUrl(D,g)}this.browserUrlTree=g.urlAfterRedirects}const y=new vR(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);r.next(y)}));if(f&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:y,extractedUrl:D,source:T,restoredState:R,extras:O}=c,H=new mw(y,this.serializeUrl(D),T,R);r.next(H);const F=gI(D,this.rootComponentType).snapshot;return ye(Object.assign(Object.assign({},c),{targetSnapshot:F,urlAfterRedirects:D,extras:Object.assign(Object.assign({},O),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=c.rawUrl,c.resolve(null),Ur}),Pw(c=>{const{targetSnapshot:u,id:f,extractedUrl:p,rawUrl:g,extras:{skipLocationChange:y,replaceUrl:D}}=c;return this.hooks.beforePreactivation(u,{navigationId:f,appliedUrlTree:p,rawUrlTree:g,skipLocationChange:!!y,replaceUrl:!!D})}),zn(c=>{const u=new yR(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(u)}),Me(c=>Object.assign(Object.assign({},c),{guards:TF(c.targetSnapshot,c.currentSnapshot,this.rootContexts)})),function RF(n,e){return At(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:a}}=t;return 0===a.length&&0===s.length?ye(Object.assign(Object.assign({},t),{guardsResult:!0})):function FF(n,e,t,r){return Rt(n).pipe(At(i=>function HF(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ye(s.map(c=>{const u=xg(c,e,i);let f;if(function fF(n){return n&&go(n.canDeactivate)}(u))f=Ni(u.canDeactivate(n,e,t,r));else{if(!go(u))throw new Error("Invalid CanDeactivate guard");f=Ni(u(n,e,t,r))}return f.pipe(zl())})).pipe(jd()):ye(!0)}(i.component,i.route,t,e,r)),zl(i=>!0!==i,!0))}(a,r,i,n).pipe(At(c=>c&&function lF(n){return"boolean"==typeof n}(c)?function OF(n,e,t,r){return Rt(e).pipe(kd(i=>hw(function LF(n,e){return null!==n&&e&&e(new bR(n)),ye(!0)}(i.route.parent,r),function kF(n,e){return null!==n&&e&&e(new IR(n)),ye(!0)}(i.route,r),function BF(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(a=>function AF(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(a)).filter(a=>null!==a).map(a=>$0(()=>ye(a.guards.map(u=>{const f=xg(u,a.node,t);let p;if(function dF(n){return n&&go(n.canActivateChild)}(f))p=Ni(f.canActivateChild(r,n));else{if(!go(f))throw new Error("Invalid CanActivateChild guard");p=Ni(f(r,n))}return p.pipe(zl())})).pipe(jd())));return ye(s).pipe(jd())}(n,i.path,t),function NF(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ye(!0);const i=r.map(s=>$0(()=>{const a=xg(s,e,t);let c;if(function uF(n){return n&&go(n.canActivate)}(a))c=Ni(a.canActivate(e,n));else{if(!go(a))throw new Error("Invalid CanActivate guard");c=Ni(a(e,n))}return c.pipe(zl())}));return ye(i).pipe(jd())}(n,i.route,t))),zl(i=>!0!==i,!0))}(r,s,n,e):ye(c)),Me(c=>Object.assign(Object.assign({},t),{guardsResult:c})))})}(this.ngModule.injector,c=>this.triggerEvent(c)),zn(c=>{if(la(c.guardsResult)){const f=_w(`Redirecting to "${this.serializeUrl(c.guardsResult)}"`);throw f.url=c.guardsResult,f}const u=new wR(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.triggerEvent(u)}),$l(c=>!!c.guardsResult||(this.restoreHistory(c),this.cancelNavigationTransition(c,""),!1)),Pw(c=>{if(c.guards.canActivateChecks.length)return ye(c).pipe(zn(u=>{const f=new DR(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(f)}),ho(u=>{let f=!1;return ye(u).pipe(function KF(n,e){return At(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ye(t);let s=0;return Rt(i).pipe(kd(a=>function qF(n,e,t,r){return function ZF(n,e,t,r){const i=HI(n);if(0===i.length)return ye({});const s={};return Rt(i).pipe(At(a=>function QF(n,e,t,r){const i=xg(n,e,r);return Ni(i.resolve?i.resolve(e,t):i(e,t))}(n[a],e,t,r).pipe(zn(c=>{s[a]=c}))),gw(1),At(()=>HI(s).length===i.length?ye(s):Ur))}(n._resolve,n,e,r).pipe(Me(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),mI(n,t).resolve),null)))}(a.route,r,n,e)),zn(()=>s++),gw(1),At(a=>s===i.length?ye(t):Ur))})}(this.paramsInheritanceStrategy,this.ngModule.injector),zn({next:()=>f=!0,complete:()=>{f||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),zn(u=>{const f=new CR(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(f)}))}),Pw(c=>{const{targetSnapshot:u,id:f,extractedUrl:p,rawUrl:g,extras:{skipLocationChange:y,replaceUrl:D}}=c;return this.hooks.afterPreactivation(u,{navigationId:f,appliedUrlTree:p,rawUrlTree:g,skipLocationChange:!!y,replaceUrl:!!D})}),Me(c=>{const u=function ZR(n,e,t){const r=Hd(n,e._root,t?t._root:void 0);return new pI(r,e)}(this.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return Object.assign(Object.assign({},c),{targetRouterState:u})}),zn(c=>{this.currentUrlTree=c.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),this.routerState=c.targetRouterState,"deferred"===this.urlUpdateStrategy&&(c.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,c),this.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>Me(r=>(new oF(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,c=>this.triggerEvent(c)),zn({next(){s=!0},complete(){s=!0}}),function mR(n){return qe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var c;s||a||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(c=this.currentNavigation)||void 0===c?void 0:c.id)===i.id&&(this.currentNavigation=null)}),po(c=>{if(a=!0,function AR(n){return n&&n[J0]}(c)){const u=la(c.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const f=new Z0(i.id,this.serializeUrl(i.extractedUrl),c.message);r.next(f),u?setTimeout(()=>{const p=this.urlHandlingStrategy.merge(c.url,this.rawUrlTree),g={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||jI(i.source)};this.scheduleNavigation(p,"imperative",null,g,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new _R(i.id,this.serializeUrl(i.extractedUrl),c);r.next(u);try{i.resolve(this.errorHandler(c))}catch(f){i.reject(f)}}return Ur}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},a=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(a){const u=Object.assign({},a);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,r,a,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){II(t),this.config=t.map(Mw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:u}=r,f=i||this.routerState.root,p=u?this.currentUrlTree.fragment:a;let g=null;switch(c){case"merge":g=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=s||null}return null!==g&&(g=this.removeEmptyProps(g)),function XR(n,e,t,r,i){if(0===t.length)return Ew(e.root,e.root,e.root,r,i);const s=function JR(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new wI(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const c={};return en(s.outlets,(u,f)=>{c[f]="string"==typeof u?u.split("/"):u}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===a?(s.split("/").forEach((c,u)=>{0==u&&"."===c||(0==u&&""===c?t=!0:".."===c?e++:""!=c&&i.push(c))}),i):[...i,s]},[]);return new wI(t,e,r)}(t);if(s.toRoot())return Ew(e.root,e.root,new Se([],{}),r,i);const a=function eF(n,e,t){if(n.isAbsolute)return new Iw(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new Iw(s,s===e.root,0)}const r=bg(n.commands[0])?0:1;return function tF(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Iw(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),c=a.processChildren?Eg(a.segmentGroup,a.index,s.commands):DI(a.segmentGroup,a.index,s.commands);return Ew(e.root,a.segmentGroup,c,r,i)}(f,this.currentUrlTree,t,g,null!=p?p:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=la(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function oO(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},iO):!1===r?Object.assign({},sO):r,la(t))return iI(this.currentUrlTree,t,i);const s=this.parseUrl(t);return iI(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ld(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,a){var c,u;if(this.disposed)return Promise.resolve(!1);let f,p,g;a?(f=a.resolve,p=a.reject,g=a.promise):g=new Promise((T,R)=>{f=T,p=R});const y=++this.navigationId;let D;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),D=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(c=this.browserPageId)&&void 0!==c?c:0:(null!==(u=this.browserPageId)&&void 0!==u?u:0)+1):D=0,this.setTransition({id:y,targetPageId:D,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:f,reject:p,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(T=>Promise.reject(T))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===a?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===a&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Z0(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){Yv()},n.\u0275prov=me({token:n,factory:n.\u0275fac}),n})();function jI(n){return"imperative"!==n}class WI{}class $I{preload(e,t){return ye(null)}}let zI=(()=>{class n{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new UI(i,r,u=>t.triggerEvent(new Q0(u)),u=>t.triggerEvent(new Y0(u)))}setUpPreloading(){this.subscription=this.router.events.pipe($l(t=>t instanceof Ld),kd(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(cs);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const a=s._loadedConfig;i.push(this.processRoutes(a.module,a.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return Rt(i).pipe(vo(),Me(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ye(r._loadedConfig):this.loader.load(t.injector,r)).pipe(At(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(K(or),K(BE),K(U),K(WI))},n.\u0275prov=me({token:n,factory:n.\u0275fac}),n})(),kw=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof mw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ld&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof X0&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new X0(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){Yv()},n.\u0275prov=me({token:n,factory:n.\u0275fac}),n})();const ca=new Y("ROUTER_CONFIGURATION"),GI=new Y("ROUTER_FORROOT_GUARD"),uO=[zy,{provide:lI,useClass:cI},{provide:or,useFactory:function gO(n,e,t,r,i,s,a={},c,u){const f=new or(null,n,e,t,r,i,tI(s));return c&&(f.urlHandlingStrategy=c),u&&(f.routeReuseStrategy=u),function mO(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(a,f),a.enableTracing&&f.events.subscribe(p=>{var g,y;null===(g=console.group)||void 0===g||g.call(console,`Router Event: ${p.constructor.name}`),console.log(p.toString()),console.log(p),null===(y=console.groupEnd)||void 0===y||y.call(console)}),f},deps:[lI,Wd,zy,U,BE,Rw,ca,[class eO{},new yr],[class YF{},new yr]]},Wd,{provide:ql,useFactory:function _O(n){return n.routerState.root},deps:[or]},zI,$I,class cO{preload(e,t){return t().pipe(po(()=>ye(null)))}},{provide:ca,useValue:{enableTracing:!1}}];function dO(){return new WE("Router",or)}let KI=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[uO,qI(t),{provide:GI,useFactory:pO,deps:[[or,new yr,new wr]]},{provide:ca,useValue:r||{}},{provide:Wl,useFactory:hO,deps:[sa,[new Ys($y),new yr],ca]},{provide:kw,useFactory:fO,deps:[or,pP,ca]},{provide:WI,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:$I},{provide:WE,multi:!0,useFactory:dO},[Lw,{provide:My,multi:!0,useFactory:vO,deps:[Lw]},{provide:ZI,useFactory:yO,deps:[Lw]},{provide:LE,multi:!0,useExisting:ZI}]]}}static forChild(t){return{ngModule:n,providers:[qI(t)]}}}return n.\u0275fac=function(t){return new(t||n)(K(GI,8),K(or,8))},n.\u0275mod=Zn({type:n}),n.\u0275inj=qn({}),n})();function fO(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new kw(n,e,t)}function hO(n,e,t={}){return t.useHash?new Y1(n,e):new u0(n,e)}function pO(n){return"guarded"}function qI(n){return[{provide:eu,multi:!0,useValue:n},{provide:Rw,multi:!0,useValue:n}]}let Lw=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Oe}appInitializer(){return this.injector.get(q1,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(c=>r=c),s=this.injector.get(or),a=this.injector.get(ca);return"disabled"===a.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===a.initialNavigation||"enabledBlocking"===a.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?ye(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(ca),i=this.injector.get(zI),s=this.injector.get(kw),a=this.injector.get(or),c=this.injector.get(Ny);t===c.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&a.initialNavigation(),i.setUpPreloading(),s.init(),a.resetRootComponentType(c.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(K(U))},n.\u0275prov=me({token:n,factory:n.\u0275fac}),n})();function vO(n){return n.appInitializer.bind(n)}function yO(n){return n.bootstrapListener.bind(n)}const ZI=new Y("Router Initializer");let Nw,DO=(()=>{class n{constructor(){}ngOnInit(){window.addEventListener("message",t=>{var r,i;if("object"==typeof t.data&&"type"in t.data&&"webpackOk"==t.data.type)return;let s=JSON.parse(t.data);"chess"!=s.key&&"parent"!=s.receiver||("passToSibling"==s.method?"player1"==s.message.receiver?null===(r=this.frame1.contentWindow)||void 0===r||r.postMessage(JSON.stringify(s.message),"*"):null===(i=this.frame2.contentWindow)||void 0===i||i.postMessage(JSON.stringify(s.message),"*"):"reset"==s.method&&this.reset())})}ngAfterViewInit(){let t=localStorage.getItem("chess-game-state");t&&(t=JSON.parse(t)),this.frame1=document.getElementById("frame1"),this.frame1.onload=()=>{var r,i;t?null===(r=this.frame1.contentWindow)||void 0===r||r.postMessage(JSON.stringify({key:"chess",receiver:"player1",method:"initAndRestoreBoard",chessGameState:t}),"*"):null===(i=this.frame1.contentWindow)||void 0===i||i.postMessage(JSON.stringify({key:"chess",receiver:"player1",method:"init"}),"*")},this.frame2=document.getElementById("frame2"),this.frame2.onload=()=>{var r,i;t?null===(r=this.frame2.contentWindow)||void 0===r||r.postMessage(JSON.stringify({key:"chess",receiver:"player2",method:"initAndRestoreBoard",chessGameState:t}),"*"):null===(i=this.frame2.contentWindow)||void 0===i||i.postMessage(JSON.stringify({key:"chess",receiver:"player2",method:"init"}),"*")}}reset(){var t,r;localStorage.removeItem("chess-game-state"),null===(t=this.frame1.contentWindow)||void 0===t||t.postMessage(JSON.stringify({key:"chess",receiver:"player1",method:"resetAndInit"}),"*"),null===(r=this.frame2.contentWindow)||void 0===r||r.postMessage(JSON.stringify({key:"chess",receiver:"player2",method:"resetAndInit"}),"*")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Di({type:n,selectors:[["app-main"]],decls:12,vars:0,consts:[[1,"w-100","bg-main","main-height","d-flex","align-items-center"],[1,"container"],[1,"text-center","pb-lg-5","pb-0"],[1,"row","pt-lg-5","pt-2"],[1,"col-lg-6","col-12"],["id","frame1","src","./#/iframepage","frameborder","0",1,"game-card","w-100","h-100dvh"],["id","frame2","src","./#/iframepage","frameborder","0",1,"game-card","w-100","h-100dvh"],[1,"pt-4","text-center"],[1,"btn","btn-info",3,"click"]],template:function(t,r){1&t&&(ze(0,"div",0)(1,"div",1)(2,"h1",2),Ri(3,"Chess Game"),je(),ze(4,"div",3)(5,"div",4),gn(6,"iframe",5),je(),ze(7,"div",4),gn(8,"iframe",6),je()(),ze(9,"div",7)(10,"button",8),Xt("click",function(){return r.reset()}),Ri(11,"Start a new game"),je()()()())},styles:[".bg-main[_ngcontent-%COMP%]{background:#F8FAFA}.main-height[_ngcontent-%COMP%]{padding-block:30px;min-height:100dvh}.h-100dvh[_ngcontent-%COMP%]{height:400px;max-height:400px}.game-card[_ngcontent-%COMP%]{padding:10px;border-radius:12px;background:#FFF;box-shadow:0 8px 12px #0000000a}"]}),n})();try{Nw="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Nw=!1}let Kd,Bw,CO=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function hP(n){return n===M0}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Nw)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(K(Qp))},n.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qd(n){return function bO(){if(null==Kd&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Kd=!0}))}finally{Kd=Kd||!1}return Kd}()?n:!!n.capture}function YI(n){if(function EO(){if(null==Bw){const n="undefined"!=typeof document?document.head:null;Bw=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Bw}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Rg(n){return n.composedPath?n.composedPath()[0]:n.target}function XI(n){return null!=n&&"false"!=`${n}`}function ar(n){return n instanceof Fi?n.nativeElement:n}class jO extends Ct{constructor(e,t){super()}schedule(e,t=0){return this}}const Fg={setInterval(n,e,...t){const{delegate:r}=Fg;return(null==r?void 0:r.setInterval)?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Fg;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class Hw extends jO{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Fg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Fg.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,vs(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const nS={now:()=>(nS.delegate||Date).now(),delegate:void 0};class Zd{constructor(e,t=Zd.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Zd.now=nS.now;class Uw extends Zd{constructor(e,t=Zd.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Vw=new Uw(Hw),WO=Vw;function rS(n=0,e,t=WO){let r=-1;return null!=e&&(yo(e)?t=e:r=e),new Le(i=>{let s=function $O(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let a=0;return t.schedule(function(){i.closed||(i.next(a++),0<=r?this.schedule(void 0,r):i.complete())},s)})}const Qd={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Qd;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new Ct(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=Qd;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Qd;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},iS=new class KO extends Uw{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class GO extends Hw{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Qd.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(Qd.cancelAnimationFrame(t),e._scheduled=void 0)}});function jw(n){return qe((e,t)=>{Fn(n).subscribe(Ye(t,()=>t.complete(),pa)),!t.closed&&e.subscribe(t)})}let Ww,qO=1;const Og={};function sS(n){return n in Og&&(delete Og[n],!0)}const ZO={setImmediate(n){const e=qO++;return Og[e]=!0,Ww||(Ww=Promise.resolve()),Ww.then(()=>sS(e)&&n()),e},clearImmediate(n){sS(n)}},{setImmediate:QO,clearImmediate:YO}=ZO,kg={setImmediate(...n){const{delegate:e}=kg;return((null==e?void 0:e.setImmediate)||QO)(...n)},clearImmediate(n){const{delegate:e}=kg;return((null==e?void 0:e.clearImmediate)||YO)(n)},delegate:void 0};new class JO extends Uw{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class XO extends Hw{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=kg.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(kg.clearImmediate(t),e._scheduled=void 0)}});let ik=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Oe,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(function nk(n,e=Vw){return function tk(n){return qe((e,t)=>{let r=!1,i=null,s=null,a=!1;const c=()=>{if(null==s||s.unsubscribe(),s=null,r){r=!1;const f=i;i=null,t.next(f)}a&&t.complete()},u=()=>{s=null,a&&t.complete()};e.subscribe(Ye(t,f=>{r=!0,i=f,s||Fn(n(f)).subscribe(s=Ye(t,c,u))},()=>{a=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>rS(n,e))}(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(K(CO),K(St),K(Jt,8))},n.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Zn({type:n}),n.\u0275inj=qn({}),n})();const ok=new Y("cdk-dir-doc",{providedIn:"root",factory:function ak(){return oh(Jt)}}),lk=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let uk=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new nt,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function ck(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?lk.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(K(ok,8))},n.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $w(n,e,t){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];i?n.setProperty(r,i,(null==t?void 0:t.has(r))?"important":""):n.removeProperty(r)}return n}function Yl(n,e){const t=e?"":"none";$w(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function oS(n,e,t){$w(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function Lg(n,e){return e&&"none"!=e?n+" "+e:n}function aS(n){const e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function zw(n,e){return n.getPropertyValue(e).split(",").map(r=>r.trim())}function Gw(n){const e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function Kw(n,e,t){const{top:r,bottom:i,left:s,right:a}=n;return t>=r&&t<=i&&e>=s&&e<=a}function Yd(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function lS(n,e,t,r){const{top:i,right:s,bottom:a,left:c,width:u,height:f}=n,p=u*e,g=f*e;return r>i-g&&r<a+g&&t>c-p&&t<s+p}class cS{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Gw(t)})})}handleScroll(e){const t=Rg(e),r=this.positions.get(t);if(!r)return null;const i=r.scrollPosition;let s,a;if(t===this._document){const f=this.getViewportScrollPosition();s=f.top,a=f.left}else s=t.scrollTop,a=t.scrollLeft;const c=i.top-s,u=i.left-a;return this.positions.forEach((f,p)=>{f.clientRect&&t!==p&&t.contains(p)&&Yd(f.clientRect,c,u)}),i.top=s,i.left=a,{top:c,left:u}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function uS(n){const e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),r=n.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<t.length;i++)t[i].removeAttribute("id");return"canvas"===r?hS(n,e):("input"===r||"select"===r||"textarea"===r)&&fS(n,e),dS("canvas",n,e,hS),dS("input, textarea, select",n,e,fS),e}function dS(n,e,t,r){const i=e.querySelectorAll(n);if(i.length){const s=t.querySelectorAll(n);for(let a=0;a<i.length;a++)r(i[a],s[a])}}let fk=0;function fS(n,e){"file"!==e.type&&(e.value=n.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${fk++}`)}function hS(n,e){const t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch(r){}}const pS=qd({passive:!0}),Ng=qd({passive:!1}),qw=new Set(["position"]);class pk{constructor(e,t,r,i,s,a){this._config=t,this._document=r,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Oe,this._pointerMoveSubscription=Ct.EMPTY,this._pointerUpSubscription=Ct.EMPTY,this._scrollSubscription=Ct.EMPTY,this._resizeSubscription=Ct.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Oe,this.started=new Oe,this.released=new Oe,this.ended=new Oe,this.entered=new Oe,this.exited=new Oe,this.dropped=new Oe,this.moved=this._moveEvents,this._pointerDown=c=>{if(this.beforeStarted.next(),this._handles.length){const u=this._getTargetHandle(c);u&&!this._disabledHandles.has(u)&&!this.disabled&&this._initializeDragSequence(u,c)}else this.disabled||this._initializeDragSequence(this._rootElement,c)},this._pointerMove=c=>{const u=this._getPointerPositionOnPage(c);if(!this._hasStartedDragging){if(Math.abs(u.x-this._pickupPositionOnPage.x)+Math.abs(u.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const D=Date.now()>=this._dragStartTime+this._getDragStartDelay(c),T=this._dropContainer;if(!D)return void this._endDragSequence(c);(!T||!T.isDragging()&&!T.isReceiving())&&(c.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(c)))}return}c.preventDefault();const f=this._getConstrainedPointerPosition(u);if(this._hasMoved=!0,this._lastKnownPointerPosition=u,this._updatePointerDirectionDelta(f),this._dropContainer)this._updateActiveDropContainer(f,u);else{const p=this._activeTransform;p.x=f.x-this._pickupPositionOnPage.x+this._passiveTransform.x,p.y=f.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(p.x,p.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:f,event:c,distance:this._getDragDistance(f),delta:this._pointerDirectionDelta})})},this._pointerUp=c=>{this._endDragSequence(c)},this._nativeDragStart=c=>{if(this._handles.length){const u=this._getTargetHandle(c);u&&!this._disabledHandles.has(u)&&!this.disabled&&c.preventDefault()}else this.disabled||c.preventDefault()},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new cS(r),a.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=XI(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(r=>Yl(r,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(r=>ar(r)),this._handles.forEach(r=>Yl(r,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&t.add(r)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=ar(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,Ng),t.addEventListener("touchstart",this._pointerDown,pS),t.addEventListener("dragstart",this._nativeDragStart,Ng)}),this._initialTransform=void 0,this._rootElement=t),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?ar(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){var e,t;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(e=this._rootElement)||void 0===e||e.remove()),null===(t=this._anchor)||void 0===t||t.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),Yl(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),Yl(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var e,t;null===(e=this._preview)||void 0===e||e.remove(),null===(t=this._previewRef)||void 0===t||t.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var e,t;null===(e=this._placeholder)||void 0===e||e.remove(),null===(t=this._placeholderRef)||void 0===t||t.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){Xd(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const r=this._rootElement,i=r.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment(""),c=this._getShadowRoot();i.insertBefore(a,r),this._initialTransform=r.style.transform||"",this._preview=this._createPreviewElement(),oS(r,!1,qw),this._document.body.appendChild(i.replaceChild(s,r)),this._getPreviewInsertionPoint(i,c).appendChild(this._preview),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const r=this.isDragging(),i=Xd(t),s=!i&&0!==t.button,a=this._rootElement,c=Rg(t),u=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),f=i?function UO(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(t):function HO(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(t);if(c&&c.draggable&&"mousedown"===t.type&&t.preventDefault(),r||s||u||f)return;if(this._handles.length){const y=a.style;this._rootElementTapHighlight=y.webkitTapHighlightColor||"",y.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(y=>this._updateOnScroll(y)),this._boundaryElement&&(this._boundaryRect=Gw(this._boundaryElement));const p=this._previewTemplate;this._pickupPositionInElement=p&&p.template&&!p.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);const g=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:g.x,y:g.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){oS(this._rootElement,!0,qw),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,r=t.getItemIndex(this),i=this._getPointerPositionOnPage(e),s=this._getDragDistance(i),a=t._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:s,dropPoint:i}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:s,dropPoint:i}),t.drop(this,r,this._initialIndex,this._initialContainer,a,s,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:r,y:i}){let s=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,e,t,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,i),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,r=e?e.template:null;let i;if(r&&e){const s=e.matchSize?this._rootElement.getBoundingClientRect():null,a=e.viewContainer.createEmbeddedView(r,e.context);a.detectChanges(),i=mS(a,this._document),this._previewRef=a,e.matchSize?_S(i,s):i.style.transform=Bg(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const s=this._rootElement;i=uS(s),_S(i,s.getBoundingClientRect()),this._initialTransform&&(i.style.transform=this._initialTransform)}return $w(i.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},qw),Yl(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(s=>i.classList.add(s)):i.classList.add(t)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function dk(n){const e=getComputedStyle(n),t=zw(e,"transition-property"),r=t.find(c=>"transform"===c||"all"===c);if(!r)return 0;const i=t.indexOf(r),s=zw(e,"transition-duration"),a=zw(e,"transition-delay");return aS(s[i])+aS(a[i])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{const i=a=>{var c;(!a||Rg(a)===this._preview&&"transform"===a.propertyName)&&(null===(c=this._preview)||void 0===c||c.removeEventListener("transitionend",i),r(),clearTimeout(s))},s=setTimeout(i,1.5*t);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let r;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),r=mS(this._placeholderRef,this._document)):r=uS(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(e,t){const r=this._rootElement.getBoundingClientRect(),i=e===this._rootElement?null:e,s=i?i.getBoundingClientRect():r,a=Xd(t)?t.targetTouches[0]:t,c=this._getViewportScrollPosition();return{x:s.left-r.left+(a.pageX-s.left-c.left),y:s.top-r.top+(a.pageY-s.top-c.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),r=Xd(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=r.pageX-t.left,s=r.pageY-t.top;if(this._ownerSVGElement){const a=this._ownerSVGElement.getScreenCTM();if(a){const c=this._ownerSVGElement.createSVGPoint();return c.x=i,c.y=s,c.matrixTransform(a.inverse())}}return{x:i,y:s}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:r,y:i}=this.constrainPosition?this.constrainPosition(e,this):e;if("x"===this.lockAxis||"x"===t?i=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(r=this._pickupPositionOnPage.x),this._boundaryRect){const{x:s,y:a}=this._pickupPositionInElement,c=this._boundaryRect,{width:u,height:f}=this._getPreviewRect(),p=c.top+a,g=c.bottom-(f-a);r=gS(r,c.left+s,c.right-(u-s)),i=gS(i,p,g)}return{x:r,y:i}}_updatePointerDirectionDelta(e){const{x:t,y:r}=e,i=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,a=Math.abs(t-s.x),c=Math.abs(r-s.y);return a>this._config.pointerDirectionChangeThreshold&&(i.x=t>s.x?1:-1,s.x=t),c>this._config.pointerDirectionChangeThreshold&&(i.y=r>s.y?1:-1,s.y=r),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,Yl(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,Ng),e.removeEventListener("touchstart",this._pointerDown,pS),e.removeEventListener("dragstart",this._nativeDragStart,Ng)}_applyRootElementTransform(e,t){const r=Bg(e,t),i=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=i.transform&&"none"!=i.transform?i.transform:""),i.transform=Lg(r,this._initialTransform)}_applyPreviewTransform(e,t){var r;const i=(null===(r=this._previewTemplate)||void 0===r?void 0:r.template)?void 0:this._initialTransform,s=Bg(e,t);this._preview.style.transform=Lg(s,i)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const r=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const s=r.left-i.left,a=i.right-r.right,c=r.top-i.top,u=i.bottom-r.bottom;r.width>i.width?(s>0&&(e+=s),a>0&&(e-=a)):e=0,r.height>i.height?(c>0&&(t+=c),u>0&&(t-=u)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:Xd(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const r=Rg(e);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&Yd(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var e;return(null===(e=this._parentPositions.positions.get(this._document))||void 0===e?void 0:e.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=YI(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const r=this._previewContainer||"global";if("parent"===r)return e;if("global"===r){const i=this._document;return t||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return ar(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}}function Bg(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function gS(n,e,t){return Math.max(e,Math.min(t,n))}function Xd(n){return"t"===n.type[0]}function mS(n,e){const t=n.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const r=e.createElement("div");return t.forEach(i=>r.appendChild(i)),r}function _S(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=Bg(e.left,e.top)}function Jd(n,e){return Math.max(0,Math.min(e,n))}class mk{constructor(e,t,r,i,s){this._dragDropRegistry=t,this._ngZone=i,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Oe,this.entered=new Oe,this.exited=new Oe,this.dropped=new Oe,this.sorted=new Oe,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Ct.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Oe,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function zO(n=0,e=Vw){return n<0&&(n=0),rS(n,n,e)}(0,iS).pipe(jw(this._stopScrollTimers)).subscribe(()=>{const a=this._scrollNode,c=this.autoScrollStep;1===this._verticalScrollDirection?a.scrollBy(0,-c):2===this._verticalScrollDirection&&a.scrollBy(0,c),1===this._horizontalScrollDirection?a.scrollBy(-c,0):2===this._horizontalScrollDirection&&a.scrollBy(c,0)})},this.element=ar(e),this._document=r,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new cS(r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,r,i){let s;this._draggingStarted(),null==i?(s=this.sortingDisabled?this._draggables.indexOf(e):-1,-1===s&&(s=this._getItemIndexFromPointerPosition(e,t,r))):s=i;const a=this._activeDraggables,c=a.indexOf(e),u=e.getPlaceholderElement();let f=a[s];if(f===e&&(f=a[s+1]),!f&&(null==s||-1===s||s<a.length-1)&&this._shouldEnterAsFirstChild(t,r)&&(f=a[0]),c>-1&&a.splice(c,1),f&&!this._dragDropRegistry.isDragging(f)){const p=f.getRootElement();p.parentElement.insertBefore(u,p),a.splice(s,0,e)}else ar(this.element).appendChild(u),a.push(e);u.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,r,i,s,a,c){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:r,container:this,previousContainer:i,isPointerOverContainer:s,distance:a,dropPoint:c})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(t.filter(i=>i.isDragging()).every(i=>-1===e.indexOf(i))?this._reset():this._cacheItems()),this}withDirection(e){return this._direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._orientation=e,this}withScrollableParents(e){const t=ar(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,r,i){if(this.sortingDisabled||!this._clientRect||!lS(this._clientRect,.05,t,r))return;const s=this._itemPositions,a=this._getItemIndexFromPointerPosition(e,t,r,i);if(-1===a&&s.length>0)return;const c="horizontal"===this._orientation,u=s.findIndex(O=>O.drag===e),f=s[a],g=f.clientRect,y=u>a?1:-1,D=this._getItemOffsetPx(s[u].clientRect,g,y),T=this._getSiblingOffsetPx(u,s,y),R=s.slice();(function gk(n,e,t){const r=Jd(e,n.length-1),i=Jd(t,n.length-1);if(r===i)return;const s=n[r],a=i<r?-1:1;for(let c=r;c!==i;c+=a)n[c]=n[c+a];n[i]=s})(s,u,a),this.sorted.next({previousIndex:u,currentIndex:a,container:this,item:e}),s.forEach((O,H)=>{if(R[H]===O)return;const F=O.drag===e,G=F?D:T,he=F?e.getPlaceholderElement():O.drag.getRootElement();O.offset+=G,c?(he.style.transform=Lg(`translate3d(${Math.round(O.offset)}px, 0, 0)`,O.initialTransform),Yd(O.clientRect,0,G)):(he.style.transform=Lg(`translate3d(0, ${Math.round(O.offset)}px, 0)`,O.initialTransform),Yd(O.clientRect,G,0))}),this._previousSwap.overlaps=Kw(g,t,r),this._previousSwap.drag=f.drag,this._previousSwap.delta=c?i.x:i.y}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let r,i=0,s=0;if(this._parentPositions.positions.forEach((a,c)=>{c===this._document||!a.clientRect||r||lS(a.clientRect,.05,e,t)&&([i,s]=function _k(n,e,t,r){const i=wS(e,r),s=DS(e,t);let a=0,c=0;if(i){const u=n.scrollTop;1===i?u>0&&(a=1):n.scrollHeight-u>n.clientHeight&&(a=2)}if(s){const u=n.scrollLeft;1===s?u>0&&(c=1):n.scrollWidth-u>n.clientWidth&&(c=2)}return[a,c]}(c,a.clientRect,e,t),(i||s)&&(r=c))}),!i&&!s){const{width:a,height:c}=this._viewportRuler.getViewportSize(),u={width:a,height:c,top:0,right:a,bottom:c,left:0};i=wS(u,t),s=DS(u,e),r=window}r&&(i!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=s,this._scrollNode=r,(i||s)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=ar(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=ar(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_cacheItemPositions(){const e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const r=t.getVisibleElement();return{drag:t,offset:0,initialTransform:r.style.transform||"",clientRect:Gw(r)}}).sort((t,r)=>e?t.clientRect.left-r.clientRect.left:t.clientRect.top-r.clientRect.top)}_reset(){this._isDragging=!1;const e=ar(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{var r;const i=t.getRootElement();if(i){const s=null===(r=this._itemPositions.find(a=>a.drag===t))||void 0===r?void 0:r.initialTransform;i.style.transform=s||""}}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(e,t,r){const i="horizontal"===this._orientation,s=t[e].clientRect,a=t[e+-1*r];let c=s[i?"width":"height"]*r;if(a){const u=i?"left":"top",f=i?"right":"bottom";-1===r?c-=a.clientRect[u]-s[f]:c+=s[u]-a.clientRect[f]}return c}_getItemOffsetPx(e,t,r){const i="horizontal"===this._orientation;let s=i?t.left-e.left:t.top-e.top;return-1===r&&(s+=i?t.width-e.width:t.height-e.height),s}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const r=this._itemPositions,i="horizontal"===this._orientation;if(r[0].drag!==this._activeDraggables[0]){const a=r[r.length-1].clientRect;return i?e>=a.right:t>=a.bottom}{const a=r[0].clientRect;return i?e<=a.left:t<=a.top}}_getItemIndexFromPointerPosition(e,t,r,i){const s="horizontal"===this._orientation,a=this._itemPositions.findIndex(({drag:c,clientRect:u})=>{if(c===e)return!1;if(i){const f=s?i.x:i.y;if(c===this._previousSwap.drag&&this._previousSwap.overlaps&&f===this._previousSwap.delta)return!1}return s?t>=Math.floor(u.left)&&t<Math.floor(u.right):r>=Math.floor(u.top)&&r<Math.floor(u.bottom)});return-1!==a&&this.sortPredicate(a,e,this)?a:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(e,t){return null!=this._clientRect&&Kw(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,r){return this._siblings.find(i=>i._canReceive(e,t,r))}_canReceive(e,t,r){if(!this._clientRect||!Kw(this._clientRect,t,r)||!this.enterPredicate(e,this))return!1;const i=this._getShadowRoot().elementFromPoint(t,r);if(!i)return!1;const s=ar(this.element);return i===s||s.contains(i)}_startReceiving(e,t){const r=this._activeSiblings;!r.has(e)&&t.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(r.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&(this._itemPositions.forEach(({clientRect:r})=>{Yd(r,t.top,t.left)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=YI(ar(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function wS(n,e){const{top:t,bottom:r,height:i}=n,s=.05*i;return e>=t-s&&e<=t+s?1:e>=r-s&&e<=r+s?2:0}function DS(n,e){const{left:t,right:r,width:i}=n,s=.05*i;return e>=t-s&&e<=t+s?1:e>=r-s&&e<=r+s?2:0}const Hg=qd({passive:!1,capture:!0});let vk=(()=>{class n{constructor(t,r){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=i=>i.isDragging(),this.pointerMove=new Oe,this.pointerUp=new Oe,this.scroll=new Oe,this._preventDefaultWhileDragging=i=>{this._activeDragInstances.length>0&&i.preventDefault()},this._persistentTouchmoveListener=i=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&i.preventDefault(),this.pointerMove.next(i))},this._document=r}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Hg)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Hg)}startDragging(t,r){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const i=r.type.startsWith("touch");this._globalListeners.set(i?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Hg}),i||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:Hg}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,a)=>{this._document.addEventListener(a,s.handler,s.options)})})}}stopDragging(t){const r=this._activeDragInstances.indexOf(t);r>-1&&(this._activeDragInstances.splice(r,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const r=[this.scroll];return t&&t!==this._document&&r.push(new Le(i=>this._ngZone.runOutsideAngular(()=>{const a=c=>{this._activeDragInstances.length&&i.next(c)};return t.addEventListener("scroll",a,!0),()=>{t.removeEventListener("scroll",a,!0)}}))),Ia(...r)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,r)=>{this._document.removeEventListener(r,t.handler,t.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(t){return new(t||n)(K(St),K(Jt))},n.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yk={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let CS=(()=>{class n{constructor(t,r,i,s){this._document=t,this._ngZone=r,this._viewportRuler=i,this._dragDropRegistry=s}createDrag(t,r=yk){return new pk(t,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new mk(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(t){return new(t||n)(K(Jt),K(St),K(ik),K(vk))},n.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bS=new Y("CDK_DRAG_PARENT"),wk=new Y("CDK_DRAG_CONFIG"),Dk=new Y("CdkDropList"),ES=new Y("CdkDragHandle"),Ck=new Y("CdkDragPlaceholder"),bk=new Y("CdkDragPreview");let Ik=(()=>{class n{constructor(t,r,i,s,a,c,u,f,p,g,y){this.element=t,this.dropContainer=r,this._ngZone=s,this._viewContainerRef=a,this._dir=u,this._changeDetectorRef=p,this._selfHandle=g,this._parentDrag=y,this._destroyed=new Oe,this.started=new nt,this.released=new nt,this.ended=new nt,this.entered=new nt,this.exited=new nt,this.dropped=new nt,this.moved=new Le(D=>{const T=this._dragRef.moved.pipe(Me(R=>({source:this,pointerPosition:R.pointerPosition,event:R.event,delta:R.delta,distance:R.distance}))).subscribe(D);return()=>{T.unsubscribe()}}),this._dragRef=f.createDrag(t,{dragStartThreshold:c&&null!=c.dragStartThreshold?c.dragStartThreshold:5,pointerDirectionChangeThreshold:c&&null!=c.pointerDirectionChangeThreshold?c.pointerDirectionChangeThreshold:5,zIndex:null==c?void 0:c.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),c&&this._assignDefaults(c),r&&(this._dragRef._withDropContainer(r._dropListRef),r.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=XI(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Od(1),jw(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const r=t.rootElementSelector,i=t.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=n._dragInstances.indexOf(this);t>-1&&n._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var t;const r=this.element.nativeElement;let i=r;this.rootElementSelector&&(i=void 0!==r.closest?r.closest(this.rootElementSelector):null===(t=r.parentElement)||void 0===t?void 0:t.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||r)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):ar(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const r=this._dir,i=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof i&&i?i:function IO(n,e=0){return function SO(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(i),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),r&&t.withDirection(r.value)}}),t.beforeStarted.pipe(Od(1)).subscribe(()=>{var r;if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){t.withParent((null===(r=n._dragInstances.find(s=>s.element.nativeElement===i))||void 0===r?void 0:r._dragRef)||null);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint})})}_assignDefaults(t){const{lockAxis:r,dragStartDelay:i,constrainPosition:s,previewClass:a,boundaryElement:c,draggingDisabled:u,rootElementSelector:f,previewContainer:p}=t;this.disabled=null!=u&&u,this.dragStartDelay=i||0,r&&(this.lockAxis=r),s&&(this.constrainPosition=s),a&&(this.previewClass=a),c&&(this.boundaryElement=c),f&&(this.rootElementSelector=f),p&&(this.previewContainer=p)}_setupHandlesListener(){this._handles.changes.pipe(pw(this._handles),zn(t=>{const r=t.filter(i=>i._parentDrag===this).map(i=>i.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),ho(t=>Ia(...t.map(r=>r._stateChanges.pipe(pw(r))))),jw(this._destroyed)).subscribe(t=>{const r=this._dragRef,i=t.element.nativeElement;t.disabled?r.disableHandle(i):r.enableHandle(i)})}}return n._dragInstances=[],n.\u0275fac=function(t){return new(t||n)($(Fi),$(Dk,12),$(Jt),$(St),$(Mr),$(wk,8),$(uk,8),$(CS),$(Yp),$(ES,10),$(bS,12))},n.\u0275dir=bt({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(t,r,i){if(1&t&&(Vl(i,bk,5),Vl(i,Ck,5),Vl(i,ES,5)),2&t){let s;Oi(s=ki())&&(r._previewTemplate=s.first),Oi(s=ki())&&(r._placeholderTemplate=s.first),Oi(s=ki())&&(r._handles=s)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,r){2&t&&gd("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[qb([{provide:bS,useExisting:n}]),Gr]}),n})(),Sk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Zn({type:n}),n.\u0275inj=qn({providers:[CS],imports:[sk]}),n})();var Tk=Jl(489);const Ak=["myModal"];function Mk(n,e){if(1&n){const t=pd();ze(0,"div",5)(1,"div",6),Xt("click",function(){return cn(t),wt().changeSelection(1)}),gn(2,"img",7),je(),ze(3,"div",6),Xt("click",function(){return cn(t),wt().changeSelection(2)}),gn(4,"img",8),je(),ze(5,"div",6),Xt("click",function(){return cn(t),wt().changeSelection(3)}),gn(6,"img",9),je(),ze(7,"div",6),Xt("click",function(){return cn(t),wt().changeSelection(4)}),gn(8,"img",10),je()()}if(2&n){const t=wt();$e(2),yt("src",t.getPieceIcon("queen"),ss),$e(2),yt("src",t.getPieceIcon("rook"),ss),$e(2),yt("src",t.getPieceIcon("bishop"),ss),$e(2),yt("src",t.getPieceIcon("knight"),ss)}}function xk(n,e){if(1&n){const t=pd();ze(0,"div",5)(1,"div",6),Xt("click",function(){return cn(t),wt().changeSelection(1)}),Ri(2,"\u265b"),je(),ze(3,"div",6),Xt("click",function(){return cn(t),wt().changeSelection(2)}),Ri(4,"\u265c"),je(),ze(5,"div",6),Xt("click",function(){return cn(t),wt().changeSelection(3)}),Ri(6,"\u265d"),je(),ze(7,"div",6),Xt("click",function(){return cn(t),wt().changeSelection(4)}),Ri(8,"\u265e"),je()()}}const Pk=["boardRef"],Rk=["modal"];function Fk(n,e){if(1&n){const t=pd();ze(0,"div",11),Xt("cdkDragEnded",function(i){return cn(t),wt().dragEnded(i)})("cdkDragMoved",function(i){return cn(t),wt().dragMoved(i)})("cdkDragStarted",function(i){return cn(t),wt().dragStart(i)}),je()}if(2&n){const t=e.$implicit,r=wt();ls("transform","translate3d("+t.point.col*r.pieceSize+"px, "+t.point.row*r.pieceSize+"px,0px)")("max-height",r.pieceSize+"px")("font-size",.8*r.pieceSize+"px")("width",r.pieceSize+"px")("height",r.pieceSize+"px"),yt("cdkDragDisabled",r.engineFacade.dragDisabled)("innerHTML",r.engineFacade.pieceIconManager.isDefaultIcons()?t.constant.icon:"",bh)("ngStyle",r.engineFacade.pieceIconManager.isDefaultIcons()?"":r.getCustomPieceIcons(t))}}function Ok(n,e){if(1&n&&(ze(0,"span",18),Ri(1),je()),2&n){const t=wt(2).index,r=wt();ls("color",t%2==0?r.lightTileColor:r.darkTileColor)("font-size",r.pieceSize/4,"px"),$e(1),_d(" ",r.engineFacade.coords.yCoords[t]," ")}}function kk(n,e){if(1&n&&(ze(0,"span",19),Ri(1),je()),2&n){const t=wt().index,r=wt(2);ls("color",t%2==0?r.lightTileColor:r.darkTileColor)("font-size",r.pieceSize/4,"px"),$e(1),_d(" ",r.engineFacade.coords.xCoords[t]," ")}}function Lk(n,e){if(1&n&&(ze(0,"div",20),gn(1,"div",21),je()),2&n){const t=wt(3);$e(1),ls("font-size",t.pieceSize+"px"),yt("ngClass","piece")}}function Nk(n,e){if(1&n&&(ze(0,"div",14),Ar(1,Ok,2,5,"span",15),Ar(2,kk,2,5,"span",16),Ar(3,Lk,2,3,"div",17),je()),2&n){const t=e.index,r=wt().index,i=wt();ls("background-color",i.getTileBackgroundColor(r,t)),gd("current-selection",i.showActivePiece&&i.engineFacade.board.isXYInActiveMove(r,t))("king-check",i.engineFacade.board.isKingChecked(i.engineFacade.board.getPieceByPoint(r,t)))("point-circle",i.engineFacade.board.isXYInPointSelection(r,t))("possible-capture",i.showPossibleCaptures&&i.engineFacade.board.isXYInPossibleCaptures(r,t))("possible-point",i.engineFacade.board.isXYInPossibleMoves(r,t)&&i.showLegalMoves),$e(1),yt("ngIf",i.showCoords&&7===t),$e(1),yt("ngIf",i.showCoords&&7===r),$e(1),yt("ngIf",i.engineFacade.board.getPieceByPoint(r,t))}}function Bk(n,e){if(1&n&&(ze(0,"div",12),Ar(1,Nk,4,15,"div",13),je()),2&n){const t=e.$implicit;$e(1),yt("ngForOf",t)}}function Hk(n,e){if(1&n&&(Yr(),ze(0,"defs")(1,"marker",22),gn(2,"path",23),je()()),2&n){const t=e.$implicit;$e(1),yt("id",t+"Arrow"),$e(1),ls("fill",t)}}function Uk(n,e){if(1&n&&(Yr(),gn(0,"line",24)),2&n){const t=e.$implicit;Il("marker-end","url(#"+t.end.color+"Arrow)")("stroke",t.end.color)("x1",t.start.x)("x2",t.end.x)("y1",t.start.y)("y2",t.end.y)}}function Vk(n,e){if(1&n&&(Yr(),gn(0,"circle",25)),2&n){const t=e.$implicit,r=wt();Il("cx",t.drawPoint.x)("cy",t.drawPoint.y)("r",r.engineFacade.heightAndWidth/18)("stroke",t.drawPoint.color)}}const jk=function(){return["red","green","blue","orange"]};var w=(()=>{return(n=w||(w={}))[n.WHITE=0]="WHITE",n[n.BLACK=1]="BLACK",w;var n})();class Xl{constructor(e,t,r,i,s){this.checkPoints=[],this.color=t,this.constant=r,this.point=e,this.relValue=i,this.board=s}}class M{constructor(e,t){this.row=e,this.col=t}isEqual(e){return e&&this.row===e.row&&this.col===e.col}hasCoordsEqual(e,t){return e&&t&&this.row===e&&this.col===t}isInRange(){return this.row>=0&&this.row<=7&&this.col>=0&&this.col<=7}clone(){return new M(this.row,this.col)}}class zt extends Xl{constructor(e,t,r,i){super(e,t,r,5,i),this.isMovedAlready=!1}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;for(let i=t+1;i<8&&this.board.isFieldEmpty(i,r);++i)e.push(new M(i,r));for(let i=t-1;i>=0&&this.board.isFieldEmpty(i,r);--i)e.push(new M(i,r));for(let i=r-1;i>=0&&this.board.isFieldEmpty(t,i);--i)e.push(new M(t,i));for(let i=r+1;i<8&&this.board.isFieldEmpty(t,i);++i)e.push(new M(t,i));return e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;for(let i=t+1;i<8;++i){if(this.board.isFieldTakenByEnemy(i,r,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new M(i,r));break}if(!this.board.isFieldEmpty(i,r))break}for(let i=t-1;i>=0;--i){if(this.board.isFieldTakenByEnemy(i,r,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new M(i,r));break}if(!this.board.isFieldEmpty(i,r))break}for(let i=r-1;i>=0;--i){if(this.board.isFieldTakenByEnemy(t,i,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new M(t,i));break}if(!this.board.isFieldEmpty(t,i))break}for(let i=r+1;i<8;++i){if(this.board.isFieldTakenByEnemy(t,i,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new M(t,i));break}if(!this.board.isFieldEmpty(t,i))break}return e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;for(let i=t+1;i<8;++i)if(this.board.isFieldEmpty(i,r))e.push(new M(i,r));else if(!(this.board.getPieceByField instanceof ke)){e.push(new M(i,r));break}for(let i=t-1;i>=0;--i)if(this.board.isFieldEmpty(i,r))e.push(new M(i,r));else if(!(this.board.getPieceByField instanceof ke)){e.push(new M(i,r));break}for(let i=r-1;i>=0;--i)if(this.board.isFieldEmpty(t,i))e.push(new M(t,i));else if(!(this.board.getPieceByField instanceof ke)){e.push(new M(t,i));break}for(let i=r+1;i<8;++i)if(this.board.isFieldEmpty(t,i))e.push(new M(t,i));else if(!(this.board.getPieceByField instanceof ke)){e.push(new M(t,i));break}return e}}class ke extends Xl{constructor(e,t,r,i){super(e,t,r,0,i),this.castledAlready=!1,this.shortCastled=!1,this.longCastled=!1,this.isCastling=!1}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;if(this.board.isFieldEmpty(t,r-1)&&!this.board.isFieldUnderAttack(t,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new M(t,r-1)),this.board.isFieldEmpty(t,r+1)&&!this.board.isFieldUnderAttack(t,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new M(t,r+1)),this.board.isFieldEmpty(t+1,r)&&!this.board.isFieldUnderAttack(t+1,r,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new M(t+1,r)),this.board.isFieldEmpty(t-1,r)&&!this.board.isFieldUnderAttack(t-1,r,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new M(t-1,r)),this.board.isFieldEmpty(t-1,r-1)&&!this.board.isFieldUnderAttack(t-1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new M(t-1,r-1)),this.board.isFieldEmpty(t-1,r+1)&&!this.board.isFieldUnderAttack(t-1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new M(t-1,r+1)),this.board.isFieldEmpty(t+1,r-1)&&!this.board.isFieldUnderAttack(t+1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new M(t+1,r-1)),this.board.isFieldEmpty(t+1,r+1)&&!this.board.isFieldUnderAttack(t+1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new M(t+1,r+1)),!this.isMovedAlready){let i=!0;for(let a=r-1;a>0;--a)if(!this.board.isFieldEmpty(t,a)||this.board.isFieldUnderAttack(t,a,this.color===w.WHITE?w.BLACK:w.WHITE)){i=!1;break}if(i&&!this.board.isKingInCheck(this.color,this.board.pieces)&&this.board.getPieceByField(t,0)){const a=this.board.getPieceByField(t,0);a instanceof zt&&(a.isMovedAlready||e.push(new M(t,r-2)))}let s=!0;for(let a=r+1;a<7;++a)if(!this.board.isFieldEmpty(t,a)||this.board.isFieldUnderAttack(t,a,this.color===w.WHITE?w.BLACK:w.WHITE)){s=!1;break}if(s&&!this.board.isKingInCheck(this.color,this.board.pieces)&&this.board.getPieceByField(t,7)){const a=this.board.getPieceByField(t,7);a instanceof zt&&(a.isMovedAlready||e.push(new M(t,r+2)))}}return e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;return this.board.isFieldTakenByEnemy(t,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new M(t,r-1)),this.board.isFieldTakenByEnemy(t,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new M(t,r+1)),this.board.isFieldTakenByEnemy(t+1,r,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t+1,r,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new M(t+1,r)),this.board.isFieldTakenByEnemy(t-1,r,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t-1,r,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new M(t-1,r)),this.board.isFieldTakenByEnemy(t-1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t-1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new M(t-1,r-1)),this.board.isFieldTakenByEnemy(t-1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t-1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new M(t-1,r+1)),this.board.isFieldTakenByEnemy(t+1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t+1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new M(t+1,r-1)),this.board.isFieldTakenByEnemy(t+1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&!this.board.isFieldUnderAttack(t+1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new M(t+1,r+1)),e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;return e.push(new M(t,r-1)),e.push(new M(t,r+1)),e.push(new M(t+1,r)),e.push(new M(t-1,r)),e.push(new M(t-1,r-1)),e.push(new M(t-1,r+1)),e.push(new M(t+1,r-1)),e.push(new M(t+1,r+1)),e}}class Fr extends Xl{constructor(e,t,r,i){super(e,t,r,3,i)}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;for(let i=t-1,s=r-1;i>=0&&s>=0&&this.board.isFieldEmpty(i,s);--i,--s)e.push(new M(i,s));for(let i=t-1,s=r+1;i>=0&&s<8&&this.board.isFieldEmpty(i,s);--i,++s)e.push(new M(i,s));for(let i=t+1,s=r-1;i<8&&s>=0&&this.board.isFieldEmpty(i,s);++i,--s)e.push(new M(i,s));for(let i=t+1,s=r+1;i<8&&s<8&&this.board.isFieldEmpty(i,s);++i,++s)e.push(new M(i,s));return e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;for(let i=t-1,s=r-1;i>=0&&s>=0;--i,--s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new M(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t-1,s=r+1;i>=0&&s<8;--i,++s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new M(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t+1,s=r-1;i<8&&s>=0;++i,--s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new M(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t+1,s=r+1;i<8&&s<8;++i,++s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new M(i,s));break}if(!this.board.isFieldEmpty(i,s))break}return e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;for(let i=t-1,s=r-1;i>=0&&s>=0;--i,--s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof ke||e.push(new M(i,s));break}e.push(new M(i,s))}for(let i=t-1,s=r+1;i>=0&&s<8;--i,++s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof ke||e.push(new M(i,s));break}e.push(new M(i,s))}for(let i=t+1,s=r-1;i<8&&s>=0;++i,--s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof ke||e.push(new M(i,s));break}e.push(new M(i,s))}for(let i=t+1,s=r+1;i<8&&s<8;++i,++s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof ke||e.push(new M(i,s));break}e.push(new M(i,s))}return e}}class Or extends Xl{constructor(e,t,r,i){super(e,t,r,3,i),this.isMovedAlready=!1}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;return this.board.isFieldEmpty(t-2,r-1)&&e.push(new M(t-2,r-1)),this.board.isFieldEmpty(t-2,r+1)&&e.push(new M(t-2,r+1)),this.board.isFieldEmpty(t-1,r-2)&&e.push(new M(t-1,r-2)),this.board.isFieldEmpty(t-1,r+2)&&e.push(new M(t-1,r+2)),this.board.isFieldEmpty(t+1,r-2)&&e.push(new M(t+1,r-2)),this.board.isFieldEmpty(t+1,r+2)&&e.push(new M(t+1,r+2)),this.board.isFieldEmpty(t+2,r-1)&&e.push(new M(t+2,r-1)),this.board.isFieldEmpty(t+2,r+1)&&e.push(new M(t+2,r+1)),e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;return this.board.isFieldTakenByEnemy(t-2,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new M(t-2,r-1)),this.board.isFieldTakenByEnemy(t-2,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new M(t-2,r+1)),this.board.isFieldTakenByEnemy(t-1,r-2,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new M(t-1,r-2)),this.board.isFieldTakenByEnemy(t-1,r+2,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new M(t-1,r+2)),this.board.isFieldTakenByEnemy(t+1,r-2,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new M(t+1,r-2)),this.board.isFieldTakenByEnemy(t+1,r+2,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new M(t+1,r+2)),this.board.isFieldTakenByEnemy(t+2,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new M(t+2,r-1)),this.board.isFieldTakenByEnemy(t+2,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new M(t+2,r+1)),e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;return e.push(new M(t-2,r-1)),e.push(new M(t-2,r+1)),e.push(new M(t-1,r-2)),e.push(new M(t-1,r+2)),e.push(new M(t+1,r-2)),e.push(new M(t+1,r+2)),e.push(new M(t+2,r-1)),e.push(new M(t+2,r+1)),e}}class Gt extends Xl{constructor(e,t,r,i){super(e,t,r,1,i),this.isMovedAlready=!1}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;return!this.board.reverted&&this.color===w.WHITE||this.board.reverted&&this.color===w.BLACK?this.board.isFieldEmpty(t-1,r)&&(e.push(new M(t-1,r)),!this.isMovedAlready&&this.board.isFieldEmpty(t-2,r)&&e.push(new M(t-2,r))):this.board.isFieldEmpty(t+1,r)&&(e.push(new M(t+1,r)),!this.isMovedAlready&&this.board.isFieldEmpty(t+2,r)&&e.push(new M(t+2,r))),e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;return!this.board.reverted&&this.color===w.WHITE||this.board.reverted&&this.color===w.BLACK?(this.board.isFieldTakenByEnemy(t-1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new M(t-1,r-1)),this.board.isFieldTakenByEnemy(t-1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new M(t-1,r+1))):(this.board.isFieldTakenByEnemy(t+1,r-1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new M(t+1,r-1)),this.board.isFieldTakenByEnemy(t+1,r+1,this.color===w.WHITE?w.BLACK:w.WHITE)&&e.push(new M(t+1,r+1))),this.board.enPassantPoint&&this.board.enPassantPiece.color===(this.color===w.WHITE?w.BLACK:w.WHITE)&&t===this.board.enPassantPiece.point.row&&1===Math.abs(this.board.enPassantPiece.point.col-r)&&e.push(this.board.enPassantPoint),e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;return!this.board.reverted&&this.color===w.WHITE||this.board.reverted&&this.color===w.BLACK?(e.push(new M(t-1,r-1)),e.push(new M(t-1,r+1))):(e.push(new M(t+1,r-1)),e.push(new M(t+1,r+1))),e}}class Bi extends Xl{constructor(e,t,r,i){super(e,t,r,9,i)}getPossibleMoves(){const e=[],t=this.point.row,r=this.point.col;for(let i=t-1,s=r-1;i>=0&&s>=0&&this.board.isFieldEmpty(i,s);--i,--s)e.push(new M(i,s));for(let i=t-1,s=r+1;i>=0&&s<8&&this.board.isFieldEmpty(i,s);--i,++s)e.push(new M(i,s));for(let i=t+1,s=r-1;i<8&&s>=0&&this.board.isFieldEmpty(i,s);++i,--s)e.push(new M(i,s));for(let i=t+1,s=r+1;i<8&&s<8&&this.board.isFieldEmpty(i,s);++i,++s)e.push(new M(i,s));for(let i=t+1;i<8&&this.board.isFieldEmpty(i,r);++i)e.push(new M(i,r));for(let i=t-1;i>=0&&this.board.isFieldEmpty(i,r);--i)e.push(new M(i,r));for(let i=r-1;i>=0&&this.board.isFieldEmpty(t,i);--i)e.push(new M(t,i));for(let i=r+1;i<8&&this.board.isFieldEmpty(t,i);++i)e.push(new M(t,i));return e}getPossibleCaptures(){const e=[],t=this.point.row,r=this.point.col;for(let i=t-1,s=r-1;i>=0&&s>=0;--i,--s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new M(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t-1,s=r+1;i>=0&&s<8;--i,++s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new M(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t+1,s=r-1;i<8&&s>=0;++i,--s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new M(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t+1,s=r+1;i<8&&s<8;++i,++s){if(this.board.isFieldTakenByEnemy(i,s,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new M(i,s));break}if(!this.board.isFieldEmpty(i,s))break}for(let i=t+1;i<8;++i){if(this.board.isFieldTakenByEnemy(i,r,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new M(i,r));break}if(!this.board.isFieldEmpty(i,r))break}for(let i=t-1;i>=0;--i){if(this.board.isFieldTakenByEnemy(i,r,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new M(i,r));break}if(!this.board.isFieldEmpty(i,r))break}for(let i=r-1;i>=0;--i){if(this.board.isFieldTakenByEnemy(t,i,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new M(t,i));break}if(!this.board.isFieldEmpty(t,i))break}for(let i=r+1;i<8;++i){if(this.board.isFieldTakenByEnemy(t,i,this.color===w.WHITE?w.BLACK:w.WHITE)){e.push(new M(t,i));break}if(!this.board.isFieldEmpty(t,i))break}return e}getCoveredFields(){const e=[],t=this.point.row,r=this.point.col;for(let i=t+1;i<8;++i){if(!this.board.isFieldEmpty(i,r)){this.board.getPieceByField(i,r)instanceof ke||e.push(new M(i,r));break}e.push(new M(i,r))}for(let i=t-1;i>=0;--i){if(!this.board.isFieldEmpty(i,r)){this.board.getPieceByField(i,r)instanceof ke||e.push(new M(i,r));break}e.push(new M(i,r))}for(let i=r-1;i>=0;--i){if(!this.board.isFieldEmpty(t,i)){this.board.getPieceByField(t,i)instanceof ke||e.push(new M(t,i));break}e.push(new M(t,i))}for(let i=r+1;i<8;++i){if(!this.board.isFieldEmpty(t,i)){this.board.getPieceByField(t,i)instanceof ke||e.push(new M(t,i));break}e.push(new M(t,i))}for(let i=t-1,s=r-1;i>=0&&s>=0;--i,--s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof ke||e.push(new M(i,s));break}e.push(new M(i,s))}for(let i=t-1,s=r+1;i>=0&&s<8;--i,++s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof ke||e.push(new M(i,s));break}e.push(new M(i,s))}for(let i=t+1,s=r-1;i<8&&s>=0;++i,--s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof ke||e.push(new M(i,s));break}e.push(new M(i,s))}for(let i=t+1,s=r+1;i<8&&s<8;++i,++s){if(!this.board.isFieldEmpty(i,s)){this.board.getPieceByField(i,s)instanceof ke||e.push(new M(i,s));break}e.push(new M(i,s))}return e}}const ie={WHITE_KING:{name:"King",icon:"&#x2654;"},WHITE_QUEEN:{name:"Queen",icon:"&#x2655;"},WHITE_KNIGHT:{name:"Knight",icon:"&#x2658"},WHITE_ROOK:{name:"Rook",icon:"&#x2656"},WHITE_PAWN:{name:"Pawn",icon:"&#x2659"},WHITE_BISHOP:{name:"Bishop",icon:"&#x2657"},BLACK_KING:{name:"King",icon:"&#x265A"},BLACK_QUEEN:{name:"Queen",icon:"&#x265B"},BLACK_KNIGHT:{name:"Knight",icon:"&#x265E"},BLACK_ROOK:{name:"Rook",icon:"&#x265C"},BLACK_PAWN:{name:"Pawn",icon:"&#x265F"},BLACK_BISHOP:{name:"Bishop",icon:"&#x265D"}};class IS{process(e,t){let r=e;if(!e)throw Error("Incorrect FEN provided");{t.board.reverted=!1,t.board.pieces=[];const i=r.split("/");for(let s=0;s<8;++s){let a=0;for(let c=0;c<i[s].split(" ")[0].length;++c){const u=i[s].charAt(c);if(u.match(/[0-9]/))a+=Number(u);else{switch(u){case"r":t.board.pieces.push(new zt(new M(s,a),w.BLACK,ie.BLACK_ROOK,t.board));break;case"n":t.board.pieces.push(new Or(new M(s,a),w.BLACK,ie.BLACK_KNIGHT,t.board));break;case"b":t.board.pieces.push(new Fr(new M(s,a),w.BLACK,ie.BLACK_BISHOP,t.board));break;case"q":t.board.pieces.push(new Bi(new M(s,a),w.BLACK,ie.BLACK_QUEEN,t.board));break;case"k":t.board.pieces.push(new ke(new M(s,a),w.BLACK,ie.BLACK_KING,t.board));break;case"p":{const f=new Gt(new M(s,a),w.BLACK,ie.BLACK_PAWN,t.board);(f.color===w.BLACK&&1!==f.point.row||f.color===w.WHITE&&6!==f.point.row)&&(f.isMovedAlready=!0),t.board.pieces.push(f);break}case"R":t.board.pieces.push(new zt(new M(s,a),w.WHITE,ie.WHITE_ROOK,t.board));break;case"N":t.board.pieces.push(new Or(new M(s,a),w.WHITE,ie.WHITE_KNIGHT,t.board));break;case"B":t.board.pieces.push(new Fr(new M(s,a),w.WHITE,ie.WHITE_BISHOP,t.board));break;case"Q":t.board.pieces.push(new Bi(new M(s,a),w.WHITE,ie.WHITE_QUEEN,t.board));break;case"K":t.board.pieces.push(new ke(new M(s,a),w.WHITE,ie.WHITE_KING,t.board));break;case"P":{const f=new Gt(new M(s,a),w.WHITE,ie.WHITE_PAWN,t.board);(f.color===w.BLACK&&1!==f.point.row||f.color===w.WHITE&&6!==f.point.row)&&(f.isMovedAlready=!0),t.board.pieces.push(f);break}}++a}}}this.setCurrentPlayer(t.board,r),this.setCastles(t.board,r),this.setEnPassant(r),this.setFullMoveCount(r),t.board.fen=r}}setCurrentPlayer(e,t){if(t){const r=t.split(" ");e.currentWhitePlayer="w"===r[1]}}setCastles(e,t){if(t){const i=t.split(" ")[2];i.includes("K")||this.setRookAlreadyMoved(e,w.WHITE,7),i.includes("Q")||this.setRookAlreadyMoved(e,w.WHITE,0),i.includes("k")||this.setRookAlreadyMoved(e,w.BLACK,7),i.includes("q")||this.setRookAlreadyMoved(e,w.BLACK,0)}}setFullMoveCount(e){}setEnPassant(e){!e||e.split(" ")}setRookAlreadyMoved(e,t,r){const i=e.pieces.find(s=>s.color===t&&s instanceof zt&&s.point.col===r);i&&(i.isMovedAlready=!0)}}class Wk{constructor(e,t,r){this._xAxis=e,this._yAxis=t,this._reverted=r}get xAxis(){return this._xAxis}set xAxis(e){this._xAxis=e}get yAxis(){return this._yAxis}set yAxis(e){this._yAxis=e}get reverted(){return this._reverted}set reverted(e){this._reverted=e}}class q{static willMoveCauseCheck(e,t,r,i,s,a){const c=a.getPieceByField(t,r),u=a.getPieceByField(i,s);c&&(c.point.row=i,c.point.col=s),u&&(a.pieces=a.pieces.filter(p=>p!==u));const f=a.isKingInCheck(e,a.pieces);return c&&(c.point.col=r,c.point.row=t),u&&a.pieces.push(u),f}static format(e,t,r){if(r){const s=104-t.col;return String.fromCharCode(104-e.col)+(e.row+1)+String.fromCharCode(s)+(t.row+1)}return String.fromCharCode(e.col+97)+(Math.abs(e.row-7)+1)+String.fromCharCode(t.col+97)+(Math.abs(t.row-7)+1)}static translateCoordsToIndex(e,t){let r,i;return t?(r=104-e.charCodeAt(0),i=+e.charAt(1)-1):(r=e.charCodeAt(0)-97,i=Math.abs(+e.charAt(1)-8)),new Wk(r,i,t)}static findPieceByPossibleMovesContaining(e,t,r){let i=this.translateCoordsToIndex(e,t.reverted),s=new M(i.yAxis,i.xAxis),a=[];for(let c of t.pieces.filter(u=>u.color===r))for(let u of c.getPossibleMoves())!q.willMoveCauseCheck(c.color,c.point.row,c.point.col,i.yAxis,i.xAxis,t)&&u.isEqual(s)&&a.push(c);return a}static findPieceByPossibleCapturesContaining(e,t,r){let i=this.translateCoordsToIndex(e,t.reverted),s=new M(i.yAxis,i.xAxis),a=[];for(let c of t.pieces.filter(u=>u.color===r))for(let u of c.getPossibleCaptures())!q.willMoveCauseCheck(c.color,c.point.row,c.point.col,i.yAxis,i.xAxis,t)&&u.isEqual(s)&&a.push(c);return a}static formatSingle(e,t){return t?String.fromCharCode(104-e.col)+(e.row+1):String.fromCharCode(e.col+97)+(Math.abs(e.row-7)+1)}static getFirstLetterPiece(e){return e instanceof Gt?"P":e instanceof Or?"N":e instanceof Fr?"B":e instanceof zt?"R":e instanceof ke?"K":e instanceof Bi?"Q":""}static reverse(e,t){return e.reverted?t+1:Math.abs(t-7)+1}static formatCol(e,t){return String.fromCharCode(e.reverted?104-t:97+t)}}class SS{static loadDefaultPieces(e){e.pieces=[];for(let t=0;t<8;++t)e.pieces.push(new Gt(new M(1,t),w.BLACK,ie.BLACK_PAWN,e));e.pieces.push(new zt(new M(0,0),w.BLACK,ie.BLACK_ROOK,e)),e.pieces.push(new Or(new M(0,1),w.BLACK,ie.BLACK_KNIGHT,e)),e.pieces.push(new Fr(new M(0,2),w.BLACK,ie.BLACK_BISHOP,e)),e.pieces.push(new Bi(new M(0,3),w.BLACK,ie.BLACK_QUEEN,e)),e.pieces.push(new ke(new M(0,4),w.BLACK,ie.BLACK_KING,e)),e.pieces.push(new Fr(new M(0,5),w.BLACK,ie.BLACK_BISHOP,e)),e.pieces.push(new Or(new M(0,6),w.BLACK,ie.BLACK_KNIGHT,e)),e.pieces.push(new zt(new M(0,7),w.BLACK,ie.BLACK_ROOK,e));for(let t=0;t<8;++t)e.pieces.push(new Gt(new M(6,t),w.WHITE,ie.WHITE_PAWN,e));e.pieces.push(new zt(new M(7,0),w.WHITE,ie.WHITE_ROOK,e)),e.pieces.push(new Or(new M(7,1),w.WHITE,ie.WHITE_KNIGHT,e)),e.pieces.push(new Fr(new M(7,2),w.WHITE,ie.WHITE_BISHOP,e)),e.pieces.push(new Bi(new M(7,3),w.WHITE,ie.WHITE_QUEEN,e)),e.pieces.push(new ke(new M(7,4),w.WHITE,ie.WHITE_KING,e)),e.pieces.push(new Fr(new M(7,5),w.WHITE,ie.WHITE_BISHOP,e)),e.pieces.push(new Or(new M(7,6),w.WHITE,ie.WHITE_KNIGHT,e)),e.pieces.push(new zt(new M(7,7),w.WHITE,ie.WHITE_ROOK,e)),e.calculateFEN()}}class $k{process(e,t){if(e){t.board.reverted=!1,t.board.pieces=[],t.reset(),SS.loadDefaultPieces(t.board);let r=this.extractMoves(e),i=-1;for(let s of r){++i,s=s.replace(/[+#]/g,"");let a="";s.includes("=")&&(a=this.resolvePromotion(s.substring(s.length-1)),s=s.substring(0,s.length-2));let c=0===i||i%2==0?w.WHITE:w.BLACK;if(/^[a-z]\d$/g.test(s)){let u=q.findPieceByPossibleMovesContaining(s,t.board,c).find(f=>f instanceof Gt);u||(u=q.findPieceByPossibleCapturesContaining(s,t.board,c).find(f=>f instanceof Gt)),u&&t.move(q.formatSingle(u.point,!1)+s+a)}else if(/^[A-Z][a-h]\d$/g.test(s)){let f=q.findPieceByPossibleMovesContaining(s.substring(1),t.board,c).find(p=>this.resolvePieceByFirstChar(s.charAt(0),p));f&&t.move(q.formatSingle(f.point,!1)+s.substring(1)+a)}else if("O-O"===s)t.move(c===w.WHITE?"e1g1":"e8g8");else if(/^[a-z]x[a-z]\d$/g.test(s)){let f,u=q.findPieceByPossibleCapturesContaining(s.substring(s.indexOf("x")+1),t.board,c).filter(p=>p instanceof Gt);f=u.length>1?this.resolveByCol(u,s.substring(0,1)):u[0],f&&t.move(q.formatSingle(f.point,!1)+s.substring(s.indexOf("x")+1)+a)}else if(/^[A-Z]x[a-z]\d$/g.test(s)){let u=q.findPieceByPossibleCapturesContaining(s.substring(s.indexOf("x")+1),t.board,c).find(f=>this.resolvePieceByFirstChar(s.substring(0,1),f));u&&t.move(q.formatSingle(u.point,!1)+s.substring(s.indexOf("x")+1)+a)}else if("O-O-O"===s)t.move(c===w.WHITE?"e1c1":"e8c8");else if(/^[A-Z]\dx[a-z]\d$/g.test(s)){let u=q.findPieceByPossibleCapturesContaining(s.substring(s.indexOf("x")+1),t.board,c).filter(p=>this.resolvePieceByFirstChar(s.charAt(0),p)),f=this.resolveByRow(u,s.substring(1,2));f&&t.move(q.formatSingle(f.point,!1)+s.substring(s.indexOf("x")+1)+a)}else if(/^[A-Z][a-z][a-z]\d$/g.test(s)){let u=q.findPieceByPossibleMovesContaining(s.substring(2,4),t.board,c).filter(p=>this.resolvePieceByFirstChar(s.charAt(0),p)),f=this.resolveByCol(u,s.substring(1,2));f&&t.move(q.formatSingle(f.point,!1)+s.substring(2,4)+a)}else if(/^[A-Z][a-z]x[a-z]\d$/g.test(s)){let u=q.findPieceByPossibleCapturesContaining(s.substring(s.indexOf("x")+1),t.board,c).filter(p=>this.resolvePieceByFirstChar(s.charAt(0),p)),f=this.resolveByCol(u,s.substring(1,2));f&&t.move(q.formatSingle(f.point,!1)+s.substring(s.indexOf("x")+1)+a)}else this.processR1f2(s,t,c,a)}}}processR1f2(e,t,r,i){if(/^[A-Z]\d[a-z]\d$/g.test(e)){let s=q.findPieceByPossibleMovesContaining(e.substring(2,4),t.board,r).filter(c=>this.resolvePieceByFirstChar(e.charAt(0),c)),a=this.resolveByRow(s,e.substring(1,2));a&&t.move(q.formatSingle(a.point,!1)+e.substring(2,4)+i)}}extractMoves(e){return e.substring(e.lastIndexOf("]")+1).replace(/[0-9]+\./g,"").replace(/\s+/g," ").replace(/{[^}]*}/g,"").trim().split(" ").filter(t=>t)}movePiece(e,t,r){let i=q.translateCoordsToIndex(r,t.reverted);e.point.col=i.xAxis,e.point.row=i.yAxis}hasUpperCase(e){return/[A-Z]/.test(e)}resolvePieceByFirstChar(e,t){let r="";return t instanceof ke?r="K":t instanceof Bi?r="Q":t instanceof zt?r="R":t instanceof Fr?r="B":t instanceof Or?r="N":t instanceof Gt&&(r="P"),e===r}isShortCastle(e){return"O-O"===e}removePiece(e,t){let r=q.translateCoordsToIndex(e,t.reverted);t.pieces=t.pieces.filter(i=>!i.point.isEqual(new M(r.yAxis,r.xAxis)))}isLongCastle(e){return"O-O-O"===e}resolveByCol(e,t){let r=q.formatSingle(e[0].point,!1);return q.formatSingle(e[1].point,!1),r.substring(0,1)===t?e[0]:e[1]}resolveByRow(e,t){let r=q.formatSingle(e[0].point,!1);return q.formatSingle(e[1].point,!1),r.substring(1,2)===t?e[0]:e[1]}replacePromotion(e){return e.replace("=Q","1").replace("=R","2").replace("=B","3").replace("=K","4")}resolvePromotion(e){switch(e){case"Q":return"1";case"R":return"2";case"B":return"3";case"N":return"4"}return""}}class Zw{static getProcessor(e){switch(e){case da.FEN:return new IS;case da.PGN:return new $k}}static getDefaultProcessor(){return new IS}}var da=(()=>{return(n=da||(da={}))[n.FEN=1]="FEN",n[n.PGN=2]="PGN",da;var n})();class zk{constructor(e,t,r){this.x=e+.5,this.y=t+.5,this.color=r}isEqual(e){return e&&e.x===this.x&&this.y===e.y}}class Qw{static getClickPoint(e,t,r,i,s){return new M(Math.floor((e.y-t)/(r/8)),Math.floor((e.x-i)/(s/8)))}static getDrawingPoint(e,t,r,i,s,a,c,u,f){const p=e/8,g=Math.floor((r-u)/p),y=Math.floor((i-f)/p);let D=t.resolve(s,c,a);return new zk(Math.floor(g*p+p/2),Math.floor(y*p+p/2),D)}}class Gk{constructor(e,t,r,i){this.move=e,this.piece=t,this.color=r,this.x=i}setGameStates(e,t,r){this.check=e,this.stalemate=t,this.mate=r}}class Kk{constructor(){this.historyMovesSubject$=new Rn([])}get historyMoves(){return this.historyMovesSubject$.value}set historyMoves(e){this.historyMovesSubject$.next(e)}addMove(e){this.historyMoves=[...this.historyMoves,e]}pop(){const e=this.getLastMove();return this.historyMoves=this.historyMoves.filter(t=>t!==e),e}getAll(){return this.historyMoves}clear(){this.historyMoves=[]}getLastMove(){return this.historyMoves[this.getLastMoveIndex()]}getLastMoveIndex(){return this.historyMoves.length-1}}let gs=(()=>{class n{}return n.DEFAULT_DARK_TILE_COLOR="rgb(97, 84, 61)",n.DEFAULT_LIGHT_TILE_COLOR="#BAA378",n.DEFAULT_SIZE=500,n.MIN_BOARD_SIZE=100,n.MAX_BOARD_SIZE=4e3,n.DEFAULT_SOURCE_POINT_COLOR="rgba(146, 111, 26, 0.79)",n.DEFAULT_DESTINATION_POINT_COLOR="#b28e1a",n.DEFAULT_LEGAL_MOVE_POINT_COLOR="radial-gradient(#13262F 15%, transparent 20%);",n})();class qk{constructor(){this._defaultIcons=!1}get pieceIconInput(){return this._pieceIconInput}set pieceIconInput(e){this._pieceIconInput=e}get defaultIcons(){return this._defaultIcons}set defaultIcons(e){this._defaultIcons=e}isDefaultIcons(){return null==this.pieceIconInput}getPieceIcon(e){let t=e.color===w.WHITE;switch(e.constructor){case ke:return t?this.pieceIconInput.whiteKingUrl:this.pieceIconInput.blackKingUrl;case Bi:return t?this.pieceIconInput.whiteQueenUrl:this.pieceIconInput.blackQueenUrl;case zt:return t?this.pieceIconInput.whiteRookUrl:this.pieceIconInput.blackRookUrl;case Fr:return t?this.pieceIconInput.whiteBishopUrl:this.pieceIconInput.blackBishopUrl;case Or:return t?this.pieceIconInput.whiteKnightUrl:this.pieceIconInput.blackKnightUrl;case Gt:return t?this.pieceIconInput.whitePawnUrl:this.pieceIconInput.blackPawnUrl}}loadDefaultData(){this.pieceIconInput={blackBishopUrl:"",blackKingUrl:"",blackKnightUrl:"",blackQueenUrl:"",blackRookUrl:"",whiteBishopUrl:"",whiteKingUrl:"",whiteKnightUrl:"",whitePawnUrl:"",whiteQueenUrl:"",whiteRookUrl:"",blackPawnUrl:"a"}}}class Zk{constructor(){this.defaultXCoords=["a","b","c","d","e","f","g","h"],this.defaultYCoords=[8,7,6,5,4,3,2,1],this.currentXCoords=[...this.defaultXCoords],this.currentYCoords=[...this.defaultYCoords]}get xCoords(){return this.currentXCoords}get yCoords(){return this.currentYCoords}reverse(){this.currentXCoords=this.currentXCoords.reverse(),this.currentYCoords=this.currentYCoords.reverse()}reset(){this.init()}init(){this.currentXCoords=[...this.defaultXCoords],this.currentYCoords=[...this.defaultYCoords]}}class Qk{dragEnded(e,t,r){t||r&&(e.source._dragRef.getRootElement().style.transform=r)}}class Yk{constructor(){this.dragEndProcessor=new Qk}process(e,t,r){this.dragEndProcessor.dragEnded(e,t,r)}setDragEndProcessor(e){this.dragEndProcessor=e}}class Xk{dragStarted(e){const t=e.source.getRootElement().style;t.zIndex="1000",t.position="absolute"}}class Jk{constructor(){this.dragStartProcessor=new Xk}process(e){this.dragStartProcessor.dragStarted(e)}setDragStartProcessor(e){this.dragStartProcessor=e}}class eL{resolve(e,t,r){let i="green";return(e||t)&&(i="red"),r&&(i="blue"),(t||e)&&r&&(i="orange"),i}}class tL{constructor(){this.colorProcessor=new eL}resolve(e,t,r){return this.colorProcessor.resolve(e,t,r)}setColorProcessor(e){this.colorProcessor=e}}class nL{constructor(){this.arrowsSubject$=new Rn([]),this.circlesSubject$=new Rn([]),this.arrows$=this.arrowsSubject$.asObservable(),this.circles$=this.circlesSubject$.asObservable()}get circles(){return this.circlesSubject$.value}set circles(e){this.circlesSubject$.next(e)}get arrows(){return this.arrowsSubject$.value}set arrows(e){this.arrowsSubject$.next(e)}addCircle(e){this.circles=[...this.circles,e]}reomveCircle(e){this.circles=this.circles.filter(t=>!t.isEqual(e))}addArrow(e){this.arrows=[...this.arrows,e]}removeArrow(e){this.arrows=this.arrows.filter(t=>!t.isEqual(e))}containsCircle(e){return this.circles.some(t=>t.isEqual(e))}containsArrow(e){return this.arrows.some(t=>t.isEqual(e))}clear(){this.arrows=[],this.circles=[]}}class iL extends class rL{constructor(){this.pgn=[],this.currentIndex=.5}getPGN(){return this.pgn.join(" ")}getLast(){return this.pgn[this.pgn.length-1]}appendToLast(e){this.pgn[this.pgn.length-1]=this.getLast()+e}processChecks(e,t,r){e?this.appendToLast("#"):t&&this.appendToLast("+")}reset(){this.pgn=[],this.currentIndex=.5}addPromotionChoice(e){switch(e){case 1:this.appendToLast("=Q");break;case 2:this.appendToLast("=R");break;case 3:this.appendToLast("=B");break;case 4:this.appendToLast("=N")}}removeLast(){this.pgn.pop(),this.currentIndex-=.5}}{process(e,t,r,i){this.currentIndex+=.5;let s="";this.currentIndex%Math.floor(this.currentIndex)==0&&(s=this.currentIndex+". ");let a=[],c=[];i&&(a=q.findPieceByPossibleCapturesContaining(q.formatSingle(r,e.reverted),e,t.color).filter(u=>u.constructor.name===t.constructor.name)),c=q.findPieceByPossibleMovesContaining(q.formatSingle(r,e.reverted),e,t.color).filter(u=>u.constructor.name===t.constructor.name),t instanceof Gt&&!i&&0===a.length?s+=q.formatSingle(r,e.reverted):t instanceof Gt&&i?s+=q.formatSingle(t.point,e.reverted).substring(0,1)+"x"+q.formatSingle(r,e.reverted):t instanceof ke&&2===Math.abs(t.point.col-r.col)?s+=e.reverted?r.col<2?"O-O":"O-O-O":r.col<3?"O-O-O":"O-O":!(t instanceof Gt)&&0===a.length&&c.length<2?s+=q.getFirstLetterPiece(t)+q.formatSingle(r,e.reverted):c&&2===c.length&&0===a.length?this.isEqualByCol(c[0],c[1])?s+=q.getFirstLetterPiece(t)+q.reverse(e,t.point.row)+q.formatSingle(r,e.reverted):s+=q.getFirstLetterPiece(t)+q.formatCol(e,t.point.col)+q.formatSingle(r,e.reverted):a.length>1?this.isEqualByCol(a[0],a[1])?s+=q.getFirstLetterPiece(t)+q.reverse(e,t.point.row)+"x"+q.formatSingle(r,e.reverted):s+=q.getFirstLetterPiece(t)+q.formatCol(e,t.point.col)+"x"+q.formatSingle(r,e.reverted):s+=q.getFirstLetterPiece(t)+"x"+q.formatSingle(r,e.reverted),this.pgn.push(s)}resolvePieceByFirstChar(e,t){return q.getFirstLetterPiece(t)===e}isEqualByCol(e,t){return e.point.col===t.point.col}}class oL{constructor(e,t){this.engineFacade=e,this.notationProcessor=t||Zw.getDefaultProcessor()}addPieces(){SS.loadDefaultPieces(this.engineFacade.board)}loadFEN(e){this.notationProcessor.process(e,this.engineFacade)}loadPGN(e){this.notationProcessor.process(e,this.engineFacade)}setEngineFacade(e){this.engineFacade=e}setNotationProcessor(e){this.notationProcessor=e}}class TS{constructor(e){this.board=e}}class aL{constructor(){this.statesSubject$=new Rn([])}get states(){return this.statesSubject$.value}set states(e){this.statesSubject$.next(e)}addMove(e){this.states=[...this.states,e]}getStates(){return this.states}pop(){const e=this.getLastState();return this.states=this.states.filter(t=>t!==e),e}isEmpty(){return 0===this.states.length}clear(){this.states=[]}getLastState(){return this.states[this.getLastStateIndex()]}getLastStateIndex(){return this.states.length-1}}class lL{isEqual(e){return e&&this.start.isEqual(e.start)&&this.end.isEqual(e.end)}}class cL{isEqual(e){return e&&this.drawPoint.isEqual(e.drawPoint)}}class AS extends class uL{constructor(e){this.piece=e}}{constructor(e,t,r,i){super(e),this.pointClicked=t,this.color=r,this.board=i}getPossibleCaptures(){return this.piece.getPossibleCaptures().filter(e=>!q.willMoveCauseCheck(this.color,this.pointClicked.row,this.pointClicked.col,e.row,e.col,this.board))}getPossibleMoves(){return this.piece.getPossibleMoves().filter(e=>!q.willMoveCauseCheck(this.color,this.pointClicked.row,this.pointClicked.col,e.row,e.col,this.board))}}class MS{static resolvePromotionChoice(e,t,r){const i=t.color===w.WHITE;switch(r){case 1:e.pieces.push(new Bi(t.point,t.color,i?ie.WHITE_QUEEN:ie.BLACK_QUEEN,e));break;case 2:e.pieces.push(new zt(t.point,t.color,i?ie.WHITE_ROOK:ie.BLACK_ROOK,e));break;case 3:e.pieces.push(new Fr(t.point,t.color,i?ie.WHITE_BISHOP:ie.BLACK_BISHOP,e));break;case 4:e.pieces.push(new Or(t.point,t.color,i?ie.WHITE_KNIGHT:ie.BLACK_KNIGHT,e))}}}var ms=(()=>{return(n=ms||(ms={}))[n.KING=1]="KING",n[n.QUEEN=2]="QUEEN",n[n.BISHOP=3]="BISHOP",n[n.KNIGHT=4]="KNIGHT",n[n.ROOK=5]="ROOK",n[n.PAWN=6]="PAWN",ms;var n})(),Ug=(()=>{return(n=Ug||(Ug={}))[n.LIGHT=1]="LIGHT",n[n.DARK=2]="DARK",Ug;var n})();class fL extends class sL{constructor(e){this.dragStartStrategy=new Jk,this.dragEndStrategy=new Yk,this.pgnProcessor=new iL,this.colorStrategy=new tL,this.coords=new Zk,this.heightAndWidth=gs.DEFAULT_SIZE,this.freeMode=!1,this.drawProvider=new nL,this.pieceIconManager=new qk,this.moveHistoryProvider=new Kk,this.disabling=!1,this.board=e}checkIfPawnFirstMove(e){e instanceof Gt&&(e.isMovedAlready=!0)}checkIfRookMoved(e){e instanceof zt&&(e.isMovedAlready=!0)}checkIfKingMoved(e){e instanceof ke&&(e.isMovedAlready=!0)}getMoveHistory(){return this.moveHistoryProvider.getAll()}}{constructor(e,t){super(e),this._selected=!1,this.moveChange=t,this.boardLoader=new oL(this),this.boardLoader.addPieces(),this.boardStateProvider=new aL}reset(){this.boardStateProvider.clear(),this.moveHistoryProvider.clear(),this.boardLoader.addPieces(),this.board.reset(),this.coords.reset(),this.drawProvider.clear(),this.pgnProcessor.reset()}undo(){if(!this.boardStateProvider.isEmpty()){const e=this.boardStateProvider.pop().board;this.board.reverted&&e.reverse(),this.board=e,this.board.possibleCaptures=[],this.board.possibleMoves=[],this.board.activePiece=null,this.moveHistoryProvider.pop(),this.board.calculateFEN(),this.pgnProcessor.removeLast()}}saveMoveClone(){const e=this.board.clone();this.board.reverted&&e.reverse(),this.moveStateProvider.addMove(new TS(e))}move(e){if(e){const t=q.translateCoordsToIndex(e.substring(0,2),this.board.reverted),r=q.translateCoordsToIndex(e.substring(2,4),this.board.reverted),i=this.board.getPieceByPoint(t.yAxis,t.xAxis);if(i){if(this.board.currentWhitePlayer&&i.color===w.BLACK||!this.board.currentWhitePlayer&&i.color===w.WHITE)return;this.prepareActivePiece(i,i.point),this.board.isPointInPossibleMoves(new M(r.yAxis,r.xAxis))||this.board.isPointInPossibleCaptures(new M(r.yAxis,r.xAxis))?(this.saveClone(),this.movePiece(i,new M(r.yAxis,r.xAxis),5===e.length?+e.substring(4,5):0),this.board.lastMoveSrc=new M(t.yAxis,t.xAxis),this.board.lastMoveDest=new M(r.yAxis,r.xAxis),this.disableSelection()):this.disableSelection()}}}prepareActivePiece(e,t){this.board.activePiece=e,this._selected=!0,this.board.possibleCaptures=new AS(e,t,this.board.currentWhitePlayer?w.WHITE:w.BLACK,this.board).getPossibleCaptures(),this.board.possibleMoves=new AS(e,t,this.board.currentWhitePlayer?w.WHITE:w.BLACK,this.board).getPossibleMoves()}onPieceClicked(e,t){this.board.currentWhitePlayer&&e.color===w.BLACK||!this.board.currentWhitePlayer&&e.color===w.WHITE||this.prepareActivePiece(e,t)}handleClickEvent(e,t){let r=!1;(this.board.isPointInPossibleMoves(e)||this.board.isPointInPossibleCaptures(e)||this.freeMode)&&e.isInRange()&&(this.saveClone(),this.board.lastMoveSrc=new M(this.board.activePiece.point.row,this.board.activePiece.point.col),this.board.lastMoveDest=e.clone(),this.movePiece(this.board.activePiece,e),this.board.activePiece.point.isEqual(this.board.lastMoveSrc)||(r=!0)),(t||r)&&this.disableSelection(),this.disableSelection();const i=this.board.getPieceByPoint(e.row,e.col);i&&!r&&(this.onFreeMode(i),this.onPieceClicked(i,e))}onMouseDown(e,t,r,i){if(this.moveDone=!1,0!==e.button)return void(this.drawPoint=Qw.getDrawingPoint(this.heightAndWidth,this.colorStrategy,e.x,e.y,e.ctrlKey,e.altKey,e.shiftKey,r,i));if(this.drawProvider.clear(),this.board.activePiece&&t.isEqual(this.board.activePiece.point))return void(this.disabling=!0);const s=this.board.getPieceByPoint(t.row,t.col);if(this.freeMode&&s){if(e.ctrlKey)return void(this.board.pieces=this.board.pieces.filter(a=>a!==s));this.board.currentWhitePlayer=s.color===w.WHITE}this.isPieceDisabled(s)||(this._selected?this.handleClickEvent(t,!0):s&&(this.onFreeMode(s),this.onPieceClicked(s,t)))}onMouseUp(e,t,r,i){if(this.moveDone=!1,0!==e.button&&!this.drawDisabled)return void this.addDrawPoint(e.x,e.y,e.ctrlKey,e.altKey,e.shiftKey,r,i);if(this.drawProvider.clear(),this.dragDisabled)return;if(this.board.activePiece&&t.isEqual(this.board.activePiece.point)&&this.disabling)return this.disableSelection(),void(this.disabling=!1);const s=this.board.getPieceByPoint(t.row,t.col);this.isPieceDisabled(s)||this._selected&&this.handleClickEvent(t,!1)}saveClone(){const e=this.board.clone();this.board.reverted&&e.reverse(),this.boardStateProvider.addMove(new TS(e))}movePiece(e,t,r){const i=this.board.pieces.find(s=>s.point.col===t.col&&s.point.row===t.row);if(this.pgnProcessor.process(this.board,e,t,i),i&&e.color!==i.color)this.board.pieces=this.board.pieces.filter(s=>s!==i);else if(i&&e.color===i.color)return;if(this.historyMoveCandidate=new Gk(q.format(e.point,t,this.board.reverted),e.constant.name,e.color===w.WHITE?"white":"black",!!i),this.moveHistoryProvider.addMove(this.historyMoveCandidate),e instanceof ke&&Math.abs(t.col-e.point.col)>1)if(t.col<3){const a=this.board.getPieceByField(e.point.row,0);this.freeMode||(a.point.col=this.board.reverted?2:3)}else{const a=this.board.getPieceByField(e.point.row,7);this.freeMode||(a.point.col=this.board.reverted?4:5)}e instanceof Gt?(this.board.checkIfPawnTakesEnPassant(t),this.board.checkIfPawnEnpassanted(e,t)):(this.board.enPassantPoint=null,this.board.enPassantPiece=null),e.point=t,this.increaseFullMoveCount(),this.board.currentWhitePlayer=!this.board.currentWhitePlayer,this.checkForPawnPromote(e,r)||this.afterMoveActions()}checkForPawnPromote(e,t){if(e instanceof Gt&&(0===e.point.row||7===e.point.row))return this.board.pieces=this.board.pieces.filter(r=>r!==e),t?(MS.resolvePromotionChoice(this.board,e,t),this.afterMoveActions(t)):this.openPromoteDialog(e),!0}afterMoveActions(e){this.checkIfPawnFirstMove(this.board.activePiece),this.checkIfRookMoved(this.board.activePiece),this.checkIfKingMoved(this.board.activePiece),this.board.blackKingChecked=this.board.isKingInCheck(w.BLACK,this.board.pieces),this.board.whiteKingChecked=this.board.isKingInCheck(w.WHITE,this.board.pieces);const t=this.board.blackKingChecked||this.board.whiteKingChecked,r=this.checkForPossibleMoves(w.BLACK)||this.checkForPossibleMoves(w.WHITE),i=this.checkForPat(w.BLACK)||this.checkForPat(w.WHITE);this.historyMoveCandidate.setGameStates(t,i,r),this.pgnProcessor.processChecks(r,t,i),this.pgnProcessor.addPromotionChoice(e),this.disabling=!1,this.board.calculateFEN();const s=this.moveHistoryProvider.getLastMove();s&&e&&(s.move+=e),this.moveChange.emit(Object.assign(Object.assign({},s),{check:t,checkmate:r,stalemate:i,fen:this.board.fen,pgn:{pgn:this.pgnProcessor.getPGN()},freeMode:this.freeMode})),this.moveDone=!0}checkForPat(e){return e===w.WHITE&&!this.board.whiteKingChecked||e===w.BLACK&&!this.board.blackKingChecked?this.checkForPossibleMoves(e):void 0}openPromoteDialog(e){e.color===this.board.activePiece.color&&this.modal.open(t=>{MS.resolvePromotionChoice(this.board,e,t),this.afterMoveActions(t)})}checkForPossibleMoves(e){return!this.board.pieces.filter(t=>t.color===e).some(t=>t.getPossibleMoves().some(r=>!q.willMoveCauseCheck(e,t.point.row,t.point.col,r.row,r.col,this.board))||t.getPossibleCaptures().some(r=>!q.willMoveCauseCheck(e,t.point.row,t.point.col,r.row,r.col,this.board)))}disableSelection(){this._selected=!1,this.board.possibleCaptures=[],this.board.activePiece=null,this.board.possibleMoves=[]}onFreeMode(e){!this.freeMode||null==e||(this.board.currentWhitePlayer=e.color===w.WHITE)}isPieceDisabled(e){return!(e&&e.point&&this.board.possibleCaptures.find(r=>r.col===e.point.col&&r.row===e.point.row))&&e&&(this.lightDisabled&&e.color===w.WHITE||this.darkDisabled&&e.color===w.BLACK)}addDrawPoint(e,t,r,i,s,a,c){const u=Qw.getDrawingPoint(this.heightAndWidth,this.colorStrategy,e,t,r,i,s,a,c);if(this.drawPoint.isEqual(u)){const f=new cL;f.drawPoint=u,this.drawProvider.containsCircle(f)?this.drawProvider.reomveCircle(f):this.drawProvider.addCircle(f)}else{const f=new lL;f.start=this.drawPoint,f.end=u,this.drawProvider.containsArrow(f)?this.drawProvider.removeArrow(f):this.drawProvider.addArrow(f)}}increaseFullMoveCount(){this.board.currentWhitePlayer||++this.board.fullMoveCount}addPiece(e,t,r){if(this.freeMode&&r&&e>0&&t>0){let i=q.translateCoordsToIndex(r,this.board.reverted),s=this.board.getPieceByPoint(i.yAxis,i.xAxis);s&&(this.board.pieces=this.board.pieces.filter(c=>c!==s));let a=class dL{static create(e,t,r,i){let s,a=r===Ug.LIGHT?w.WHITE:w.BLACK;switch(t){case ms.QUEEN:s=new Bi(new M(e.yAxis,e.xAxis),a,a===w.WHITE?ie.WHITE_QUEEN:ie.BLACK_QUEEN,i);break;case ms.KING:s=new ke(new M(e.yAxis,e.xAxis),a,a===w.WHITE?ie.WHITE_KING:ie.BLACK_KING,i);break;case ms.KNIGHT:s=new Or(new M(e.yAxis,e.xAxis),a,a===w.WHITE?ie.WHITE_KNIGHT:ie.BLACK_KNIGHT,i);break;case ms.BISHOP:s=new Fr(new M(e.yAxis,e.xAxis),a,a===w.WHITE?ie.WHITE_BISHOP:ie.BLACK_BISHOP,i);break;case ms.ROOK:s=new zt(new M(e.yAxis,e.xAxis),a,a===w.WHITE?ie.WHITE_ROOK:ie.BLACK_ROOK,i);break;case ms.PAWN:s=new Gt(new M(e.yAxis,e.xAxis),a,a===w.WHITE?ie.WHITE_PAWN:ie.BLACK_PAWN,i)}return s}}.create(i,e,t,this.board);this.saveClone(),this.board.pieces.push(a),this.afterMoveActions()}}}class hL{constructor(){this.board=[],this.pieces=[],this.enPassantPoint=null,this.enPassantPiece=null,this.lastMoveSrc=null,this.lastMoveDest=null,this.possibleCaptures=[],this.possibleMoves=[],this.currentWhitePlayer=!0,this.reverted=!1,this.fullMoveCount=1;for(let e=0;e<8;++e){this.board[e]=[];for(let t=0;t<8;++t)this.board[e][t]=0}}isXYInPossibleMoves(e,t){return this.possibleMoves.some(r=>r.row===e&&r.col===t)}isXYInPossibleCaptures(e,t){return this.possibleCaptures.some(r=>r.row===e&&r.col===t)}isXYInSourceMove(e,t){return this.lastMoveSrc&&this.lastMoveSrc.row===e&&this.lastMoveSrc.col===t}isXYInDestMove(e,t){return this.lastMoveDest&&this.lastMoveDest.row===e&&this.lastMoveDest.col===t}isXYInActiveMove(e,t){return this.activePiece&&this.activePiece.point.row===e&&this.activePiece.point.col===t}isPointInPossibleMoves(e){return this.possibleMoves.some(t=>t.row===e.row&&t.col===e.col)}isPointInPossibleCaptures(e){return this.possibleCaptures.some(t=>t.row===e.row&&t.col===e.col)}reset(){this.lastMoveDest=null,this.lastMoveSrc=null,this.whiteKingChecked=!1,this.blackKingChecked=!1,this.possibleCaptures=[],this.possibleMoves=[],this.activePiece=null,this.reverted=!1,this.currentWhitePlayer=!0,this.enPassantPoint=null,this.enPassantPiece=null,this.fullMoveCount=1,this.calculateFEN()}reverse(){this.reverted=!this.reverted,this.activePiece=null,this.possibleMoves=[],this.possibleCaptures=[],this.pieces.forEach(e=>this.reversePoint(e.point)),this.reversePoint(this.lastMoveSrc),this.reversePoint(this.lastMoveDest),this.enPassantPoint&&this.enPassantPiece&&this.reversePoint(this.enPassantPoint)}clone(){return(0,Tk.cloneDeep)(this)}isFieldTakenByEnemy(e,t,r){return!(e>7||e<0||t>7||t<0)&&this.pieces.some(i=>i.point.col===t&&i.point.row===e&&i.color===r)}isFieldEmpty(e,t){return!(e>7||e<0||t>7||t<0||this.pieces.some(r=>r.point.col===t&&r.point.row===e))}isFieldUnderAttack(e,t,r){return this.pieces.filter(i=>i.color===r).some(i=>i.getCoveredFields().some(s=>s.col===t&&s.row===e))}getPieceByField(e,t){if(!this.isFieldEmpty(e,t))return this.pieces.find(r=>r.point.col===t&&r.point.row===e)}isKingInCheck(e,t){const r=t.find(i=>i.color===e&&i instanceof ke);return!!r&&t.some(i=>i.getPossibleCaptures().some(s=>s.col===r.point.col&&s.row===r.point.row)&&i.color!==e)}getKingByColor(e){return this.pieces.find(t=>t instanceof ke&&t.color===e)}getCastleFENString(e){const t=this.getKingByColor(e);if(!t||t.isMovedAlready)return"";let r="";const i=this.getPieceByField(t.point.row,0),s=this.getPieceByField(t.point.row,7);return s instanceof zt&&s.color===e&&(s.isMovedAlready||(r+=this.reverted?"q":"k")),i instanceof zt&&i.color===e&&(i.isMovedAlready||(r+=this.reverted?"k":"q")),r=r.split("").sort().join(""),e===w.BLACK?r:r.toUpperCase()}getEnPassantFENString(){return this.enPassantPoint?this.reverted?String.fromCharCode(104-this.enPassantPoint.col)+(this.enPassantPoint.row+1):String.fromCharCode(97+this.enPassantPoint.col)+(Math.abs(this.enPassantPoint.row-7)+1):"-"}calculateFEN(){let e="";for(let s=0;s<8;++s){let a=0;for(let c=0;c<8;++c){const u=this.pieces.find(f=>f.point.col===c&&f.point.row===s);u?(a>0&&(e+=a,a=0),u instanceof zt?e+=u.color===w.BLACK?"r":"R":u instanceof Or?e+=u.color===w.BLACK?"n":"N":u instanceof Fr?e+=u.color===w.BLACK?"b":"B":u instanceof Bi?e+=u.color===w.BLACK?"q":"Q":u instanceof ke?e+=u.color===w.BLACK?"k":"K":u instanceof Gt&&(e+=u.color===w.BLACK?"p":"P")):++a}a>0&&(e+=a),e+="/"}e=e.substr(0,e.length-1),this.reverted&&(e=e.split("").reverse().join("")),e+=" "+(this.currentWhitePlayer?"w":"b");let i=this.getCastleFENString(w.WHITE)+this.getCastleFENString(w.BLACK);i||(i="-"),e+=" "+i,e+=" "+this.getEnPassantFENString(),e+=" 0",e+=" "+this.fullMoveCount,this.fen=e}isXYInPointSelection(e,t){return!1}reversePoint(e){e&&(e.row=Math.abs(e.row-7),e.col=Math.abs(e.col-7))}getPieceByPoint(e,t){return e=Math.floor(e),t=Math.floor(t),this.pieces.find(r=>r.point.col===t&&r.point.row===e)}checkIfPawnTakesEnPassant(e){e.isEqual(this.enPassantPoint)&&(this.pieces=this.pieces.filter(t=>t!==this.enPassantPiece),this.enPassantPoint=null,this.enPassantPiece=null)}checkIfPawnEnpassanted(e,t){Math.abs(e.point.row-t.row)>1?(this.enPassantPiece=e,this.enPassantPoint=new M((e.point.row+t.row)/2,e.point.col)):(this.enPassantPoint=null,this.enPassantPiece=null)}isKingChecked(e){if(e instanceof ke)return e.color===w.WHITE?this.whiteKingChecked:this.blackKingChecked}getCurrentPlayerColor(){return this.currentWhitePlayer?w.WHITE:w.BLACK}}let Yw=(()=>{class n{constructor(){this.componentMethodCallSource=new Oe,this.componentMethodCalled$=this.componentMethodCallSource.asObservable()}reset(){this.componentMethodCallSource.next()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pL=(()=>{class n{constructor(){this.color="white",this.opened=!1}open(t){this.opened=!0,this.onCloseCallback=t,this.modal.nativeElement.style.display="block"}changeSelection(t){this.modal.nativeElement.style.display="none",this.opened=!1,this.onCloseCallback(t)}getPieceIcon(t){let r="";switch(t.toLowerCase()){case"queen":r="white"===this.color?this.pieceIconInput.whiteQueenUrl:this.pieceIconInput.blackQueenUrl;break;case"rook":r="white"===this.color?this.pieceIconInput.whiteRookUrl:this.pieceIconInput.blackRookUrl;break;case"bishop":r="white"===this.color?this.pieceIconInput.whiteBishopUrl:this.pieceIconInput.blackBishopUrl;break;case"knight":r="white"===this.color?this.pieceIconInput.whiteKnightUrl:this.pieceIconInput.blackKnightUrl}return r}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Di({type:n,selectors:[["app-piece-promotion-modal"]],viewQuery:function(t,r){if(1&t&&Sd(Ak,5),2&t){let i;Oi(i=ki())&&(r.modal=i.first)}},inputs:{pieceIconInput:"pieceIconInput",color:"color"},decls:6,vars:2,consts:[[1,"container"],["myModal",""],[1,"wrapper"],[1,"content"],["class","piece-wrapper",4,"ngIf"],[1,"piece-wrapper"],[1,"piece",3,"click"],["alt","Queen",3,"src"],["alt","Rook",3,"src"],["alt","Bishop",3,"src"],["alt","Knight",3,"src"]],template:function(t,r){1&t&&(ze(0,"div",0,1)(2,"div",2)(3,"div",3),Ar(4,Mk,9,4,"div",4),Ar(5,xk,9,0,"div",4),je()()()),2&t&&($e(4),yt("ngIf",r.pieceIconInput),$e(1),yt("ngIf",!r.pieceIconInput))},directives:[tw],styles:[".container[_ngcontent-%COMP%]{display:none;position:absolute;z-index:9999;top:0;color:#000;width:100%;height:100%;overflow:auto;background-color:#0006}.wrapper[_ngcontent-%COMP%]{position:relative;height:100%;width:100%}.content[_ngcontent-%COMP%]{background-color:#fefefe;margin:auto;position:relative;top:30%;font-size:100%;height:40%;padding:10px;border:1px solid #888;width:90%}.piece[_ngcontent-%COMP%]{font-size:5rem;height:100%;width:25%;cursor:pointer;display:inline-block;text-align:center}.piece[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}.piece[_ngcontent-%COMP%]:hover{background-color:#ccc;border-radius:5px}.piece-wrapper[_ngcontent-%COMP%]{height:80%;width:100%}#close-button[_ngcontent-%COMP%]{border-radius:4px;background-color:#4caf50;border:none;color:#fff;padding-left:5px;padding-right:5px;text-align:center;text-decoration:none;display:inline-block}.selected[_ngcontent-%COMP%]{border:2px solid #00B919;border-radius:4px;box-sizing:border-box}"]}),n})(),gL=(()=>{class n{constructor(t){this.ngxChessBoardService=t,this.darkTileColor=gs.DEFAULT_DARK_TILE_COLOR,this.lightTileColor=gs.DEFAULT_LIGHT_TILE_COLOR,this.showCoords=!0,this.sourcePointColor=gs.DEFAULT_SOURCE_POINT_COLOR,this.destinationPointColor=gs.DEFAULT_DESTINATION_POINT_COLOR,this.legalMovesPointColor=gs.DEFAULT_LEGAL_MOVE_POINT_COLOR,this.showLastMove=!0,this.showLegalMoves=!0,this.showActivePiece=!0,this.showPossibleCaptures=!0,this.moveChange=new nt,this.checkmate=new nt,this.stalemate=new nt,this.selected=!1,this.isDragging=!1,this.startTransition="",this.engineFacade=new fL(new hL,this.moveChange)}set size(t){this.engineFacade.heightAndWidth=t&&t>=gs.MIN_BOARD_SIZE&&t<=gs.MAX_BOARD_SIZE?t:gs.DEFAULT_SIZE,this.engineFacade.drawProvider.clear(),this.calculatePieceSize()}set freeMode(t){this.engineFacade.freeMode=t}set dragDisabled(t){this.engineFacade.dragDisabled=t}set drawDisabled(t){this.engineFacade.drawDisabled=t}set pieceIcons(t){this.engineFacade.pieceIconManager.pieceIconInput=t}set lightDisabled(t){this.engineFacade.lightDisabled=t}set darkDisabled(t){this.engineFacade.darkDisabled=t}onRightClick(t){t.preventDefault()}ngOnChanges(t){(t.lightDisabled&&this.lightDisabled&&this.engineFacade.board.currentWhitePlayer||t.darkDisabled&&this.darkDisabled&&!this.engineFacade.board.currentWhitePlayer)&&(this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[])}ngOnInit(){this.ngxChessBoardService.componentMethodCalled$.subscribe(()=>{this.engineFacade.reset()})}ngAfterViewInit(){this.engineFacade.modal=this.modal,this.calculatePieceSize()}onMouseUp(t){this.engineFacade.onMouseUp(t,this.getClickPoint(t),this.boardRef.nativeElement.getBoundingClientRect().left,this.boardRef.nativeElement.getBoundingClientRect().top)}reverse(){this.selected=!1,this.engineFacade.board.reverse(),this.engineFacade.coords.reverse()}updateBoard(t){this.engineFacade.board=t,this.boardLoader.setEngineFacade(this.engineFacade),this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[]}setFEN(t){try{this.engineFacade.boardLoader.setNotationProcessor(Zw.getProcessor(da.FEN)),this.engineFacade.boardLoader.loadFEN(t),this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[],this.engineFacade.coords.reset()}catch(r){this.engineFacade.boardLoader.addPieces()}}setPGN(t){try{this.engineFacade.pgnProcessor.reset(),this.engineFacade.boardLoader.setNotationProcessor(Zw.getProcessor(da.PGN)),this.engineFacade.boardLoader.loadPGN(t),this.engineFacade.board.possibleCaptures=[],this.engineFacade.board.possibleMoves=[],this.engineFacade.coords.reset()}catch(r){console.log(r),this.engineFacade.boardLoader.addPieces()}}getFEN(){return this.engineFacade.board.fen}dragEnded(t){this.isDragging=!1,this.engineFacade.dragEndStrategy.process(t,this.engineFacade.moveDone,this.startTransition)}dragStart(t){this.isDragging=!0;let r=t.source.getRootElement().style.transform.split(") ");this.startTransition=2===r.length?r[1]:r[0],this.engineFacade.dragStartStrategy.process(t)}onMouseDown(t){this.engineFacade.onMouseDown(t,this.getClickPoint(t),this.boardRef.nativeElement.getBoundingClientRect().left,this.boardRef.nativeElement.getBoundingClientRect().top)}getClickPoint(t){return Qw.getClickPoint(t,this.boardRef.nativeElement.getBoundingClientRect().top,this.boardRef.nativeElement.getBoundingClientRect().height,this.boardRef.nativeElement.getBoundingClientRect().left,this.boardRef.nativeElement.getBoundingClientRect().width)}calculatePieceSize(){this.pieceSize=this.engineFacade.heightAndWidth/8}getCustomPieceIcons(t){return JSON.parse(`{ "background-image": "url('${this.engineFacade.pieceIconManager.getPieceIcon(t)}')"}`)}move(t){this.engineFacade.move(t)}getMoveHistory(){return this.engineFacade.getMoveHistory()}reset(){this.engineFacade.reset()}undo(){this.engineFacade.undo()}addPiece(t,r,i){this.engineFacade.addPiece(t,r,i)}getPGN(){return this.engineFacade.pgnProcessor.getPGN()}dragMoved(t){let r=t.pointerPosition.x-t.source.getRootElement().parentElement.getBoundingClientRect().left-this.pieceSize/2,i=t.pointerPosition.y-t.source.getRootElement().parentElement.getBoundingClientRect().top-this.pieceSize/2;t.source.getRootElement().style.transform="translate3d("+r+"px, "+i+"px,0px)"}getTileBackgroundColor(t,r){let i=(t+r)%2==0?this.lightTileColor:this.darkTileColor;return this.showLastMove&&(this.engineFacade.board.isXYInSourceMove(t,r)&&(i=this.sourcePointColor),this.engineFacade.board.isXYInDestMove(t,r)&&(i=this.destinationPointColor)),i}}return n.\u0275fac=function(t){return new(t||n)($(Yw))},n.\u0275cmp=Di({type:n,selectors:[["ngx-chess-board"]],viewQuery:function(t,r){if(1&t&&(Sd(Pk,5),Sd(Rk,5)),2&t){let i;Oi(i=ki())&&(r.boardRef=i.first),Oi(i=ki())&&(r.modal=i.first)}},hostBindings:function(t,r){1&t&&Xt("contextmenu",function(s){return r.onRightClick(s)})},inputs:{darkTileColor:"darkTileColor",lightTileColor:"lightTileColor",showCoords:"showCoords",sourcePointColor:"sourcePointColor",destinationPointColor:"destinationPointColor",legalMovesPointColor:"legalMovesPointColor",showLastMove:"showLastMove",showLegalMoves:"showLegalMoves",showActivePiece:"showActivePiece",showPossibleCaptures:"showPossibleCaptures",size:"size",freeMode:"freeMode",dragDisabled:"dragDisabled",drawDisabled:"drawDisabled",pieceIcons:"pieceIcons",lightDisabled:"lightDisabled",darkDisabled:"darkDisabled"},outputs:{moveChange:"moveChange",checkmate:"checkmate",stalemate:"stalemate"},features:[Gr],decls:13,vars:18,consts:[["id","board",3,"pointerdown","pointerup"],["boardRef",""],["id","drag"],["class","single-piece","cdkDrag","",3,"cdkDragDisabled","innerHTML","ngStyle","transform","max-height","font-size","width","height","cdkDragEnded","cdkDragMoved","cdkDragStarted",4,"ngFor","ngForOf"],["class","board-row",4,"ngFor","ngForOf"],[2,"position","absolute","top","0","pointer-events","none"],[4,"ngFor","ngForOf"],["class","arrow",4,"ngFor","ngForOf"],["fill-opacity","0.0","stroke-width","2",4,"ngFor","ngForOf"],[3,"pieceIconInput","color"],["modal",""],["cdkDrag","",1,"single-piece",3,"cdkDragDisabled","innerHTML","ngStyle","cdkDragEnded","cdkDragMoved","cdkDragStarted"],[1,"board-row"],["class","board-col",3,"current-selection","king-check","point-circle","possible-capture","possible-point","background-color",4,"ngFor","ngForOf"],[1,"board-col"],["class","yCoord",3,"color","font-size",4,"ngIf"],["class","xCoord",3,"color","font-size",4,"ngIf"],["style","height:100%; width:100%",4,"ngIf"],[1,"yCoord"],[1,"xCoord"],[2,"height","100%","width","100%"],[3,"ngClass"],["markerHeight","13","markerWidth","13","orient","auto","refX","9","refY","6",3,"id"],["d","M2,2 L2,11 L10,6 L2,2"],[1,"arrow"],["fill-opacity","0.0","stroke-width","2"]],template:function(t,r){if(1&t){const i=pd();ze(0,"div",0,1),Xt("pointerdown",function(a){return cn(i),!Gv(12).opened&&r.onMouseDown(a)})("pointerup",function(a){return cn(i),!Gv(12).opened&&r.onMouseUp(a)}),ze(2,"div",2),Ar(3,Fk,1,13,"div",3),Ar(4,Bk,2,1,"div",4),je(),Yr(),ze(5,"svg",5),Ar(6,Hk,3,3,"defs",6),Ar(7,Uk,1,6,"line",7),py(8,"async"),Ar(9,Vk,1,4,"circle",8),py(10,"async"),je(),function Vc(){!function Um(){ae.lFrame.currentNamespace=null}()}(),gn(11,"app-piece-promotion-modal",9,10),je()}2&t&&(ls("height",r.engineFacade.heightAndWidth,"px")("width",r.engineFacade.heightAndWidth,"px"),$e(3),yt("ngForOf",r.engineFacade.board.pieces),$e(1),yt("ngForOf",r.engineFacade.board.board),$e(1),Il("height",r.engineFacade.heightAndWidth)("width",r.engineFacade.heightAndWidth),$e(1),yt("ngForOf",function iE(n,e,t){const r=dt()+n,i=N();return i[r]===ce?Mi(i,r,t?e.call(t):e()):function hd(n,e){return n[e]}(i,r)}(17,jk)),$e(1),yt("ngForOf",gy(8,13,r.engineFacade.drawProvider.arrows$)),$e(2),yt("ngForOf",gy(10,15,r.engineFacade.drawProvider.circles$)),$e(2),yt("pieceIconInput",r.engineFacade.pieceIconManager.pieceIconInput)("color",r.engineFacade.board.getCurrentPlayerColor()?"white":"black"))},directives:[pL,D0,Ik,I0,tw,w0],pipes:[S0],styles:['@charset "UTF-8";#board[_ngcontent-%COMP%]{font-family:Courier New,serif;position:relative}.board-row[_ngcontent-%COMP%]{display:block;width:100%;height:12.5%;position:relative}.board-col[_ngcontent-%COMP%]{position:relative;display:inline-block;width:12.5%;vertical-align:top;cursor:default;height:100%}.piece[_ngcontent-%COMP%]{height:100%;cursor:-webkit-grab;cursor:grab;width:100%;-moz-user-select:none;user-select:none;-webkit-user-select:none;background-size:cover;justify-content:center;text-align:center;color:#000!important;box-sizing:border-box}.piece[_ngcontent-%COMP%]:after{content:"\\200b";box-sizing:border-box}#drag[_ngcontent-%COMP%]{height:100%;width:100%}.possible-point[_ngcontent-%COMP%]{background:radial-gradient(#13262F 15%,transparent 20%)}.possible-point[_ngcontent-%COMP%]:hover, .possible-capture[_ngcontent-%COMP%]:hover{opacity:.4}.possible-capture[_ngcontent-%COMP%]{background:radial-gradient(transparent 0%,transparent 80%,#13262F 80%);opacity:.5;box-sizing:border-box;margin:0;padding:0}.king-check[_ngcontent-%COMP%]{background:radial-gradient(ellipse at center,red 0%,#e70000 25%,rgba(169,0,0,0) 89%,rgba(158,0,0,0) 100%)}.current-selection[_ngcontent-%COMP%]{background-color:#72620b!important}.yCoord[_ngcontent-%COMP%]{position:absolute;-moz-user-select:none;user-select:none;-webkit-user-select:none;cursor:pointer;right:.2em;font-family:Lucida Console,Courier,monospace;box-sizing:border-box}.xCoord[_ngcontent-%COMP%]{position:absolute;-moz-user-select:none;user-select:none;-webkit-user-select:none;cursor:pointer;left:.2em;bottom:0;font-family:Lucida Console,Courier,monospace;box-sizing:border-box}.hovering[_ngcontent-%COMP%]{background-color:red!important}.arrow[_ngcontent-%COMP%]{stroke-width:2}svg[_ngcontent-%COMP%]{filter:drop-shadow(1px 1px 0px #111) drop-shadow(-1px 1px 0px #111) drop-shadow(1px -1px 0px #111) drop-shadow(-1px -1px 0px #111)}[_nghost-%COMP%]{display:inline-block!important}.single-piece[_ngcontent-%COMP%]{position:absolute;z-index:999;justify-content:center;text-align:center;-moz-user-select:none;user-select:none;-webkit-user-select:none;color:#000!important;cursor:-webkit-grab;cursor:grab;background-size:cover}.single-piece[_ngcontent-%COMP%]:after{content:"\\200b";box-sizing:border-box}.cdk-drag[_ngcontent-%COMP%]:not(.cdk-drag-dragging){transition:transform .2s cubic-bezier(0,.3,.14,.49)}']}),n})(),mL=(()=>{class n{static forRoot(){return{ngModule:n,providers:[Yw]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Zn({type:n}),n.\u0275inj=qn({imports:[[A0,Sk]]}),n})();const _L=["board"],vL=[{path:"",redirectTo:"mainpage",pathMatch:"full"},{path:"mainpage",component:DO},{path:"iframepage",component:(()=>{class n{constructor(){this.player="",this.disableMoves=!1}ngOnInit(){window.addEventListener("message",t=>{if("object"==typeof t.data&&"type"in t.data&&"webpackOk"==t.data.type)return;let r=JSON.parse(t.data);"chess"!=r.key&&"player1"!=r.receiver&&"player2"!=r.receiver||("initAndRestoreBoard"==r.method?this.initAndRestoreBoard(r.receiver,r.chessGameState.player,r.chessGameState.fen):"init"==r.method?this.init(r.receiver):"resetAndInit"==r.method?this.resetAndInit(r.receiver):"updateBoard"==r.method&&this.updateBoard(r.coords,r.isCheckMate,r.color))})}init(t){"player2"==t&&(this.board.reverse(),this.disableMoves=!0),this.player=t}initAndRestoreBoard(t,r,i){this.player=t,r!=this.player&&(this.disableMoves=!0),this.board.setFEN(i),"player2"==this.player&&this.board.reverse()}resetAndInit(t){this.board.reset(),this.disableMoves=!1,"player2"==t&&(this.board.reverse(),this.disableMoves=!0),this.player=t}updateBoard(t,r,i){var s;this.board.move(t);let a="player1"==this.player?"white":"black";r&&i==a&&(window.alert(`Winner is ${this.player}(the ${a})`),null===(s=window.top)||void 0===s||s.postMessage(JSON.stringify({key:"chess",receiver:"parent",method:"reset"}),"*"))}pieceMoved(t){var r;let c;c="player1"==this.player?"player2":"player1",null===(r=window.top)||void 0===r||r.postMessage(JSON.stringify({key:"chess",receiver:"parent",method:"passToSibling",message:{key:"chess",receiver:c,method:"updateBoard",coords:t.move,isCheckMate:t.checkmate,color:t.color}}),"*"),this.disableMoves=!this.disableMoves,localStorage.setItem("chess-game-state",JSON.stringify({player:this.player,fen:this.board.getFEN()}))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Di({type:n,selectors:[["app-iframepage"]],viewQuery:function(t,r){if(1&t&&Sd(_L,5),2&t){let i;Oi(i=ki())&&(r.board=i.first)}},decls:7,vars:7,consts:[[1,"bg-white","w-100","d-flex","flex-column","align-items-center","gap-2"],[1,"d-flex","align-items-center","gap-1"],[1,"d-block",2,"width","20px","height","20px","border-radius","25px"],[3,"size","showLastMove","darkDisabled","lightDisabled","moveChange"],["board",""]],template:function(t,r){1&t&&(ze(0,"div",0)(1,"h2",1)(2,"span"),Ri(3),je(),gn(4,"span",2),je(),ze(5,"ngx-chess-board",3,4),Xt("moveChange",function(s){return r.pieceMoved(s)}),je()()),2&t&&($e(3),iy("player1"==r.player?"Player1":"Player2"),$e(1),gd("bg-success",!r.disableMoves),$e(1),yt("size",300)("showLastMove",!1)("darkDisabled",r.disableMoves)("lightDisabled",r.disableMoves))},directives:[gL],styles:[".op-50[_ngcontent-%COMP%]{opacity:.5}"]}),n})()}];let yL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Zn({type:n}),n.\u0275inj=qn({imports:[[KI.forRoot(vL,{useHash:!0})],KI]}),n})(),wL=(()=>{class n{constructor(t){this.ngxChessBoardService=t,this.title="chess-game1"}}return n.\u0275fac=function(t){return new(t||n)($(Yw))},n.\u0275cmp=Di({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&gn(0,"router-outlet")},directives:[Aw],styles:[""]}),n})(),DL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Zn({type:n,bootstrap:[wL]}),n.\u0275inj=qn({providers:[],imports:[[jP,yL,mL.forRoot()]]}),n})();(function T1(){ZE=!1})(),UP().bootstrapModule(DL).catch(n=>console.error(n))},489:function(kr,_s,Jl){var He;kr=Jl.nmd(kr),function(){var b,mn="Expected a function",ha="__lodash_hash_undefined__",Ui="__lodash_placeholder__",Le=1/0,Hr=9007199254740991,dr=4294967295,rf=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],qe="[object Arguments]",Ye="[object Array]",Me="[object Boolean]",Vi="[object Date]",Cs="[object Error]",_a="[object Function]",sf="[object GeneratorFunction]",Gn="[object Map]",va="[object Number]",_i="[object Object]",Gg="[object Promise]",bs="[object RegExp]",Kn="[object Set]",ji="[object String]",ya="[object Symbol]",Es="[object WeakMap]",_o="[object ArrayBuffer]",Is="[object DataView]",fr="[object Float32Array]",wa="[object Float64Array]",ic="[object Int8Array]",Da="[object Int16Array]",sc="[object Int32Array]",oc="[object Uint8Array]",ac="[object Uint8ClampedArray]",lc="[object Uint16Array]",cc="[object Uint32Array]",Zg=/\b__p \+= '';/g,Qg=/\b(__p \+=) '' \+/g,Yg=/(__e\(.*?\)|\b__t\)) \+\n'';/g,af=/&(?:amp|lt|gt|quot|#39);/g,lf=/[&<>"']/g,cD=RegExp(af.source),cf=RegExp(lf.source),uf=/<%-([\s\S]+?)%>/g,df=/<%([\s\S]+?)%>/g,uc=/<%=([\s\S]+?)%>/g,ff=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xg=/^\w*$/,hf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ca=/[\\^$.*+?()[\]{}|]/g,pf=RegExp(Ca.source),ba=/^\s+/,Fn=/\s/,Jg=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,em=/\{\n\/\* \[wrapped with (.+)\] \*/,tm=/,? & /,nm=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,gf=/[()=,{}\[\]\/\s]/,rm=/\\(\\)?/g,im=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,hr=/\w*$/,sm=/^[-+]0x[0-9a-f]+$/i,At=/^0b[01]+$/i,vo=/^\[object .+?Constructor\]$/,Ur=/^0o[0-7]+$/i,uD=/^(?:0|[1-9]\d*)$/,om=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,yo=/($^)/,dc=/['\n\r\u2028\u2029\\]/g,Ea="\\ud800-\\udfff",fc="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",_f="\\u2700-\\u27bf",vf="a-z\\xdf-\\xf6\\xf8-\\xff",wf="A-Z\\xc0-\\xd6\\xd8-\\xde",Rt="\\ufe0e\\ufe0f",Ia="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pc="["+Ea+"]",Ne="["+Ia+"]",Ss="["+fc+"]",xe="\\d+",gc="["+_f+"]",Df="["+vf+"]",Sa="[^"+Ea+Ia+xe+_f+vf+wf+"]",de="\\ud83c[\\udffb-\\udfff]",dm="[^"+Ea+"]",Te="(?:\\ud83c[\\udde6-\\uddff]){2}",Do="[\\ud800-\\udbff][\\udc00-\\udfff]",ne="["+wf+"]",bf="(?:"+Df+"|"+Sa+")",dD="(?:"+ne+"|"+Sa+")",fm="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Co="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",nn="(?:"+Ss+"|"+de+")?",hm="["+Rt+"]?",gm=hm+nn+"(?:\\u200d(?:"+[dm,Te,Do].join("|")+")"+hm+nn+")*",hD="(?:"+[gc,Te,Do].join("|")+")"+gm,pD="(?:"+[dm+Ss+"?",Ss,Te,Do,pc].join("|")+")",gD=RegExp("['\u2019]","g"),mm=RegExp(Ss,"g"),Ef=RegExp(de+"(?="+de+")|"+pD+gm,"g"),_m=RegExp([ne+"?"+Df+"+"+fm+"(?="+[Ne,ne,"$"].join("|")+")",dD+"+"+Co+"(?="+[Ne,ne+bf,"$"].join("|")+")",ne+"?"+bf+"+"+fm,ne+"+"+Co,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xe,hD].join("|"),"g"),mD=RegExp("[\\u200d"+Ea+fc+Rt+"]"),vn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ge=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],_D=-1,Ze={};Ze[fr]=Ze[wa]=Ze[ic]=Ze[Da]=Ze[sc]=Ze[oc]=Ze[ac]=Ze[lc]=Ze[cc]=!0,Ze[qe]=Ze[Ye]=Ze[_o]=Ze[Me]=Ze[Is]=Ze[Vi]=Ze[Cs]=Ze[_a]=Ze[Gn]=Ze[va]=Ze[_i]=Ze[bs]=Ze[Kn]=Ze[ji]=Ze[Es]=!1;var Ke={};Ke[qe]=Ke[Ye]=Ke[_o]=Ke[Is]=Ke[Me]=Ke[Vi]=Ke[fr]=Ke[wa]=Ke[ic]=Ke[Da]=Ke[sc]=Ke[Gn]=Ke[va]=Ke[_i]=Ke[bs]=Ke[Kn]=Ke[ji]=Ke[ya]=Ke[oc]=Ke[ac]=Ke[lc]=Ke[cc]=!0,Ke[Cs]=Ke[_a]=Ke[Es]=!1;var mc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},If=parseFloat,vm=parseInt,Sf="object"==typeof global&&global&&global.Object===Object&&global,Tf="object"==typeof self&&self&&self.Object===Object&&self,pt=Sf||Tf||Function("return this")(),Ta=_s&&!_s.nodeType&&_s,Ts=Ta&&kr&&!kr.nodeType&&kr,Af=Ts&&Ts.exports===Ta,se=Af&&Sf.process,rn=function(){try{return Ts&&Ts.require&&Ts.require("util").types||se&&se.binding&&se.binding("util")}catch(x){}}(),Mf=rn&&rn.isArrayBuffer,jr=rn&&rn.isDate,_c=rn&&rn.isMap,ym=rn&&rn.isRegExp,Wr=rn&&rn.isSet,On=rn&&rn.isTypedArray;function kn(I,x,P){switch(P.length){case 0:return I.call(x);case 1:return I.call(x,P[0]);case 2:return I.call(x,P[0],P[1]);case 3:return I.call(x,P[0],P[1],P[2])}return I.apply(x,P)}function yD(I,x,P,W){for(var Q=-1,pe=null==I?0:I.length;++Q<pe;){var ct=I[Q];x(W,ct,P(ct),I)}return W}function ot(I,x){for(var P=-1,W=null==I?0:I.length;++P<W&&!1!==x(I[P],P,I););return I}function wm(I,x){for(var P=null==I?0:I.length;P--&&!1!==x(I[P],P,I););return I}function xf(I,x){for(var P=-1,W=null==I?0:I.length;++P<W;)if(!x(I[P],P,I))return!1;return!0}function vi(I,x){for(var P=-1,W=null==I?0:I.length,Q=0,pe=[];++P<W;){var ct=I[P];x(ct,P,I)&&(pe[Q++]=ct)}return pe}function vc(I,x){return!(null==I||!I.length)&&Ms(I,x,0)>-1}function Pe(I,x,P){for(var W=-1,Q=null==I?0:I.length;++W<Q;)if(P(x,I[W]))return!0;return!1}function Xe(I,x){for(var P=-1,W=null==I?0:I.length,Q=Array(W);++P<W;)Q[P]=x(I[P],P,I);return Q}function Wi(I,x){for(var P=-1,W=x.length,Q=I.length;++P<W;)I[Q+P]=x[P];return I}function yi(I,x,P,W){var Q=-1,pe=null==I?0:I.length;for(W&&pe&&(P=I[++Q]);++Q<pe;)P=x(P,I[Q],Q,I);return P}function Ue(I,x,P,W){var Q=null==I?0:I.length;for(W&&Q&&(P=I[--Q]);Q--;)P=x(P,I[Q],Q,I);return P}function As(I,x){for(var P=-1,W=null==I?0:I.length;++P<W;)if(x(I[P],P,I))return!0;return!1}var yc=Aa("length");function pr(I,x,P){var W;return P(I,function(Q,pe,ct){if(x(Q,pe,ct))return W=pe,!1}),W}function wi(I,x,P,W){for(var Q=I.length,pe=P+(W?1:-1);W?pe--:++pe<Q;)if(x(I[pe],pe,I))return pe;return-1}function Ms(I,x,P){return x==x?function lt(I,x,P){for(var W=P-1,Q=I.length;++W<Q;)if(I[W]===x)return W;return-1}(I,x,P):wi(I,Rf,P)}function Di(I,x,P,W){for(var Q=P-1,pe=I.length;++Q<pe;)if(W(I[Q],x))return Q;return-1}function Rf(I){return I!=I}function Dc(I,x){var P=null==I?0:I.length;return P?xa(I,x)/P:NaN}function Aa(I){return function(x){return null==x?b:x[I]}}function Ma(I){return function(x){return null==I?b:I[x]}}function Zn(I,x,P,W,Q){return Q(I,function(pe,ct,Re){P=W?(W=!1,pe):x(P,pe,ct,Re)}),P}function xa(I,x){for(var P,W=-1,Q=I.length;++W<Q;){var pe=x(I[W]);pe!==b&&(P=P===b?pe:P+pe)}return P}function bt(I,x){for(var P=-1,W=Array(I);++P<I;)W[P]=x(P);return W}function Ft(I){return I&&I.slice(0,So(I)+1).replace(ba,"")}function gt(I){return function(x){return I(x)}}function $r(I,x){return Xe(x,function(P){return I[P]})}function Ut(I,x){return I.has(x)}function bo(I,x){for(var P=-1,W=I.length;++P<W&&Ms(x,I[P],0)>-1;);return P}function Pa(I,x){for(var P=I.length;P--&&Ms(x,I[P],0)>-1;);return P}function Eo(I,x){for(var P=I.length,W=0;P--;)I[P]===x&&++W;return W}var Ra=Ma({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),$i=Ma({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Vt(I){return"\\"+mc[I]}function Ot(I){return mD.test(I)}function We(I){var x=-1,P=Array(I.size);return I.forEach(function(W,Q){P[++x]=[Q,W]}),P}function on(I,x){return function(P){return I(x(P))}}function an(I,x){for(var P=-1,W=I.length,Q=0,pe=[];++P<W;){var ct=I[P];(ct===x||ct===Ui)&&(I[P]=Ui,pe[Q++]=P)}return pe}function at(I){var x=-1,P=Array(I.size);return I.forEach(function(W){P[++x]=W}),P}function Qn(I){return Ot(I)?function Cc(I){for(var x=Ef.lastIndex=0;Ef.test(I);)++x;return x}(I):yc(I)}function X(I){return Ot(I)?function Ps(I){return I.match(Ef)||[]}(I):function wc(I){return I.split("")}(I)}function So(I){for(var x=I.length;x--&&Fn.test(I.charAt(x)););return x}var xs=Ma({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),zr=function I(x){var o,P=(x=null==x?pt:zr.defaults(pt.Object(),x,zr.pick(pt,Ge))).Array,W=x.Date,Q=x.Error,pe=x.Function,ct=x.Math,Re=x.Object,Rs=x.RegExp,Yn=x.String,Ln=x.TypeError,bc=P.prototype,Fs=Re.prototype,Ec=x["__core-js_shared__"],Ic=pe.prototype.toString,Be=Fs.hasOwnProperty,wD=0,Em=(o=/[^.]+$/.exec(Ec&&Ec.keys&&Ec.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"",Sc=Fs.toString,DD=Ic.call(Re),CD=pt._,bD=Rs("^"+Ic.call(Be).replace(Ca,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Tc=Af?x.Buffer:b,Gi=x.Symbol,Ac=x.Uint8Array,Im=Tc?Tc.allocUnsafe:b,Mc=on(Re.getPrototypeOf,Re),xc=Re.create,Fa=Fs.propertyIsEnumerable,Pc=bc.splice,Sm=Gi?Gi.isConcatSpreadable:b,Oa=Gi?Gi.iterator:b,yn=Gi?Gi.toStringTag:b,ka=function(){try{var o=Dr(Re,"defineProperty");return o({},"",{}),o}catch(l){}}(),Gr=x.clearTimeout!==pt.clearTimeout&&x.clearTimeout,Ff=W&&W.now!==pt.Date.now&&W.now,Tm=x.setTimeout!==pt.setTimeout&&x.setTimeout,La=ct.ceil,Ao=ct.floor,Na=Re.getOwnPropertySymbols,Am=Tc?Tc.isBuffer:b,Ba=x.isFinite,Mm=bc.join,Nn=on(Re.keys,Re),ut=ct.max,jt=ct.min,Rc=W.now,xm=x.parseInt,Of=ct.random,Fc=bc.reverse,Oc=Dr(x,"DataView"),Ki=Dr(x,"Map"),kf=Dr(x,"Promise"),Ve=Dr(x,"Set"),Os=Dr(x,"WeakMap"),Mo=Dr(Re,"create"),Je=Os&&new Os,ks={},ED=Si(Oc),Ha=Si(Ki),Bn=Si(kf),Pm=Si(Ve),kc=Si(Os),Kr=Gi?Gi.prototype:b,kt=Kr?Kr.valueOf:b,Lc=Kr?Kr.toString:b;function _(o){if(it(o)&&!le(o)&&!(o instanceof De)){if(o instanceof wn)return o;if(Be.call(o,"__wrapped__"))return mh(o)}return new wn(o)}var Ls=function(){function o(){}return function(l){if(!tt(l))return{};if(xc)return xc(l);o.prototype=l;var d=new o;return o.prototype=b,d}}();function Xn(){}function wn(o,l){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=b}function De(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=dr,this.__views__=[]}function qi(o){var l=-1,d=null==o?0:o.length;for(this.clear();++l<d;){var h=o[l];this.set(h[0],h[1])}}function fe(o){var l=-1,d=null==o?0:o.length;for(this.clear();++l<d;){var h=o[l];this.set(h[0],h[1])}}function Jn(o){var l=-1,d=null==o?0:o.length;for(this.clear();++l<d;){var h=o[l];this.set(h[0],h[1])}}function dt(o){var l=-1,d=null==o?0:o.length;for(this.__data__=new Jn;++l<d;)this.add(o[l])}function Wt(o){var l=this.__data__=new fe(o);this.size=l.size}function ja(o,l){var d=le(o),h=!d&&as(o),m=!d&&!h&&si(o),v=!d&&!h&&!m&&dn(o),C=d||h||m||v,E=C?bt(o.length,Yn):[],S=E.length;for(var k in o)(l||Be.call(o,k))&&(!C||!("length"==k||m&&("offset"==k||"parent"==k)||v&&("buffer"==k||"byteLength"==k||"byteOffset"==k)||ti(k,S)))&&E.push(k);return E}function Wa(o){var l=o.length;return l?o[Ws(0,l-1)]:b}function Uf(o,l){return gu(Cn(o),Qi(l,0,o.length))}function Bc(o){return gu(Cn(o))}function Hc(o,l,d){(d!==b&&!Vn(o[l],d)||d===b&&!(l in o))&&mr(o,l,d)}function Ns(o,l,d){var h=o[l];(!Be.call(o,l)||!Vn(h,d)||d===b&&!(l in o))&&mr(o,l,d)}function Zi(o,l){for(var d=o.length;d--;)if(Vn(o[d][0],l))return d;return-1}function Vf(o,l,d,h){return Ci(o,function(m,v,C){l(h,m,d(m),C)}),h}function Uc(o,l){return o&&Xr(l,vt(l),o)}function mr(o,l,d){"__proto__"==l&&ka?ka(o,l,{configurable:!0,enumerable:!0,value:d,writable:!0}):o[l]=d}function Bs(o,l){for(var d=-1,h=l.length,m=P(h),v=null==o;++d<h;)m[d]=v?b:ep(o,l[d]);return m}function Qi(o,l,d){return o==o&&(d!==b&&(o=o<=d?o:d),l!==b&&(o=o>=l?o:l)),o}function Hn(o,l,d,h,m,v){var C,E=1&l,S=2&l,k=4&l;if(d&&(C=m?d(o,h,m,v):d(o)),C!==b)return C;if(!tt(o))return o;var L=le(o);if(L){if(C=function ch(o){var l=o.length,d=new o.constructor(l);return l&&"string"==typeof o[0]&&Be.call(o,"index")&&(d.index=o.index,d.input=o.input),d}(o),!E)return Cn(o,C)}else{var B=ft(o),U=B==_a||B==sf;if(si(o))return Zm(o,E);if(B==_i||B==qe||U&&!m){if(C=S||U?{}:uh(o),!E)return S?function bn(o,l){return Xr(o,lh(o),l)}(o,function jf(o,l){return o&&Xr(l,hn(l),o)}(C,o)):function rh(o,l){return Xr(o,uu(o),l)}(o,Uc(C,o))}else{if(!Ke[B])return m?o:{};C=function MD(o,l,d){var h=o.constructor;switch(l){case _o:return nu(o);case Me:case Vi:return new h(+o);case Is:return function Un(o,l){var d=l?nu(o.buffer):o.buffer;return new o.constructor(d,o.byteOffset,o.byteLength)}(o,d);case fr:case wa:case ic:case Da:case sc:case oc:case ac:case lc:case cc:return No(o,d);case Gn:return new h;case va:case ji:return new h(o);case bs:return function vr(o){var l=new o.constructor(o.source,hr.exec(o));return l.lastIndex=o.lastIndex,l}(o);case Kn:return new h;case ya:return function Jf(o){return kt?Re(kt.call(o)):{}}(o)}}(o,B,E)}}v||(v=new Wt);var z=v.get(o);if(z)return z;v.set(o,C),Wu(o)?o.forEach(function(te){C.add(Hn(te,l,d,te,o,v))}):Gh(o)&&o.forEach(function(te,Ce){C.set(Ce,Hn(te,l,d,Ce,o,v))});var ge=L?b:(k?S?Ys:cu:S?hn:vt)(o);return ot(ge||o,function(te,Ce){ge&&(te=o[Ce=te]),Ns(C,Ce,Hn(te,l,d,Ce,o,v))}),C}function Qr(o,l,d){var h=d.length;if(null==o)return!h;for(o=Re(o);h--;){var m=d[h],C=o[m];if(C===b&&!(m in o)||!(0,l[m])(C))return!1}return!0}function et(o,l,d){if("function"!=typeof o)throw new Ln(mn);return ri(function(){o.apply(b,d)},l)}function Yr(o,l,d,h){var m=-1,v=vc,C=!0,E=o.length,S=[],k=l.length;if(!E)return S;d&&(l=Xe(l,gt(d))),h?(v=Pe,C=!1):l.length>=200&&(v=Ut,C=!1,l=new dt(l));e:for(;++m<E;){var L=o[m],B=null==d?L:d(L);if(L=h||0!==L?L:0,C&&B==B){for(var U=k;U--;)if(l[U]===B)continue e;S.push(L)}else v(l,B,h)||S.push(L)}return S}_.templateSettings={escape:uf,evaluate:df,interpolate:uc,variable:"",imports:{_}},(_.prototype=Xn.prototype).constructor=_,(wn.prototype=Ls(Xn.prototype)).constructor=wn,(De.prototype=Ls(Xn.prototype)).constructor=De,qi.prototype.clear=function Fm(){this.__data__=Mo?Mo(null):{},this.size=0},qi.prototype.delete=function Lf(o){var l=this.has(o)&&delete this.__data__[o];return this.size-=l?1:0,l},qi.prototype.get=function Om(o){var l=this.__data__;if(Mo){var d=l[o];return d===ha?b:d}return Be.call(l,o)?l[o]:b},qi.prototype.has=function km(o){var l=this.__data__;return Mo?l[o]!==b:Be.call(l,o)},qi.prototype.set=function N(o,l){var d=this.__data__;return this.size+=this.has(o)?0:1,d[o]=Mo&&l===b?ha:l,this},fe.prototype.clear=function cn(){this.__data__=[],this.size=0},fe.prototype.delete=function Et(o){var l=this.__data__,d=Zi(l,o);return!(d<0||(d==l.length-1?l.pop():Pc.call(l,d,1),--this.size,0))},fe.prototype.get=function Nf(o){var l=this.__data__,d=Zi(l,o);return d<0?b:l[d][1]},fe.prototype.has=function xo(o){return Zi(this.__data__,o)>-1},fe.prototype.set=function gr(o,l){var d=this.__data__,h=Zi(d,o);return h<0?(++this.size,d.push([o,l])):d[h][1]=l,this},Jn.prototype.clear=function Nc(){this.size=0,this.__data__={hash:new qi,map:new(Ki||fe),string:new qi}},Jn.prototype.delete=function SD(o){var l=Wo(this,o).delete(o);return this.size-=l?1:0,l},Jn.prototype.get=function Lm(o){return Wo(this,o).get(o)},Jn.prototype.has=function Ua(o){return Wo(this,o).has(o)},Jn.prototype.set=function Va(o,l){var d=Wo(this,o),h=d.size;return d.set(o,l),this.size+=d.size==h?0:1,this},dt.prototype.add=dt.prototype.push=function qr(o){return this.__data__.set(o,ha),this},dt.prototype.has=function Bf(o){return this.__data__.has(o)},Wt.prototype.clear=function Zr(){this.__data__=new fe,this.size=0},Wt.prototype.delete=function Nm(o){var l=this.__data__,d=l.delete(o);return this.size=l.size,d},Wt.prototype.get=function Hf(o){return this.__data__.get(o)},Wt.prototype.has=function Bm(o){return this.__data__.has(o)},Wt.prototype.set=function Hm(o,l){var d=this.__data__;if(d instanceof fe){var h=d.__data__;if(!Ki||h.length<199)return h.push([o,l]),this.size=++d.size,this;d=this.__data__=new Jn(h)}return d.set(o,l),this.size=d.size,this};var Ci=Qm(er),Vc=Qm(jc,!0);function Um(o,l){var d=!0;return Ci(o,function(h,m,v){return d=!!l(h,m,v)}),d}function $a(o,l,d){for(var h=-1,m=o.length;++h<m;){var v=o[h],C=l(v);if(null!=C&&(E===b?C==C&&!Qt(C):d(C,E)))var E=C,S=v}return S}function Po(o,l){var d=[];return Ci(o,function(h,m,v){l(h,m,v)&&d.push(h)}),d}function mt(o,l,d,h,m){var v=-1,C=o.length;for(d||(d=s_),m||(m=[]);++v<C;){var E=o[v];l>0&&d(E)?l>1?mt(E,l-1,d,h,m):Wi(m,E):h||(m[m.length]=E)}return m}var Hs=ru(),za=ru(!0);function er(o,l){return o&&Hs(o,l,vt)}function jc(o,l){return o&&za(o,l,vt)}function tr(o,l){return vi(l,function(d){return oi(o[d])})}function nr(o,l){for(var d=0,h=(l=ns(l,o)).length;null!=o&&d<h;)o=o[ii(l[d++])];return d&&d==h?o:b}function Wf(o,l,d){var h=l(o);return le(o)?h:Wi(h,d(o))}function qt(o){return null==o?o===b?"[object Undefined]":"[object Null]":yn&&yn in Re(o)?function ah(o){var l=Be.call(o,yn),d=o[yn];try{o[yn]=b;var h=!0}catch(v){}var m=Sc.call(o);return h&&(l?o[yn]=d:delete o[yn]),m}(o):function a_(o){return Sc.call(o)}(o)}function Yi(o,l){return o>l}function Wc(o,l){return null!=o&&Be.call(o,l)}function jm(o,l){return null!=o&&l in Re(o)}function $f(o,l,d){for(var h=d?Pe:vc,m=o[0].length,v=o.length,C=v,E=P(v),S=1/0,k=[];C--;){var L=o[C];C&&l&&(L=Xe(L,gt(l))),S=jt(L.length,S),E[C]=!d&&(l||m>=120&&L.length>=120)?new dt(C&&L):b}L=o[0];var B=-1,U=E[0];e:for(;++B<m&&k.length<S;){var z=L[B],ee=l?l(z):z;if(z=d||0!==z?z:0,!(U?Ut(U,ee):h(k,ee,d))){for(C=v;--C;){var ge=E[C];if(!(ge?Ut(ge,ee):h(o[C],ee,d)))continue e}U&&U.push(ee),k.push(z)}}return k}function bi(o,l,d){var h=null==(o=gh(o,l=ns(l,o)))?o:o[ii(En(l))];return null==h?b:kn(h,o,d)}function $c(o){return it(o)&&qt(o)==qe}function Us(o,l,d,h,m){return o===l||(null==o||null==l||!it(o)&&!it(l)?o!=o&&l!=l:function zf(o,l,d,h,m,v){var C=le(o),E=le(l),S=C?Ye:ft(o),k=E?Ye:ft(l),L=(S=S==qe?_i:S)==_i,B=(k=k==qe?_i:k)==_i,U=S==k;if(U&&si(o)){if(!si(l))return!1;C=!0,L=!1}if(U&&!L)return v||(v=new Wt),C||dn(o)?tl(o,l,d,h,m,v):function Vo(o,l,d,h,m,v,C){switch(d){case Is:if(o.byteLength!=l.byteLength||o.byteOffset!=l.byteOffset)return!1;o=o.buffer,l=l.buffer;case _o:return!(o.byteLength!=l.byteLength||!v(new Ac(o),new Ac(l)));case Me:case Vi:case va:return Vn(+o,+l);case Cs:return o.name==l.name&&o.message==l.message;case bs:case ji:return o==l+"";case Gn:var E=We;case Kn:if(E||(E=at),o.size!=l.size&&!(1&h))return!1;var k=C.get(o);if(k)return k==l;h|=2,C.set(o,l);var L=tl(E(o),E(l),h,m,v,C);return C.delete(o),L;case ya:if(kt)return kt.call(o)==kt.call(l)}return!1}(o,l,S,d,h,m,v);if(!(1&d)){var z=L&&Be.call(o,"__wrapped__"),ee=B&&Be.call(l,"__wrapped__");if(z||ee){var ge=z?o.value():o,te=ee?l.value():l;return v||(v=new Wt),m(ge,te,d,h,v)}}return!!U&&(v||(v=new Wt),function t_(o,l,d,h,m,v){var C=1&d,E=cu(o),S=E.length;if(S!=cu(l).length&&!C)return!1;for(var B=S;B--;){var U=E[B];if(!(C?U in l:Be.call(l,U)))return!1}var z=v.get(o),ee=v.get(l);if(z&&ee)return z==l&&ee==o;var ge=!0;v.set(o,l),v.set(l,o);for(var te=C;++B<S;){var Ce=o[U=E[B]],Ee=l[U];if(h)var An=C?h(Ee,Ce,U,l,o,v):h(Ce,Ee,U,o,l,v);if(!(An===b?Ce===Ee||m(Ce,Ee,d,h,v):An)){ge=!1;break}te||(te="constructor"==U)}if(ge&&!te){var Yt=o.constructor,Mn=l.constructor;Yt!=Mn&&"constructor"in o&&"constructor"in l&&!("function"==typeof Yt&&Yt instanceof Yt&&"function"==typeof Mn&&Mn instanceof Mn)&&(ge=!1)}return v.delete(o),v.delete(l),ge}(o,l,d,h,m,v))}(o,l,d,h,Us,m))}function Gc(o,l,d,h){var m=d.length,v=m,C=!h;if(null==o)return!v;for(o=Re(o);m--;){var E=d[m];if(C&&E[2]?E[1]!==o[E[0]]:!(E[0]in o))return!1}for(;++m<v;){var S=(E=d[m])[0],k=o[S],L=E[1];if(C&&E[2]){if(k===b&&!(S in o))return!1}else{var B=new Wt;if(h)var U=h(k,L,S,o,l,B);if(!(U===b?Us(L,k,3,h,B):U))return!1}}return!0}function Xi(o){return!(!tt(o)||function o_(o){return!!Em&&Em in o}(o))&&(oi(o)?bD:vo).test(Si(o))}function qc(o){return"function"==typeof o?o:null==o?Tn:"object"==typeof o?le(o)?Qa(o[0],o[1]):Za(o):sd(o)}function qa(o){if(!Ii(o))return Nn(o);var l=[];for(var d in Re(o))Be.call(o,d)&&"constructor"!=d&&l.push(d);return l}function Zc(o,l){return o<l}function js(o,l){var d=-1,h=un(o)?P(o.length):[];return Ci(o,function(m,v,C){h[++d]=l(m,v,C)}),h}function Za(o){var l=$o(o);return 1==l.length&&l[0][2]?fu(l[0][0],l[0][1]):function(d){return d===o||Gc(d,o,l)}}function Qa(o,l){return Go(o)&&nl(l)?fu(ii(o),l):function(d){var h=ep(d,o);return h===b&&h===l?tp(d,o):Us(l,h,3)}}function Ji(o,l,d,h,m){o!==l&&Hs(l,function(v,C){if(m||(m=new Wt),tt(v))!function Ya(o,l,d,h,m,v,C){var E=hu(o,d),S=hu(l,d),k=C.get(S);if(k)Hc(o,d,k);else{var L=v?v(E,S,d+"",o,l,C):b,B=L===b;if(B){var U=le(S),z=!U&&si(S),ee=!U&&!z&&dn(S);L=S,U||z||ee?le(E)?L=E:rt(E)?L=Cn(E):z?(B=!1,L=Zm(S,!0)):ee?(B=!1,L=No(S,!0)):L=[]:ro(S)||as(S)?(L=E,as(E)?L=ml(E):(!tt(E)||oi(E))&&(L=uh(S))):B=!1}B&&(C.set(S,L),m(L,S,h,v,C),C.delete(S)),Hc(o,d,L)}}(o,l,C,d,Ji,h,m);else{var E=h?h(hu(o,C),v,C+"",o,l,m):b;E===b&&(E=v),Hc(o,C,E)}},hn)}function Gf(o,l){var d=o.length;if(d)return ti(l+=l<0?d:0,d)?o[l]:b}function Qc(o,l,d){l=l.length?Xe(l,function(v){return le(v)?function(C){return nr(C,1===v.length?v[0]:v)}:v}):[Tn];var h=-1;return l=Xe(l,gt(J())),function Dm(I,x){var P=I.length;for(I.sort(x);P--;)I[P]=I[P].value;return I}(js(o,function(v,C,E){return{criteria:Xe(l,function(k){return k(v)}),index:++h,value:v}}),function(v,C){return function eh(o,l,d){for(var h=-1,m=o.criteria,v=l.criteria,C=m.length,E=d.length;++h<C;){var S=qs(m[h],v[h]);if(S)return h>=E?S:S*("desc"==d[h]?-1:1)}return o.index-l.index}(v,C,d)})}function Yc(o,l,d){for(var h=-1,m=l.length,v={};++h<m;){var C=l[h],E=nr(o,C);d(E,C)&&Fo(v,ns(C,o),E)}return v}function Xc(o,l,d,h){var m=h?Di:Ms,v=-1,C=l.length,E=o;for(o===l&&(l=Cn(l)),d&&(E=Xe(o,gt(d)));++v<C;)for(var S=0,k=l[v],L=d?d(k):k;(S=m(E,L,S,h))>-1;)E!==o&&Pc.call(E,S,1),Pc.call(o,S,1);return o}function Zf(o,l){for(var d=o?l.length:0,h=d-1;d--;){var m=l[d];if(d==h||m!==v){var v=m;ti(m)?Pc.call(o,m,1):eu(o,m)}}return o}function Ws(o,l){return o+Ao(Of()*(l-o+1))}function Jc(o,l){var d="";if(!o||l<1||l>Hr)return d;do{l%2&&(d+=o),(l=Ao(l/2))&&(o+=o)}while(l);return d}function _e(o,l){return pu(ph(o,l,Tn),o+"")}function Qf(o){return Wa(Er(o))}function $s(o,l){var d=Er(o);return gu(d,Qi(l,0,d.length))}function Fo(o,l,d,h){if(!tt(o))return o;for(var m=-1,v=(l=ns(l,o)).length,C=v-1,E=o;null!=E&&++m<v;){var S=ii(l[m]),k=d;if("__proto__"===S||"constructor"===S||"prototype"===S)return o;if(m!=C){var L=E[S];(k=h?h(L,S,E):b)===b&&(k=tt(L)?L:ti(l[m+1])?[]:{})}Ns(E,S,k),E=E[S]}return o}var Xa=Je?function(o,l){return Je.set(o,l),o}:Tn,Oo=ka?function(o,l){return ka(o,"toString",{configurable:!0,enumerable:!1,value:Wn(l),writable:!0})}:Tn;function zs(o){return gu(Er(o))}function Lt(o,l,d){var h=-1,m=o.length;l<0&&(l=-l>m?0:m+l),(d=d>m?m:d)<0&&(d+=m),m=l>d?0:d-l>>>0,l>>>=0;for(var v=P(m);++h<m;)v[h]=o[h+l];return v}function Gs(o,l){var d;return Ci(o,function(h,m,v){return!(d=l(h,m,v))}),!!d}function ko(o,l,d){var h=0,m=null==o?h:o.length;if("number"==typeof l&&l==l&&m<=2147483647){for(;h<m;){var v=h+m>>>1,C=o[v];null!==C&&!Qt(C)&&(d?C<=l:C<l)?h=v+1:m=v}return m}return Lo(o,l,Tn,d)}function Lo(o,l,d,h){var m=0,v=null==o?0:o.length;if(0===v)return 0;for(var C=(l=d(l))!=l,E=null===l,S=Qt(l),k=l===b;m<v;){var L=Ao((m+v)/2),B=d(o[L]),U=B!==b,z=null===B,ee=B==B,ge=Qt(B);if(C)var te=h||ee;else te=k?ee&&(h||U):E?ee&&U&&(h||!z):S?ee&&U&&!z&&(h||!ge):!z&&!ge&&(h?B<=l:B<l);te?m=L+1:v=L}return jt(v,4294967294)}function es(o,l){for(var d=-1,h=o.length,m=0,v=[];++d<h;){var C=o[d],E=l?l(C):C;if(!d||!Vn(E,S)){var S=E;v[m++]=0===C?0:C}}return v}function zm(o){return"number"==typeof o?o:Qt(o)?NaN:+o}function Dn(o){if("string"==typeof o)return o;if(le(o))return Xe(o,Dn)+"";if(Qt(o))return Lc?Lc.call(o):"";var l=o+"";return"0"==l&&1/o==-Le?"-0":l}function Y(o,l,d){var h=-1,m=vc,v=o.length,C=!0,E=[],S=E;if(d)C=!1,m=Pe;else if(v>=200){var k=l?null:Uo(o);if(k)return at(k);C=!1,m=Ut,S=new dt}else S=l?[]:E;e:for(;++h<v;){var L=o[h],B=l?l(L):L;if(L=d||0!==L?L:0,C&&B==B){for(var U=S.length;U--;)if(S[U]===B)continue e;l&&S.push(B),E.push(L)}else m(S,B,d)||(S!==E&&S.push(B),E.push(L))}return E}function eu(o,l){return null==(o=gh(o,l=ns(l,o)))||delete o[ii(En(l))]}function Gm(o,l,d,h){return Fo(o,l,d(nr(o,l)),h)}function tu(o,l,d,h){for(var m=o.length,v=h?m:-1;(h?v--:++v<m)&&l(o[v],v,o););return d?Lt(o,h?0:v,h?v+1:m):Lt(o,h?v+1:0,h?m:v)}function Km(o,l){var d=o;return d instanceof De&&(d=d.value()),yi(l,function(h,m){return m.func.apply(m.thisArg,Wi([h],m.args))},d)}function Yf(o,l,d){var h=o.length;if(h<2)return h?Y(o[0]):[];for(var m=-1,v=P(h);++m<h;)for(var C=o[m],E=-1;++E<h;)E!=m&&(v[m]=Yr(v[m]||C,o[E],l,d));return Y(mt(v,1),l,d)}function qm(o,l,d){for(var h=-1,m=o.length,v=l.length,C={};++h<m;)d(C,o[h],h<v?l[h]:b);return C}function Xf(o){return rt(o)?o:[]}function ts(o){return"function"==typeof o?o:Tn}function ns(o,l){return le(o)?o:Go(o,l)?[o]:d_(Fe(o))}var It=_e;function _r(o,l,d){var h=o.length;return d=d===b?h:d,!l&&d>=h?o:Lt(o,l,d)}var Ks=Gr||function(o){return pt.clearTimeout(o)};function Zm(o,l){if(l)return o.slice();var d=o.length,h=Im?Im(d):new o.constructor(d);return o.copy(h),h}function nu(o){var l=new o.constructor(o.byteLength);return new Ac(l).set(new Ac(o)),l}function No(o,l){var d=l?nu(o.buffer):o.buffer;return new o.constructor(d,o.byteOffset,o.length)}function qs(o,l){if(o!==l){var d=o!==b,h=null===o,m=o==o,v=Qt(o),C=l!==b,E=null===l,S=l==l,k=Qt(l);if(!E&&!k&&!v&&o>l||v&&C&&S&&!E&&!k||h&&C&&S||!d&&S||!m)return 1;if(!h&&!v&&!k&&o<l||k&&d&&m&&!h&&!v||E&&d&&m||!C&&m||!S)return-1}return 0}function th(o,l,d,h){for(var m=-1,v=o.length,C=d.length,E=-1,S=l.length,k=ut(v-C,0),L=P(S+k),B=!h;++E<S;)L[E]=l[E];for(;++m<C;)(B||m<v)&&(L[d[m]]=o[m]);for(;k--;)L[E++]=o[m++];return L}function nh(o,l,d,h){for(var m=-1,v=o.length,C=-1,E=d.length,S=-1,k=l.length,L=ut(v-E,0),B=P(L+k),U=!h;++m<L;)B[m]=o[m];for(var z=m;++S<k;)B[z+S]=l[S];for(;++C<E;)(U||m<v)&&(B[z+d[C]]=o[m++]);return B}function Cn(o,l){var d=-1,h=o.length;for(l||(l=P(h));++d<h;)l[d]=o[d];return l}function Xr(o,l,d,h){var m=!d;d||(d={});for(var v=-1,C=l.length;++v<C;){var E=l[v],S=h?h(d[E],o[E],E,d,o):b;S===b&&(S=o[E]),m?mr(d,E,S):Ns(d,E,S)}return d}function Zs(o,l){return function(d,h){var m=le(d)?yD:Vf,v=l?l():{};return m(d,o,J(h,2),v)}}function rr(o){return _e(function(l,d){var h=-1,m=d.length,v=m>1?d[m-1]:b,C=m>2?d[2]:b;for(v=o.length>3&&"function"==typeof v?(m--,v):b,C&&Mt(d[0],d[1],C)&&(v=m<3?b:v,m=1),l=Re(l);++h<m;){var E=d[h];E&&o(l,E,h,v)}return l})}function Qm(o,l){return function(d,h){if(null==d)return d;if(!un(d))return o(d,h);for(var m=d.length,v=l?m:-1,C=Re(d);(l?v--:++v<m)&&!1!==h(C[v],v,C););return d}}function ru(o){return function(l,d,h){for(var m=-1,v=Re(l),C=h(l),E=C.length;E--;){var S=C[o?E:++m];if(!1===d(v[S],S,v))break}return l}}function ih(o){return function(l){var d=Ot(l=Fe(l))?X(l):b,h=d?d[0]:l.charAt(0),m=d?_r(d,1).join(""):l.slice(1);return h[o]()+m}}function Qs(o){return function(l){return yi(vp(Yu(l).replace(gD,"")),o,"")}}function Bo(o){return function(){var l=arguments;switch(l.length){case 0:return new o;case 1:return new o(l[0]);case 2:return new o(l[0],l[1]);case 3:return new o(l[0],l[1],l[2]);case 4:return new o(l[0],l[1],l[2],l[3]);case 5:return new o(l[0],l[1],l[2],l[3],l[4]);case 6:return new o(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new o(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var d=Ls(o.prototype),h=o.apply(d,l);return tt(h)?h:d}}function iu(o){return function(l,d,h){var m=Re(l);if(!un(l)){var v=J(d,3);l=vt(l),d=function(E){return v(m[E],E,m)}}var C=o(l,d,h);return C>-1?m[v?l[C]:C]:b}}function Ja(o){return ei(function(l){var d=l.length,h=d,m=wn.prototype.thru;for(o&&l.reverse();h--;){var v=l[h];if("function"!=typeof v)throw new Ln(mn);if(m&&!C&&"wrapper"==jo(v))var C=new wn([],!0)}for(h=C?h:d;++h<d;){var E=jo(v=l[h]),S="wrapper"==E?yr(v):b;C=S&&du(S[0])&&424==S[1]&&!S[4].length&&1==S[9]?C[jo(S[0])].apply(C,S[3]):1==v.length&&du(v)?C[E]():C.thru(v)}return function(){var k=arguments,L=k[0];if(C&&1==k.length&&le(L))return C.plant(L).value();for(var B=0,U=d?l[B].apply(this,k):L;++B<d;)U=l[B].call(this,U);return U}})}function rs(o,l,d,h,m,v,C,E,S,k){var L=128&l,B=1&l,U=2&l,z=24&l,ee=512&l,ge=U?b:Bo(o);return function te(){for(var Ce=arguments.length,Ee=P(Ce),An=Ce;An--;)Ee[An]=arguments[An];if(z)var Yt=wr(te),Mn=Eo(Ee,Yt);if(h&&(Ee=th(Ee,h,m,z)),v&&(Ee=nh(Ee,v,C,z)),Ce-=Mn,z&&Ce<k){var st=an(Ee,Yt);return su(o,l,rs,te.placeholder,d,Ee,st,E,S,k-Ce)}var Ir=B?d:this,Sr=U?Ir[o]:o;return Ce=Ee.length,E?Ee=l_(Ee,E):ee&&Ce>1&&Ee.reverse(),L&&S<Ce&&(Ee.length=S),this&&this!==pt&&this instanceof te&&(Sr=ge||Bo(Sr)),Sr.apply(Ir,Ee)}}function Jm(o,l){return function(d,h){return function TD(o,l,d,h){return er(o,function(m,v,C){l(h,d(m),v,C)}),h}(d,o,l(h),{})}}function Ei(o,l){return function(d,h){var m;if(d===b&&h===b)return l;if(d!==b&&(m=d),h!==b){if(m===b)return h;"string"==typeof d||"string"==typeof h?(d=Dn(d),h=Dn(h)):(d=zm(d),h=zm(h)),m=o(d,h)}return m}}function Ho(o){return ei(function(l){return l=Xe(l,gt(J())),_e(function(d){var h=this;return o(l,function(m){return kn(m,h,d)})})})}function is(o,l){var d=(l=l===b?" ":Dn(l)).length;if(d<2)return d?Jc(l,o):l;var h=Jc(l,La(o/Qn(l)));return Ot(l)?_r(X(h),0,o).join(""):h.slice(0,o)}function sh(o){return function(l,d,h){return h&&"number"!=typeof h&&Mt(l,d,h)&&(d=h=b),l=jn(l),d===b?(d=l,l=0):d=jn(d),function Ro(o,l,d,h){for(var m=-1,v=ut(La((l-o)/(d||1)),0),C=P(v);v--;)C[h?v:++m]=o,o+=d;return C}(l,d,h=h===b?l<d?1:-1:jn(h),o)}}function el(o){return function(l,d){return"string"==typeof l&&"string"==typeof d||(l=fn(l),d=fn(d)),o(l,d)}}function su(o,l,d,h,m,v,C,E,S,k){var L=8&l;l|=L?32:64,4&(l&=~(L?64:32))||(l&=-4);var ge=[o,l,m,L?v:b,L?C:b,L?b:v,L?b:C,E,S,k],te=d.apply(b,ge);return du(o)&&ni(te,ge),te.placeholder=h,c_(te,o,l)}function ou(o){var l=ct[o];return function(d,h){if(d=fn(d),(h=null==h?0:jt(ue(h),292))&&Ba(d)){var m=(Fe(d)+"e").split("e");return+((m=(Fe(l(m[0]+"e"+(+m[1]+h)))+"e").split("e"))[0]+"e"+(+m[1]-h))}return l(d)}}var Uo=Ve&&1/at(new Ve([,-0]))[1]==Le?function(o){return new Ve(o)}:lo;function au(o){return function(l){var d=ft(l);return d==Gn?We(l):d==Kn?function zi(I){var x=-1,P=Array(I.size);return I.forEach(function(W){P[++x]=[W,W]}),P}(l):function sn(I,x){return Xe(x,function(P){return[P,I[P]]})}(l,o(l))}}function Jr(o,l,d,h,m,v,C,E){var S=2&l;if(!S&&"function"!=typeof o)throw new Ln(mn);var k=h?h.length:0;if(k||(l&=-97,h=m=b),C=C===b?C:ut(ue(C),0),E=E===b?E:ue(E),k-=m?m.length:0,64&l){var L=h,B=m;h=m=b}var U=S?b:yr(o),z=[o,l,d,h,m,L,B,v,C,E];if(U&&function fh(o,l){var d=o[1],h=l[1],m=d|h;if(!(m<131||(128==h&&8==d||128==h&&256==d&&o[7].length<=l[8]||384==h&&l[7].length<=l[8]&&8==d)))return o;1&h&&(o[2]=l[2],m|=1&d?0:4);var E=l[3];if(E){var S=o[3];o[3]=S?th(S,E,l[4]):E,o[4]=S?an(o[3],Ui):l[4]}(E=l[5])&&(o[5]=(S=o[5])?nh(S,E,l[6]):E,o[6]=S?an(o[5],Ui):l[6]),(E=l[7])&&(o[7]=E),128&h&&(o[8]=null==o[8]?l[8]:jt(o[8],l[8])),null==o[9]&&(o[9]=l[9]),o[0]=l[0],o[1]=m}(z,U),o=z[0],l=z[1],d=z[2],h=z[3],m=z[4],!(E=z[9]=z[9]===b?S?0:o.length:ut(z[9]-k,0))&&24&l&&(l&=-25),l&&1!=l)ee=8==l||16==l?function Xm(o,l,d){var h=Bo(o);return function m(){for(var v=arguments.length,C=P(v),E=v,S=wr(m);E--;)C[E]=arguments[E];var k=v<3&&C[0]!==S&&C[v-1]!==S?[]:an(C,S);return(v-=k.length)<d?su(o,l,rs,m.placeholder,b,C,k,b,b,d-v):kn(this&&this!==pt&&this instanceof m?h:o,this,C)}}(o,l,E):32!=l&&33!=l||m.length?rs.apply(b,z):function e_(o,l,d,h){var m=1&l,v=Bo(o);return function C(){for(var E=-1,S=arguments.length,k=-1,L=h.length,B=P(L+S),U=this&&this!==pt&&this instanceof C?v:o;++k<L;)B[k]=h[k];for(;S--;)B[k++]=arguments[++E];return kn(U,m?d:this,B)}}(o,l,d,h);else var ee=function Ym(o,l,d){var h=1&l,m=Bo(o);return function v(){return(this&&this!==pt&&this instanceof v?m:o).apply(h?d:this,arguments)}}(o,l,d);return c_((U?Xa:ni)(ee,z),o,l)}function K(o,l,d,h){return o===b||Vn(o,Fs[d])&&!Be.call(h,d)?l:o}function lu(o,l,d,h,m,v){return tt(o)&&tt(l)&&(v.set(l,o),Ji(o,l,b,lu,v),v.delete(l)),o}function oh(o){return ro(o)?b:o}function tl(o,l,d,h,m,v){var C=1&d,E=o.length,S=l.length;if(E!=S&&!(C&&S>E))return!1;var k=v.get(o),L=v.get(l);if(k&&L)return k==l&&L==o;var B=-1,U=!0,z=2&d?new dt:b;for(v.set(o,l),v.set(l,o);++B<E;){var ee=o[B],ge=l[B];if(h)var te=C?h(ge,ee,B,l,o,v):h(ee,ge,B,o,l,v);if(te!==b){if(te)continue;U=!1;break}if(z){if(!As(l,function(Ce,Ee){if(!Ut(z,Ee)&&(ee===Ce||m(ee,Ce,d,h,v)))return z.push(Ee)})){U=!1;break}}else if(ee!==ge&&!m(ee,ge,d,h,v)){U=!1;break}}return v.delete(o),v.delete(l),U}function ei(o){return pu(ph(o,b,v_),o+"")}function cu(o){return Wf(o,vt,uu)}function Ys(o){return Wf(o,hn,lh)}var yr=Je?function(o){return Je.get(o)}:lo;function jo(o){for(var l=o.name+"",d=ks[l],h=Be.call(ks,l)?d.length:0;h--;){var m=d[h],v=m.func;if(null==v||v==o)return m.name}return l}function wr(o){return(Be.call(_,"placeholder")?_:o).placeholder}function J(){var o=_.iteratee||Cl;return o=o===Cl?qc:o,arguments.length?o(arguments[0],arguments[1]):o}function Wo(o,l){var d=o.__data__;return function Xs(o){var l=typeof o;return"string"==l||"number"==l||"symbol"==l||"boolean"==l?"__proto__"!==o:null===o}(l)?d["string"==typeof l?"string":"hash"]:d.map}function $o(o){for(var l=vt(o),d=l.length;d--;){var h=l[d],m=o[h];l[d]=[h,m,nl(m)]}return l}function Dr(o,l){var d=function Cm(I,x){return null==I?b:I[x]}(o,l);return Xi(d)?d:b}var uu=Na?function(o){return null==o?[]:(o=Re(o),vi(Na(o),function(l){return Fa.call(o,l)}))}:Cp,lh=Na?function(o){for(var l=[];o;)Wi(l,uu(o)),o=Mc(o);return l}:Cp,ft=qt;function r_(o,l,d){for(var h=-1,m=(l=ns(l,o)).length,v=!1;++h<m;){var C=ii(l[h]);if(!(v=null!=o&&d(o,C)))break;o=o[C]}return v||++h!=m?v:!!(m=null==o?0:o.length)&&hl(m)&&ti(C,m)&&(le(o)||as(o))}function uh(o){return"function"!=typeof o.constructor||Ii(o)?{}:Ls(Mc(o))}function s_(o){return le(o)||as(o)||!!(Sm&&o&&o[Sm])}function ti(o,l){var d=typeof o;return!!(l=null==l?Hr:l)&&("number"==d||"symbol"!=d&&uD.test(o))&&o>-1&&o%1==0&&o<l}function Mt(o,l,d){if(!tt(d))return!1;var h=typeof l;return!!("number"==h?un(d)&&ti(l,d.length):"string"==h&&l in d)&&Vn(d[l],o)}function Go(o,l){if(le(o))return!1;var d=typeof o;return!("number"!=d&&"symbol"!=d&&"boolean"!=d&&null!=o&&!Qt(o))||Xg.test(o)||!ff.test(o)||null!=l&&o in Re(l)}function du(o){var l=jo(o),d=_[l];if("function"!=typeof d||!(l in De.prototype))return!1;if(o===d)return!0;var h=yr(d);return!!h&&o===h[0]}(Oc&&ft(new Oc(new ArrayBuffer(1)))!=Is||Ki&&ft(new Ki)!=Gn||kf&&ft(kf.resolve())!=Gg||Ve&&ft(new Ve)!=Kn||Os&&ft(new Os)!=Es)&&(ft=function(o){var l=qt(o),d=l==_i?o.constructor:b,h=d?Si(d):"";if(h)switch(h){case ED:return Is;case Ha:return Gn;case Bn:return Gg;case Pm:return Kn;case kc:return Es}return l});var xD=Ec?oi:ad;function Ii(o){var l=o&&o.constructor;return o===("function"==typeof l&&l.prototype||Fs)}function nl(o){return o==o&&!tt(o)}function fu(o,l){return function(d){return null!=d&&d[o]===l&&(l!==b||o in Re(d))}}function ph(o,l,d){return l=ut(l===b?o.length-1:l,0),function(){for(var h=arguments,m=-1,v=ut(h.length-l,0),C=P(v);++m<v;)C[m]=h[l+m];m=-1;for(var E=P(l+1);++m<l;)E[m]=h[m];return E[l]=d(C),kn(o,this,E)}}function gh(o,l){return l.length<2?o:nr(o,Lt(l,0,-1))}function l_(o,l){for(var d=o.length,h=jt(l.length,d),m=Cn(o);h--;){var v=l[h];o[h]=ti(v,d)?m[v]:b}return o}function hu(o,l){if(("constructor"!==l||"function"!=typeof o[l])&&"__proto__"!=l)return o[l]}var ni=u_(Xa),ri=Tm||function(o,l){return pt.setTimeout(o,l)},pu=u_(Oo);function c_(o,l,d){var h=l+"";return pu(o,function i_(o,l){var d=l.length;if(!d)return o;var h=d-1;return l[h]=(d>1?"& ":"")+l[h],l=l.join(d>2?", ":" "),o.replace(Jg,"{\n/* [wrapped with "+l+"] */\n")}(h,function f_(o,l){return ot(rf,function(d){var h="_."+d[0];l&d[1]&&!vc(o,h)&&o.push(h)}),o.sort()}(function n_(o){var l=o.match(em);return l?l[1].split(tm):[]}(h),d)))}function u_(o){var l=0,d=0;return function(){var h=Rc(),m=16-(h-d);if(d=h,m>0){if(++l>=800)return arguments[0]}else l=0;return o.apply(b,arguments)}}function gu(o,l){var d=-1,h=o.length,m=h-1;for(l=l===b?h:l;++d<l;){var v=Ws(d,m),C=o[v];o[v]=o[d],o[d]=C}return o.length=l,o}var d_=function dh(o){var l=ll(o,function(h){return 500===d.size&&d.clear(),h}),d=l.cache;return l}(function(o){var l=[];return 46===o.charCodeAt(0)&&l.push(""),o.replace(hf,function(d,h,m,v){l.push(m?v.replace(rm,"$1"):h||d)}),l});function ii(o){if("string"==typeof o||Qt(o))return o;var l=o+"";return"0"==l&&1/o==-Le?"-0":l}function Si(o){if(null!=o){try{return Ic.call(o)}catch(l){}try{return o+""}catch(l){}}return""}function mh(o){if(o instanceof De)return o.clone();var l=new wn(o.__wrapped__,o.__chain__);return l.__actions__=Cn(o.__actions__),l.__index__=o.__index__,l.__values__=o.__values__,l}var g_=_e(function(o,l){return rt(o)?Yr(o,mt(l,1,rt,!0)):[]}),rl=_e(function(o,l){var d=En(l);return rt(d)&&(d=b),rt(o)?Yr(o,mt(l,1,rt,!0),J(d,2)):[]}),_h=_e(function(o,l){var d=En(l);return rt(d)&&(d=b),rt(o)?Yr(o,mt(l,1,rt,!0),b,d):[]});function m_(o,l,d){var h=null==o?0:o.length;if(!h)return-1;var m=null==d?0:ue(d);return m<0&&(m=ut(h+m,0)),wi(o,J(l,3),m)}function __(o,l,d){var h=null==o?0:o.length;if(!h)return-1;var m=h-1;return d!==b&&(m=ue(d),m=d<0?ut(h+m,0):jt(m,h-1)),wi(o,J(l,3),m,!0)}function v_(o){return null!=o&&o.length?mt(o,1):[]}function y_(o){return o&&o.length?o[0]:b}var w_=_e(function(o){var l=Xe(o,Xf);return l.length&&l[0]===o[0]?$f(l):[]}),D_=_e(function(o){var l=En(o),d=Xe(o,Xf);return l===En(d)?l=b:d.pop(),d.length&&d[0]===o[0]?$f(d,J(l,2)):[]}),C_=_e(function(o){var l=En(o),d=Xe(o,Xf);return(l="function"==typeof l?l:b)&&d.pop(),d.length&&d[0]===o[0]?$f(d,b,l):[]});function En(o){var l=null==o?0:o.length;return l?o[l-1]:b}var yu=_e(Ch);function Ch(o,l){return o&&o.length&&l&&l.length?Xc(o,l):o}var I_=ei(function(o,l){var d=null==o?0:o.length,h=Bs(o,l);return Zf(o,Xe(l,function(m){return ti(m,d)?+m:m}).sort(qs)),h});function sl(o){return null==o?o:Fc.call(o)}var Du=_e(function(o){return Y(mt(o,1,rt,!0))}),P_=_e(function(o){var l=En(o);return rt(l)&&(l=b),Y(mt(o,1,rt,!0),J(l,2))}),R_=_e(function(o){var l=En(o);return l="function"==typeof l?l:b,Y(mt(o,1,rt,!0),b,l)});function Cu(o){if(!o||!o.length)return[];var l=0;return o=vi(o,function(d){if(rt(d))return l=ut(d.length,l),!0}),bt(l,function(d){return Xe(o,Aa(d))})}function bu(o,l){if(!o||!o.length)return[];var d=Cu(o);return null==l?d:Xe(d,function(h){return kn(l,b,h)})}var O_=_e(function(o,l){return rt(o)?Yr(o,l):[]}),k_=_e(function(o){return Yf(vi(o,rt))}),Eu=_e(function(o){var l=En(o);return rt(l)&&(l=b),Yf(vi(o,rt),J(l,2))}),L_=_e(function(o){var l=En(o);return l="function"==typeof l?l:b,Yf(vi(o,rt),b,l)}),N_=_e(Cu),H_=_e(function(o){var l=o.length,d=l>1?o[l-1]:b;return d="function"==typeof d?(o.pop(),d):b,bu(o,d)});function Js(o){var l=_(o);return l.__chain__=!0,l}function ol(o,l){return l(o)}var V_=ei(function(o){var l=o.length,d=l?o[0]:0,h=this.__wrapped__,m=function(v){return Bs(v,o)};return!(l>1||this.__actions__.length)&&h instanceof De&&ti(d)?((h=h.slice(d,+d+(l?1:0))).__actions__.push({func:ol,args:[m],thisArg:b}),new wn(h,this.__chain__).thru(function(v){return l&&!v.length&&v.push(b),v})):this.thru(m)}),q_=Zs(function(o,l,d){Be.call(o,d)?++o[d]:mr(o,d,1)}),Y_=iu(m_),eo=iu(__);function Su(o,l){return(le(o)?ot:Ci)(o,J(l,3))}function X_(o,l){return(le(o)?wm:Vc)(o,J(l,3))}var In=Zs(function(o,l,d){Be.call(o,d)?o[d].push(l):mr(o,d,[l])}),Au=_e(function(o,l,d){var h=-1,m="function"==typeof l,v=un(o)?P(o.length):[];return Ci(o,function(C){v[++h]=m?kn(l,C,d):bi(C,l,d)}),v}),J_=Zs(function(o,l,d){mr(o,d,l)});function Qo(o,l){return(le(o)?Xe:js)(o,J(l,3))}var Mh=Zs(function(o,l,d){o[d?0:1].push(l)},function(){return[[],[]]}),ev=_e(function(o,l){if(null==o)return[];var d=l.length;return d>1&&Mt(o,l[0],l[1])?l=[]:d>2&&Mt(l[0],l[1],l[2])&&(l=[l[0]]),Qc(o,mt(l,1),[])}),no=Ff||function(){return pt.Date.now()};function Fh(o,l,d){return l=d?b:l,Jr(o,128,b,b,b,b,l=o&&null==l?o.length:l)}function Oh(o,l){var d;if("function"!=typeof l)throw new Ln(mn);return o=ue(o),function(){return--o>0&&(d=l.apply(this,arguments)),o<=1&&(l=b),d}}var Ru=_e(function(o,l,d){var h=1;if(d.length){var m=an(d,wr(Ru));h|=32}return Jr(o,h,l,d,m)}),kh=_e(function(o,l,d){var h=3;if(d.length){var m=an(d,wr(kh));h|=32}return Jr(l,h,o,d,m)});function al(o,l,d){var h,m,v,C,E,S,k=0,L=!1,B=!1,U=!0;if("function"!=typeof o)throw new Ln(mn);function z(st){var Ir=h,Sr=m;return h=m=b,k=st,C=o.apply(Sr,Ir)}function ee(st){return k=st,E=ri(Ce,l),L?z(st):C}function te(st){var Ir=st-S;return S===b||Ir>=l||Ir<0||B&&st-k>=v}function Ce(){var st=no();if(te(st))return Ee(st);E=ri(Ce,function ge(st){var Rp=l-(st-S);return B?jt(Rp,v-(st-k)):Rp}(st))}function Ee(st){return E=b,U&&h?z(st):(h=m=b,C)}function Mn(){var st=no(),Ir=te(st);if(h=arguments,m=this,S=st,Ir){if(E===b)return ee(S);if(B)return Ks(E),E=ri(Ce,l),z(S)}return E===b&&(E=ri(Ce,l)),C}return l=fn(l)||0,tt(d)&&(L=!!d.leading,v=(B="maxWait"in d)?ut(fn(d.maxWait)||0,l):v,U="trailing"in d?!!d.trailing:U),Mn.cancel=function An(){E!==b&&Ks(E),k=0,h=S=m=E=b},Mn.flush=function Yt(){return E===b?C:Ee(no())},Mn}var Nh=_e(function(o,l){return et(o,1,l)}),Ou=_e(function(o,l,d){return et(o,fn(l)||0,d)});function ll(o,l){if("function"!=typeof o||null!=l&&"function"!=typeof l)throw new Ln(mn);var d=function(){var h=arguments,m=l?l.apply(this,h):h[0],v=d.cache;if(v.has(m))return v.get(m);var C=o.apply(this,h);return d.cache=v.set(m,C)||v,C};return d.cache=new(ll.Cache||Jn),d}function Xo(o){if("function"!=typeof o)throw new Ln(mn);return function(){var l=arguments;switch(l.length){case 0:return!o.call(this);case 1:return!o.call(this,l[0]);case 2:return!o.call(this,l[0],l[1]);case 3:return!o.call(this,l[0],l[1],l[2])}return!o.apply(this,l)}}ll.Cache=Jn;var os=It(function(o,l){var d=(l=1==l.length&&le(l[0])?Xe(l[0],gt(J())):Xe(mt(l,1),gt(J()))).length;return _e(function(h){for(var m=-1,v=jt(h.length,d);++m<v;)h[m]=l[m].call(this,h[m]);return kn(o,this,h)})}),cl=_e(function(o,l){var d=an(l,wr(cl));return Jr(o,32,b,l,d)}),ku=_e(function(o,l){var d=an(l,wr(ku));return Jr(o,64,b,l,d)}),rv=ei(function(o,l){return Jr(o,256,b,b,b,l)});function Vn(o,l){return o===l||o!=o&&l!=l}var Bu=el(Yi),Jo=el(function(o,l){return o>=l}),as=$c(function(){return arguments}())?$c:function(o){return it(o)&&Be.call(o,"callee")&&!Fa.call(o,"callee")},le=P.isArray,sv=Mf?gt(Mf):function zc(o){return it(o)&&qt(o)==_o};function un(o){return null!=o&&hl(o.length)&&!oi(o)}function rt(o){return it(o)&&un(o)}var si=Am||ad,BD=jr?gt(jr):function Ga(o){return it(o)&&qt(o)==Vi};function Uu(o){if(!it(o))return!1;var l=qt(o);return l==Cs||"[object DOMException]"==l||"string"==typeof o.message&&"string"==typeof o.name&&!ro(o)}function oi(o){if(!tt(o))return!1;var l=qt(o);return l==_a||l==sf||"[object AsyncFunction]"==l||"[object Proxy]"==l}function Vu(o){return"number"==typeof o&&o==ue(o)}function hl(o){return"number"==typeof o&&o>-1&&o%1==0&&o<=Hr}function tt(o){var l=typeof o;return null!=o&&("object"==l||"function"==l)}function it(o){return null!=o&&"object"==typeof o}var Gh=_c?gt(_c):function Vs(o){return it(o)&&ft(o)==Gn};function ju(o){return"number"==typeof o||it(o)&&qt(o)==va}function ro(o){if(!it(o)||qt(o)!=_i)return!1;var l=Mc(o);if(null===l)return!0;var d=Be.call(l,"constructor")&&l.constructor;return"function"==typeof d&&d instanceof d&&Ic.call(d)==DD}var io=ym?gt(ym):function Kc(o){return it(o)&&qt(o)==bs},Wu=Wr?gt(Wr):function Ka(o){return it(o)&&ft(o)==Kn};function pl(o){return"string"==typeof o||!le(o)&&it(o)&&qt(o)==ji}function Qt(o){return"symbol"==typeof o||it(o)&&qt(o)==ya}var dn=On?gt(On):function AD(o){return it(o)&&hl(o.length)&&!!Ze[qt(o)]},HD=el(Zc),Zh=el(function(o,l){return o<=l});function dv(o){if(!o)return[];if(un(o))return pl(o)?X(o):Cn(o);if(Oa&&o[Oa])return function we(I){for(var x,P=[];!(x=I.next()).done;)P.push(x.value);return P}(o[Oa]());var l=ft(o);return(l==Gn?We:l==Kn?at:Er)(o)}function jn(o){return o?(o=fn(o))===Le||o===-Le?17976931348623157e292*(o<0?-1:1):o==o?o:0:0===o?o:0}function ue(o){var l=jn(o),d=l%1;return l==l?d?l-d:l:0}function gl(o){return o?Qi(ue(o),0,dr):0}function fn(o){if("number"==typeof o)return o;if(Qt(o))return NaN;if(tt(o)){var l="function"==typeof o.valueOf?o.valueOf():o;o=tt(l)?l+"":l}if("string"!=typeof o)return 0===o?o:+o;o=Ft(o);var d=At.test(o);return d||Ur.test(o)?vm(o.slice(2),d?2:8):sm.test(o)?NaN:+o}function ml(o){return Xr(o,hn(o))}function Fe(o){return null==o?"":Dn(o)}var fv=rr(function(o,l){if(Ii(l)||un(l))Xr(l,vt(l),o);else for(var d in l)Be.call(l,d)&&Ns(o,d,l[d])}),Qh=rr(function(o,l){Xr(l,hn(l),o)}),_l=rr(function(o,l,d,h){Xr(l,hn(l),o,h)}),Yh=rr(function(o,l,d,h){Xr(l,vt(l),o,h)}),VD=ei(Bs),jD=_e(function(o,l){o=Re(o);var d=-1,h=l.length,m=h>2?l[2]:b;for(m&&Mt(l[0],l[1],m)&&(h=1);++d<h;)for(var v=l[d],C=hn(v),E=-1,S=C.length;++E<S;){var k=C[E],L=o[k];(L===b||Vn(L,Fs[k])&&!Be.call(o,k))&&(o[k]=v[k])}return o}),Xh=_e(function(o){return o.push(b,lu),kn(vl,b,o)});function ep(o,l,d){var h=null==o?b:nr(o,l);return h===b?d:h}function tp(o,l){return null!=o&&r_(o,l,jm)}var ZD=Jm(function(o,l,d){null!=l&&"function"!=typeof l.toString&&(l=Sc.call(l)),o[l]=d},Wn(Tn)),QD=Jm(function(o,l,d){null!=l&&"function"!=typeof l.toString&&(l=Sc.call(l)),Be.call(o,l)?o[l].push(d):o[l]=[d]},J),Ti=_e(bi);function vt(o){return un(o)?ja(o):qa(o)}function hn(o){return un(o)?ja(o,!0):function $m(o){if(!tt(o))return function hh(o){var l=[];if(null!=o)for(var d in Re(o))l.push(d);return l}(o);var l=Ii(o),d=[];for(var h in o)"constructor"==h&&(l||!Be.call(o,h))||d.push(h);return d}(o)}var rp=rr(function(o,l,d){Ji(o,l,d)}),vl=rr(function(o,l,d,h){Ji(o,l,d,h)}),gv=ei(function(o,l){var d={};if(null==o)return d;var h=!1;l=Xe(l,function(v){return v=ns(v,o),h||(h=v.length>1),v}),Xr(o,Ys(o),d),h&&(d=Hn(d,7,oh));for(var m=l.length;m--;)eu(d,l[m]);return d}),ip=ei(function(o,l){return null==o?{}:function Kf(o,l){return Yc(o,l,function(d,h){return tp(o,h)})}(o,l)});function sp(o,l){if(null==o)return{};var d=Xe(Ys(o),function(h){return[h]});return l=J(l),Yc(o,d,function(h,m){return l(h,m[0])})}var ap=au(vt),lp=au(hn);function Er(o){return null==o?[]:$r(o,vt(o))}var Qu=Qs(function(o,l,d){return l=l.toLowerCase(),o+(d?yl(l):l)});function yl(o){return Dl(Fe(o).toLowerCase())}function Yu(o){return(o=Fe(o))&&o.replace(om,Ra).replace(mm,"")}var YD=Qs(function(o,l,d){return o+(d?"-":"")+l.toLowerCase()}),fp=Qs(function(o,l,d){return o+(d?" ":"")+l.toLowerCase()}),hp=ih("toLowerCase"),bv=Qs(function(o,l,d){return o+(d?"_":"")+l.toLowerCase()}),JD=Qs(function(o,l,d){return o+(d?" ":"")+Dl(l)}),Av=Qs(function(o,l,d){return o+(d?" ":"")+l.toUpperCase()}),Dl=ih("toUpperCase");function vp(o,l,d){return o=Fe(o),(l=d?b:l)===b?function V(I){return vn.test(I)}(o)?function ln(I){return I.match(_m)||[]}(o):function Pf(I){return I.match(nm)||[]}(o):o.match(l)||[]}var yp=_e(function(o,l){try{return kn(o,b,l)}catch(d){return Uu(d)?d:new Q(d)}}),wp=ei(function(o,l){return ot(l,function(d){d=ii(d),mr(o,d,Ru(o[d],o))}),o});function Wn(o){return function(){return o}}var xv=Ja(),Pv=Ja(!0);function Tn(o){return o}function Cl(o){return qc("function"==typeof o?o:Hn(o,1))}var Ov=_e(function(o,l){return function(d){return bi(d,o,l)}}),ed=_e(function(o,l){return function(d){return bi(o,d,l)}});function td(o,l,d){var h=vt(l),m=tr(l,h);null==d&&(!tt(l)||!m.length&&h.length)&&(d=l,l=o,o=this,m=tr(l,vt(l)));var v=!(tt(d)&&"chain"in d&&!d.chain),C=oi(o);return ot(m,function(E){var S=l[E];o[E]=S,C&&(o.prototype[E]=function(){var k=this.__chain__;if(v||k){var L=o(this.__wrapped__),B=L.__actions__=Cn(this.__actions__);return B.push({func:S,args:arguments,thisArg:o}),L.__chain__=k,L}return S.apply(o,Wi([this.value()],arguments))})}),o}function lo(){}var Lv=Ho(Xe),rd=Ho(xf),id=Ho(As);function sd(o){return Go(o)?Aa(ii(o)):function qf(o){return function(l){return nr(l,o)}}(o)}var Bv=sh(),od=sh(!0);function Cp(){return[]}function ad(){return!1}var bl=Ei(function(o,l){return o+l},0),Hv=ou("ceil"),Uv=Ei(function(o,l){return o/l},1),tC=ou("floor"),Mp=Ei(function(o,l){return o*l},1),xp=ou("round"),Pp=Ei(function(o,l){return o-l},0);return _.after=function tv(o,l){if("function"!=typeof l)throw new Ln(mn);return o=ue(o),function(){if(--o<1)return l.apply(this,arguments)}},_.ary=Fh,_.assign=fv,_.assignIn=Qh,_.assignInWith=_l,_.assignWith=Yh,_.at=VD,_.before=Oh,_.bind=Ru,_.bindAll=wp,_.bindKey=kh,_.castArray=function Lu(){if(!arguments.length)return[];var o=arguments[0];return le(o)?o:[o]},_.chain=Js,_.chunk=function h_(o,l,d){l=(d?Mt(o,l,d):l===b)?1:ut(ue(l),0);var h=null==o?0:o.length;if(!h||l<1)return[];for(var m=0,v=0,C=P(La(h/l));m<h;)C[v++]=Lt(o,m,m+=l);return C},_.compact=function p_(o){for(var l=-1,d=null==o?0:o.length,h=0,m=[];++l<d;){var v=o[l];v&&(m[h++]=v)}return m},_.concat=function PD(){var o=arguments.length;if(!o)return[];for(var l=P(o-1),d=arguments[0],h=o;h--;)l[h-1]=arguments[h];return Wi(le(d)?Cn(d):[d],mt(l,1))},_.cond=function Dp(o){var l=null==o?0:o.length,d=J();return o=l?Xe(o,function(h){if("function"!=typeof h[1])throw new Ln(mn);return[d(h[0]),h[1]]}):[],_e(function(h){for(var m=-1;++m<l;){var v=o[m];if(kn(v[0],this,h))return kn(v[1],this,h)}})},_.conforms=function Mv(o){return function Kt(o){var l=vt(o);return function(d){return Qr(d,o,l)}}(Hn(o,1))},_.constant=Wn,_.countBy=q_,_.create=function hv(o,l){var d=Ls(o);return null==l?d:Uc(d,l)},_.curry=function Lh(o,l,d){var h=Jr(o,8,b,b,b,b,b,l=d?b:l);return h.placeholder=Lh.placeholder,h},_.curryRight=function Fu(o,l,d){var h=Jr(o,16,b,b,b,b,b,l=d?b:l);return h.placeholder=Fu.placeholder,h},_.debounce=al,_.defaults=jD,_.defaultsDeep=Xh,_.defer=Nh,_.delay=Ou,_.difference=g_,_.differenceBy=rl,_.differenceWith=_h,_.drop=function Cr(o,l,d){var h=null==o?0:o.length;return h?Lt(o,(l=d||l===b?1:ue(l))<0?0:l,h):[]},_.dropRight=function Ko(o,l,d){var h=null==o?0:o.length;return h?Lt(o,0,(l=h-(l=d||l===b?1:ue(l)))<0?0:l):[]},_.dropRightWhile=function vh(o,l){return o&&o.length?tu(o,J(l,3),!0,!0):[]},_.dropWhile=function yh(o,l){return o&&o.length?tu(o,J(l,3),!0):[]},_.fill=function wh(o,l,d,h){var m=null==o?0:o.length;return m?(d&&"number"!=typeof d&&Mt(o,l,d)&&(d=0,h=m),function Vm(o,l,d,h){var m=o.length;for((d=ue(d))<0&&(d=-d>m?0:m+d),(h=h===b||h>m?m:ue(h))<0&&(h+=m),h=d>h?0:gl(h);d<h;)o[d++]=l;return o}(o,l,d,h)):[]},_.filter=function Q_(o,l){return(le(o)?vi:Po)(o,J(l,3))},_.flatMap=function br(o,l){return mt(Qo(o,l),1)},_.flatMapDeep=function kD(o,l){return mt(Qo(o,l),Le)},_.flatMapDepth=function LD(o,l,d){return d=d===b?1:ue(d),mt(Qo(o,l),d)},_.flatten=v_,_.flattenDeep=function mu(o){return null!=o&&o.length?mt(o,Le):[]},_.flattenDepth=function _u(o,l){return null!=o&&o.length?mt(o,l=l===b?1:ue(l)):[]},_.flip=function nv(o){return Jr(o,512)},_.flow=xv,_.flowRight=Pv,_.fromPairs=function vu(o){for(var l=-1,d=null==o?0:o.length,h={};++l<d;){var m=o[l];h[m[0]]=m[1]}return h},_.functions=function GD(o){return null==o?[]:tr(o,vt(o))},_.functionsIn=function KD(o){return null==o?[]:tr(o,hn(o))},_.groupBy=In,_.initial=function Dh(o){return null!=o&&o.length?Lt(o,0,-1):[]},_.intersection=w_,_.intersectionBy=D_,_.intersectionWith=C_,_.invert=ZD,_.invertBy=QD,_.invokeMap=Au,_.iteratee=Cl,_.keyBy=J_,_.keys=vt,_.keysIn=hn,_.map=Qo,_.mapKeys=function np(o,l){var d={};return l=J(l,3),er(o,function(h,m,v){mr(d,l(h,m,v),h)}),d},_.mapValues=function Ku(o,l){var d={};return l=J(l,3),er(o,function(h,m,v){mr(d,m,l(h,m,v))}),d},_.matches=function Rv(o){return Za(Hn(o,1))},_.matchesProperty=function Fv(o,l){return Qa(o,Hn(l,1))},_.memoize=ll,_.merge=rp,_.mergeWith=vl,_.method=Ov,_.methodOf=ed,_.mixin=td,_.negate=Xo,_.nthArg=function nd(o){return o=ue(o),_e(function(l){return Gf(l,o)})},_.omit=gv,_.omitBy=function Ai(o,l){return sp(o,Xo(J(l)))},_.once=function Bh(o){return Oh(2,o)},_.orderBy=function Yo(o,l,d,h){return null==o?[]:(le(l)||(l=null==l?[]:[l]),le(d=h?b:d)||(d=null==d?[]:[d]),Qc(o,l,d))},_.over=Lv,_.overArgs=os,_.overEvery=rd,_.overSome=id,_.partial=cl,_.partialRight=ku,_.partition=Mh,_.pick=ip,_.pickBy=sp,_.property=sd,_.propertyOf=function Nv(o){return function(l){return null==o?b:nr(o,l)}},_.pull=yu,_.pullAll=Ch,_.pullAllBy=function _t(o,l,d){return o&&o.length&&l&&l.length?Xc(o,l,J(d,2)):o},_.pullAllWith=function bh(o,l,d){return o&&o.length&&l&&l.length?Xc(o,l,b,d):o},_.pullAt=I_,_.range=Bv,_.rangeRight=od,_.rearg=rv,_.reject=function xu(o,l){return(le(o)?vi:Po)(o,Xo(J(l,3)))},_.remove=function ss(o,l){var d=[];if(!o||!o.length)return d;var h=-1,m=[],v=o.length;for(l=J(l,3);++h<v;){var C=o[h];l(C,h,o)&&(d.push(C),m.push(h))}return Zf(o,m),d},_.rest=function ul(o,l){if("function"!=typeof o)throw new Ln(mn);return _e(o,l=l===b?l:ue(l))},_.reverse=sl,_.sampleSize=function ND(o,l,d){return l=(d?Mt(o,l,d):l===b)?1:ue(l),(le(o)?Uf:$s)(o,l)},_.set=function mv(o,l,d){return null==o?o:Fo(o,l,d)},_.setWith=function op(o,l,d,h){return h="function"==typeof h?h:b,null==o?o:Fo(o,l,d,h)},_.shuffle=function to(o){return(le(o)?Bc:zs)(o)},_.slice=function S_(o,l,d){var h=null==o?0:o.length;return h?(d&&"number"!=typeof d&&Mt(o,l,d)?(l=0,d=h):(l=null==l?0:ue(l),d=d===b?h:ue(d)),Lt(o,l,d)):[]},_.sortBy=ev,_.sortedUniq=function qo(o){return o&&o.length?es(o):[]},_.sortedUniqBy=function Zt(o,l){return o&&o.length?es(o,J(l,2)):[]},_.split=function XD(o,l,d){return d&&"number"!=typeof d&&Mt(o,l,d)&&(l=d=b),(d=d===b?dr:d>>>0)?(o=Fe(o))&&("string"==typeof l||null!=l&&!io(l))&&!(l=Dn(l))&&Ot(o)?_r(X(o),0,d):o.split(l,d):[]},_.spread=function iv(o,l){if("function"!=typeof o)throw new Ln(mn);return l=null==l?0:ut(ue(l),0),_e(function(d){var h=d[l],m=_r(d,0,l);return h&&Wi(m,h),kn(o,this,m)})},_.tail=function wu(o){var l=null==o?0:o.length;return l?Lt(o,1,l):[]},_.take=function Eh(o,l,d){return o&&o.length?Lt(o,0,(l=d||l===b?1:ue(l))<0?0:l):[]},_.takeRight=function Ih(o,l,d){var h=null==o?0:o.length;return h?Lt(o,(l=h-(l=d||l===b?1:ue(l)))<0?0:l,h):[]},_.takeRightWhile=function $t(o,l){return o&&o.length?tu(o,J(l,3),!1,!0):[]},_.takeWhile=function Zo(o,l){return o&&o.length?tu(o,J(l,3)):[]},_.tap=function U_(o,l){return l(o),o},_.throttle=function Hh(o,l,d){var h=!0,m=!0;if("function"!=typeof o)throw new Ln(mn);return tt(d)&&(h="leading"in d?!!d.leading:h,m="trailing"in d?!!d.trailing:m),al(o,l,{leading:h,maxWait:l,trailing:m})},_.thru=ol,_.toArray=dv,_.toPairs=ap,_.toPairsIn=lp,_.toPath=function Tp(o){return le(o)?Xe(o,ii):Qt(o)?[o]:Cn(d_(Fe(o)))},_.toPlainObject=ml,_.transform=function ea(o,l,d){var h=le(o),m=h||si(o)||dn(o);if(l=J(l,4),null==d){var v=o&&o.constructor;d=m?h?new v:[]:tt(o)&&oi(v)?Ls(Mc(o)):{}}return(m?ot:er)(o,function(C,E,S){return l(d,C,E,S)}),d},_.unary=function Uh(o){return Fh(o,1)},_.union=Du,_.unionBy=P_,_.unionWith=R_,_.uniq=function Sh(o){return o&&o.length?Y(o):[]},_.uniqBy=function F_(o,l){return o&&o.length?Y(o,J(l,2)):[]},_.uniqWith=function Th(o,l){return l="function"==typeof l?l:b,o&&o.length?Y(o,b,l):[]},_.unset=function so(o,l){return null==o||eu(o,l)},_.unzip=Cu,_.unzipWith=bu,_.update=function Zu(o,l,d){return null==o?o:Gm(o,l,ts(d))},_.updateWith=function oo(o,l,d,h){return h="function"==typeof h?h:b,null==o?o:Gm(o,l,ts(d),h)},_.values=Er,_.valuesIn=function ao(o){return null==o?[]:$r(o,hn(o))},_.without=O_,_.words=vp,_.wrap=function Vh(o,l){return cl(ts(l),o)},_.xor=k_,_.xorBy=Eu,_.xorWith=L_,_.zip=N_,_.zipObject=function Iu(o,l){return qm(o||[],l||[],Ns)},_.zipObjectDeep=function B_(o,l){return qm(o||[],l||[],Fo)},_.zipWith=H_,_.entries=ap,_.entriesIn=lp,_.extend=Qh,_.extendWith=_l,td(_,_),_.add=bl,_.attempt=yp,_.camelCase=Qu,_.capitalize=yl,_.ceil=Hv,_.clamp=function _v(o,l,d){return d===b&&(d=l,l=b),d!==b&&(d=(d=fn(d))==d?d:0),l!==b&&(l=(l=fn(l))==l?l:0),Qi(fn(o),l,d)},_.clone=function jh(o){return Hn(o,4)},_.cloneDeep=function fl(o){return Hn(o,5)},_.cloneDeepWith=function Wh(o,l){return Hn(o,5,l="function"==typeof l?l:b)},_.cloneWith=function dl(o,l){return Hn(o,4,l="function"==typeof l?l:b)},_.conformsTo=function Nu(o,l){return null==l||Qr(o,l,vt(l))},_.deburr=Yu,_.defaultTo=function Ju(o,l){return null==o||o!=o?l:o},_.divide=Uv,_.endsWith=function wl(o,l,d){o=Fe(o),l=Dn(l);var h=o.length,m=d=d===b?h:Qi(ue(d),0,h);return(d-=l.length)>=0&&o.slice(d,m)==l},_.eq=Vn,_.escape=function vv(o){return(o=Fe(o))&&cf.test(o)?o.replace(lf,$i):o},_.escapeRegExp=function dp(o){return(o=Fe(o))&&pf.test(o)?o.replace(Ca,"\\$&"):o},_.every=function Z_(o,l,d){var h=le(o)?xf:Um;return d&&Mt(o,l,d)&&(l=b),h(o,J(l,3))},_.find=Y_,_.findIndex=m_,_.findKey=function Jh(o,l){return pr(o,J(l,3),er)},_.findLast=eo,_.findLastIndex=__,_.findLastKey=function pv(o,l){return pr(o,J(l,3),jc)},_.floor=tC,_.forEach=Su,_.forEachRight=X_,_.forIn=function Gu(o,l){return null==o?o:Hs(o,J(l,3),hn)},_.forInRight=function WD(o,l){return null==o?o:za(o,J(l,3),hn)},_.forOwn=function $D(o,l){return o&&er(o,J(l,3))},_.forOwnRight=function zD(o,l){return o&&jc(o,J(l,3))},_.get=ep,_.gt=Bu,_.gte=Jo,_.has=function qD(o,l){return null!=o&&r_(o,l,Wc)},_.hasIn=tp,_.head=y_,_.identity=Tn,_.includes=function Tu(o,l,d,h){o=un(o)?o:Er(o),d=d&&!h?ue(d):0;var m=o.length;return d<0&&(d=ut(m+d,0)),pl(o)?d<=m&&o.indexOf(l,d)>-1:!!m&&Ms(o,l,d)>-1},_.indexOf=function RD(o,l,d){var h=null==o?0:o.length;if(!h)return-1;var m=null==d?0:ue(d);return m<0&&(m=ut(h+m,0)),Ms(o,l,m)},_.inRange=function cp(o,l,d){return l=jn(l),d===b?(d=l,l=0):d=jn(d),function Wm(o,l,d){return o>=jt(l,d)&&o<ut(l,d)}(o=fn(o),l,d)},_.invoke=Ti,_.isArguments=as,_.isArray=le,_.isArrayBuffer=sv,_.isArrayLike=un,_.isArrayLikeObject=rt,_.isBoolean=function Hu(o){return!0===o||!1===o||it(o)&&qt(o)==Me},_.isBuffer=si,_.isDate=BD,_.isElement=function $h(o){return it(o)&&1===o.nodeType&&!ro(o)},_.isEmpty=function ov(o){if(null==o)return!0;if(un(o)&&(le(o)||"string"==typeof o||"function"==typeof o.splice||si(o)||dn(o)||as(o)))return!o.length;var l=ft(o);if(l==Gn||l==Kn)return!o.size;if(Ii(o))return!qa(o).length;for(var d in o)if(Be.call(o,d))return!1;return!0},_.isEqual=function zh(o,l){return Us(o,l)},_.isEqualWith=function av(o,l,d){var h=(d="function"==typeof d?d:b)?d(o,l):b;return h===b?Us(o,l,b,d):!!h},_.isError=Uu,_.isFinite=function ir(o){return"number"==typeof o&&Ba(o)},_.isFunction=oi,_.isInteger=Vu,_.isLength=hl,_.isMap=Gh,_.isMatch=function Kh(o,l){return o===l||Gc(o,l,$o(l))},_.isMatchWith=function lv(o,l,d){return d="function"==typeof d?d:b,Gc(o,l,$o(l),d)},_.isNaN=function cv(o){return ju(o)&&o!=+o},_.isNative=function uv(o){if(xD(o))throw new Q("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Xi(o)},_.isNil=function $e(o){return null==o},_.isNull=function ce(o){return null===o},_.isNumber=ju,_.isObject=tt,_.isObjectLike=it,_.isPlainObject=ro,_.isRegExp=io,_.isSafeInteger=function sr(o){return Vu(o)&&o>=-Hr&&o<=Hr},_.isSet=Wu,_.isString=pl,_.isSymbol=Qt,_.isTypedArray=dn,_.isUndefined=function $u(o){return o===b},_.isWeakMap=function qh(o){return it(o)&&ft(o)==Es},_.isWeakSet=function zu(o){return it(o)&&"[object WeakSet]"==qt(o)},_.join=function b_(o,l){return null==o?"":Mm.call(o,l)},_.kebabCase=YD,_.last=En,_.lastIndexOf=function il(o,l,d){var h=null==o?0:o.length;if(!h)return-1;var m=h;return d!==b&&(m=(m=ue(d))<0?ut(h+m,0):jt(m,h-1)),l==l?function Io(I,x,P){for(var W=P+1;W--;)if(I[W]===x)return W;return W}(o,l,m):wi(o,Rf,m,!0)},_.lowerCase=fp,_.lowerFirst=hp,_.lt=HD,_.lte=Zh,_.max=function ld(o){return o&&o.length?$a(o,Tn,Yi):b},_.maxBy=function Ap(o,l){return o&&o.length?$a(o,J(l,2),Yi):b},_.mean=function cd(o){return Dc(o,Tn)},_.meanBy=function ta(o,l){return Dc(o,J(l,2))},_.min=function Vv(o){return o&&o.length?$a(o,Tn,Zc):b},_.minBy=function ud(o,l){return o&&o.length?$a(o,J(l,2),Zc):b},_.stubArray=Cp,_.stubFalse=ad,_.stubObject=function bp(){return{}},_.stubString=function Ep(){return""},_.stubTrue=function Ip(){return!0},_.multiply=Mp,_.nth=function E_(o,l){return o&&o.length?Gf(o,ue(l)):b},_.noConflict=function kv(){return pt._===this&&(pt._=CD),this},_.noop=lo,_.now=no,_.pad=function yv(o,l,d){o=Fe(o);var h=(l=ue(l))?Qn(o):0;if(!l||h>=l)return o;var m=(l-h)/2;return is(Ao(m),d)+o+is(La(m),d)},_.padEnd=function pp(o,l,d){o=Fe(o);var h=(l=ue(l))?Qn(o):0;return l&&h<l?o+is(l-h,d):o},_.padStart=function wv(o,l,d){o=Fe(o);var h=(l=ue(l))?Qn(o):0;return l&&h<l?is(l-h,d)+o:o},_.parseInt=function Dv(o,l,d){return d||null==l?l=0:l&&(l=+l),xm(Fe(o).replace(ba,""),l||0)},_.random=function up(o,l,d){if(d&&"boolean"!=typeof d&&Mt(o,l,d)&&(l=d=b),d===b&&("boolean"==typeof l?(d=l,l=b):"boolean"==typeof o&&(d=o,o=b)),o===b&&l===b?(o=0,l=1):(o=jn(o),l===b?(l=o,o=0):l=jn(l)),o>l){var h=o;o=l,l=h}if(d||o%1||l%1){var m=Of();return jt(o+m*(l-o+If("1e-"+((m+"").length-1))),l)}return Ws(o,l)},_.reduce=function xh(o,l,d){var h=le(o)?yi:Zn,m=arguments.length<3;return h(o,J(l,4),d,m,Ci)},_.reduceRight=function Mu(o,l,d){var h=le(o)?Ue:Zn,m=arguments.length<3;return h(o,J(l,4),d,m,Vc)},_.repeat=function Sn(o,l,d){return l=(d?Mt(o,l,d):l===b)?1:ue(l),Jc(Fe(o),l)},_.replace=function Cv(){var o=arguments,l=Fe(o[0]);return o.length<3?l:l.replace(o[1],o[2])},_.result=function qu(o,l,d){var h=-1,m=(l=ns(l,o)).length;for(m||(m=1,o=b);++h<m;){var v=null==o?b:o[ii(l[h])];v===b&&(h=m,v=d),o=oi(v)?v.call(o):v}return o},_.round=xp,_.runInContext=I,_.sample=function Ph(o){return(le(o)?Wa:Qf)(o)},_.size=function Pu(o){if(null==o)return 0;if(un(o))return pl(o)?Qn(o):o.length;var l=ft(o);return l==Gn||l==Kn?o.size:qa(o).length},_.snakeCase=bv,_.some=function Rh(o,l,d){var h=le(o)?As:Gs;return d&&Mt(o,l,d)&&(l=b),h(o,J(l,3))},_.sortedIndex=function T_(o,l){return ko(o,l)},_.sortedIndexBy=function A_(o,l,d){return Lo(o,l,J(d,2))},_.sortedIndexOf=function M_(o,l){var d=null==o?0:o.length;if(d){var h=ko(o,l);if(h<d&&Vn(o[h],l))return h}return-1},_.sortedLastIndex=function x_(o,l){return ko(o,l,!0)},_.sortedLastIndexBy=function FD(o,l,d){return Lo(o,l,J(d,2),!0)},_.sortedLastIndexOf=function OD(o,l){if(null!=o&&o.length){var h=ko(o,l,!0)-1;if(Vn(o[h],l))return h}return-1},_.startCase=JD,_.startsWith=function gp(o,l,d){return o=Fe(o),d=null==d?0:Qi(ue(d),0,o.length),l=Dn(l),o.slice(d,d+l.length)==l},_.subtract=Pp,_.sum=function jv(o){return o&&o.length?xa(o,Tn):0},_.sumBy=function dd(o,l){return o&&o.length?xa(o,J(l,2)):0},_.template=function eC(o,l,d){var h=_.templateSettings;d&&Mt(o,l,d)&&(l=b),o=Fe(o),l=_l({},l,h,K);var E,S,m=_l({},l.imports,h.imports,K),v=vt(m),C=$r(m,v),k=0,L=l.interpolate||yo,B="__p += '",U=Rs((l.escape||yo).source+"|"+L.source+"|"+(L===uc?im:yo).source+"|"+(l.evaluate||yo).source+"|$","g"),z="//# sourceURL="+(Be.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++_D+"]")+"\n";o.replace(U,function(te,Ce,Ee,An,Yt,Mn){return Ee||(Ee=An),B+=o.slice(k,Mn).replace(dc,Vt),Ce&&(E=!0,B+="' +\n__e("+Ce+") +\n'"),Yt&&(S=!0,B+="';\n"+Yt+";\n__p += '"),Ee&&(B+="' +\n((__t = ("+Ee+")) == null ? '' : __t) +\n'"),k=Mn+te.length,te}),B+="';\n";var ee=Be.call(l,"variable")&&l.variable;if(ee){if(gf.test(ee))throw new Q("Invalid `variable` option passed into `_.template`")}else B="with (obj) {\n"+B+"\n}\n";B=(S?B.replace(Zg,""):B).replace(Qg,"$1").replace(Yg,"$1;"),B="function("+(ee||"obj")+") {\n"+(ee?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(E?", __e = _.escape":"")+(S?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+B+"return __p\n}";var ge=yp(function(){return pe(v,z+"return "+B).apply(b,C)});if(ge.source=B,Uu(ge))throw ge;return ge},_.times=function Sp(o,l){if((o=ue(o))<1||o>Hr)return[];var d=dr,h=jt(o,dr);l=J(l),o-=dr;for(var m=bt(h,l);++d<o;)l(d);return m},_.toFinite=jn,_.toInteger=ue,_.toLength=gl,_.toLower=function Ev(o){return Fe(o).toLowerCase()},_.toNumber=fn,_.toSafeInteger=function UD(o){return o?Qi(ue(o),-Hr,Hr):0===o?o:0},_.toString=Fe,_.toUpper=function Xu(o){return Fe(o).toUpperCase()},_.trim=function mp(o,l,d){if((o=Fe(o))&&(d||l===b))return Ft(o);if(!o||!(l=Dn(l)))return o;var h=X(o),m=X(l);return _r(h,bo(h,m),Pa(h,m)+1).join("")},_.trimEnd=function Iv(o,l,d){if((o=Fe(o))&&(d||l===b))return o.slice(0,So(o)+1);if(!o||!(l=Dn(l)))return o;var h=X(o);return _r(h,0,Pa(h,X(l))+1).join("")},_.trimStart=function Sv(o,l,d){if((o=Fe(o))&&(d||l===b))return o.replace(ba,"");if(!o||!(l=Dn(l)))return o;var h=X(o);return _r(h,bo(h,X(l))).join("")},_.truncate=function Tv(o,l){var d=30,h="...";if(tt(l)){var m="separator"in l?l.separator:m;d="length"in l?ue(l.length):d,h="omission"in l?Dn(l.omission):h}var v=(o=Fe(o)).length;if(Ot(o)){var C=X(o);v=C.length}if(d>=v)return o;var E=d-Qn(h);if(E<1)return h;var S=C?_r(C,0,E).join(""):o.slice(0,E);if(m===b)return S+h;if(C&&(E+=S.length-E),io(m)){if(o.slice(E).search(m)){var k,L=S;for(m.global||(m=Rs(m.source,Fe(hr.exec(m))+"g")),m.lastIndex=0;k=m.exec(L);)var B=k.index;S=S.slice(0,B===b?E:B)}}else if(o.indexOf(Dn(m),E)!=E){var U=S.lastIndexOf(m);U>-1&&(S=S.slice(0,U))}return S+h},_.unescape=function _p(o){return(o=Fe(o))&&cD.test(o)?o.replace(af,xs):o},_.uniqueId=function ai(o){var l=++wD;return Fe(o)+l},_.upperCase=Av,_.upperFirst=Dl,_.each=Su,_.eachRight=X_,_.first=y_,td(_,function(){var o={};return er(_,function(l,d){Be.call(_.prototype,d)||(o[d]=l)}),o}(),{chain:!1}),_.VERSION="4.17.21",ot(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){_[o].placeholder=_}),ot(["drop","take"],function(o,l){De.prototype[o]=function(d){d=d===b?1:ut(ue(d),0);var h=this.__filtered__&&!l?new De(this):this.clone();return h.__filtered__?h.__takeCount__=jt(d,h.__takeCount__):h.__views__.push({size:jt(d,dr),type:o+(h.__dir__<0?"Right":"")}),h},De.prototype[o+"Right"]=function(d){return this.reverse()[o](d).reverse()}}),ot(["filter","map","takeWhile"],function(o,l){var d=l+1,h=1==d||3==d;De.prototype[o]=function(m){var v=this.clone();return v.__iteratees__.push({iteratee:J(m,3),type:d}),v.__filtered__=v.__filtered__||h,v}}),ot(["head","last"],function(o,l){var d="take"+(l?"Right":"");De.prototype[o]=function(){return this[d](1).value()[0]}}),ot(["initial","tail"],function(o,l){var d="drop"+(l?"":"Right");De.prototype[o]=function(){return this.__filtered__?new De(this):this[d](1)}}),De.prototype.compact=function(){return this.filter(Tn)},De.prototype.find=function(o){return this.filter(o).head()},De.prototype.findLast=function(o){return this.reverse().find(o)},De.prototype.invokeMap=_e(function(o,l){return"function"==typeof o?new De(this):this.map(function(d){return bi(d,o,l)})}),De.prototype.reject=function(o){return this.filter(Xo(J(o)))},De.prototype.slice=function(o,l){o=ue(o);var d=this;return d.__filtered__&&(o>0||l<0)?new De(d):(o<0?d=d.takeRight(-o):o&&(d=d.drop(o)),l!==b&&(d=(l=ue(l))<0?d.dropRight(-l):d.take(l-o)),d)},De.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},De.prototype.toArray=function(){return this.take(dr)},er(De.prototype,function(o,l){var d=/^(?:filter|find|map|reject)|While$/.test(l),h=/^(?:head|last)$/.test(l),m=_[h?"take"+("last"==l?"Right":""):l],v=h||/^find/.test(l);!m||(_.prototype[l]=function(){var C=this.__wrapped__,E=h?[1]:arguments,S=C instanceof De,k=E[0],L=S||le(C),B=function(Ce){var Ee=m.apply(_,Wi([Ce],E));return h&&U?Ee[0]:Ee};L&&d&&"function"==typeof k&&1!=k.length&&(S=L=!1);var U=this.__chain__,z=!!this.__actions__.length,ee=v&&!U,ge=S&&!z;if(!v&&L){C=ge?C:new De(this);var te=o.apply(C,E);return te.__actions__.push({func:ol,args:[B],thisArg:b}),new wn(te,U)}return ee&&ge?o.apply(this,E):(te=this.thru(B),ee?h?te.value()[0]:te.value():te)})}),ot(["pop","push","shift","sort","splice","unshift"],function(o){var l=bc[o],d=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",h=/^(?:pop|shift)$/.test(o);_.prototype[o]=function(){var m=arguments;if(h&&!this.__chain__){var v=this.value();return l.apply(le(v)?v:[],m)}return this[d](function(C){return l.apply(le(C)?C:[],m)})}}),er(De.prototype,function(o,l){var d=_[l];if(d){var h=d.name+"";Be.call(ks,h)||(ks[h]=[]),ks[h].push({name:l,func:d})}}),ks[rs(b,2).name]=[{name:"wrapper",func:b}],De.prototype.clone=function ae(){var o=new De(this.__wrapped__);return o.__actions__=Cn(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=Cn(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=Cn(this.__views__),o},De.prototype.reverse=function ID(){if(this.__filtered__){var o=new De(this);o.__dir__=-1,o.__filtered__=!0}else(o=this.clone()).__dir__*=-1;return o},De.prototype.value=function Rm(){var o=this.__wrapped__.value(),l=this.__dir__,d=le(o),h=l<0,m=d?o.length:0,v=function zo(o,l,d){for(var h=-1,m=d.length;++h<m;){var v=d[h],C=v.size;switch(v.type){case"drop":o+=C;break;case"dropRight":l-=C;break;case"take":l=jt(l,o+C);break;case"takeRight":o=ut(o,l-C)}}return{start:o,end:l}}(0,m,this.__views__),C=v.start,E=v.end,S=E-C,k=h?E:C-1,L=this.__iteratees__,B=L.length,U=0,z=jt(S,this.__takeCount__);if(!d||!h&&m==S&&z==S)return Km(o,this.__actions__);var ee=[];e:for(;S--&&U<z;){for(var ge=-1,te=o[k+=l];++ge<B;){var Ce=L[ge],An=Ce.type,Yt=(0,Ce.iteratee)(te);if(2==An)te=Yt;else if(!Yt){if(1==An)continue e;break e}}ee[U++]=te}return ee},_.prototype.at=V_,_.prototype.chain=function j_(){return Js(this)},_.prototype.commit=function W_(){return new wn(this.value(),this.__chain__)},_.prototype.next=function Ah(){this.__values__===b&&(this.__values__=dv(this.value()));var o=this.__index__>=this.__values__.length;return{done:o,value:o?b:this.__values__[this.__index__++]}},_.prototype.plant=function z_(o){for(var l,d=this;d instanceof Xn;){var h=mh(d);h.__index__=0,h.__values__=b,l?m.__wrapped__=h:l=h;var m=h;d=d.__wrapped__}return m.__wrapped__=o,l},_.prototype.reverse=function G_(){var o=this.__wrapped__;if(o instanceof De){var l=o;return this.__actions__.length&&(l=new De(this)),(l=l.reverse()).__actions__.push({func:ol,args:[sl],thisArg:b}),new wn(l,this.__chain__)}return this.thru(sl)},_.prototype.toJSON=_.prototype.valueOf=_.prototype.value=function K_(){return Km(this.__wrapped__,this.__actions__)},_.prototype.first=_.prototype.head,Oa&&(_.prototype[Oa]=function $_(){return this}),_}();pt._=zr,(He=function(){return zr}.call(_s,Jl,_s,kr))!==b&&(kr.exports=He)}.call(this)}},kr=>{kr(kr.s=193)}]);